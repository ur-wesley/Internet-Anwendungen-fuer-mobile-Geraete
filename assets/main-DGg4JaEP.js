(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();const lh=!1,uh=(r,e)=>r===e,ke=Symbol("solid-proxy"),Zl=typeof Proxy=="function",gs=Symbol("solid-track"),Vr={equals:uh};let Hl=Kl;const Je=1,Gr=2,$l={owned:null,cleanups:null,context:null,owner:null},ts={};var Mt=null;let es=null,ch=null,Zt=null,oe=null,qe=null,ro=0;function Zi(r,e){const i=Zt,s=Mt,l=r.length===0,u=e===void 0?s:e,h=l?$l:{owned:null,cleanups:null,context:u?u.context:null,owner:u},d=l?r:()=>r(()=>te(()=>Vi(h)));Mt=h,Zt=null;try{return Xe(d,!0)}finally{Zt=i,Mt=s}}function vt(r,e){e=e?Object.assign({},Vr,e):Vr;const i={value:r,observers:null,observerSlots:null,comparator:e.equals||void 0},s=l=>(typeof l=="function"&&(l=l(i.value)),jl(i,l));return[Wl.bind(i),s]}function hh(r,e,i){const s=oo(r,e,!0,Je);oi(s)}function le(r,e,i){const s=oo(r,e,!1,Je);oi(s)}function At(r,e,i){Hl=yh;const s=oo(r,e,!1,Je);(!i||!i.render)&&(s.user=!0),qe?qe.push(s):oi(s)}function Ht(r,e,i){i=i?Object.assign({},Vr,i):Vr;const s=oo(r,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=i.equals||void 0,oi(s),Wl.bind(s)}function dh(r){return r&&typeof r=="object"&&"then"in r}function fh(r,e,i){let s,l,u;typeof e=="function"?(s=r,l=e,u={}):(s=!0,l=r,u=e||{});let h=null,d=ts,p=!1,v="initialValue"in u,S=typeof s=="function"&&Ht(s);const g=new Set,[x,D]=(u.storage||vt)(u.initialValue),[C,E]=vt(void 0),[G,Q]=vt(void 0,{equals:!1}),[F,q]=vt(v?"ready":"unresolved");function H(B,R,z,tt){return h===B&&(h=null,tt!==void 0&&(v=!0),(B===d||R===d)&&u.onHydrated&&queueMicrotask(()=>u.onHydrated(tt,{value:R})),d=ts,k(R,z)),R}function k(B,R){Xe(()=>{R===void 0&&D(()=>B),q(R!==void 0?"errored":v?"ready":"unresolved"),E(R);for(const z of g.keys())z.decrement();g.clear()},!1)}function U(){const B=gh,R=x(),z=C();if(z!==void 0&&!h)throw z;return Zt&&Zt.user,R}function Y(B=!0){if(B!==!1&&p)return;p=!1;const R=S?S():s;if(R==null||R===!1){H(h,te(x));return}let z;const tt=d!==ts?d:te(()=>{try{return l(R,{value:x(),refetching:B})}catch(_t){z=_t}});if(z!==void 0){H(h,void 0,Hr(z),R);return}else if(!dh(tt))return H(h,tt,void 0,R),tt;return h=tt,"v"in tt?(tt.s===1?H(h,tt.v,void 0,R):H(h,void 0,Hr(tt.v),R),tt):(p=!0,queueMicrotask(()=>p=!1),Xe(()=>{q(v?"refreshing":"pending"),Q()},!1),tt.then(_t=>H(tt,_t,void 0,R),_t=>H(tt,void 0,Hr(_t),R)))}Object.defineProperties(U,{state:{get:()=>F()},error:{get:()=>C()},loading:{get(){const B=F();return B==="pending"||B==="refreshing"}},latest:{get(){if(!v)return U();const B=C();if(B&&!h)throw B;return x()}}});let N=Mt;return S?hh(()=>(N=Mt,Y(!1))):Y(!1),[U,{refetch:B=>Vl(N,()=>Y(B)),mutate:D}]}function mh(r){return Xe(r,!1)}function te(r){if(Zt===null)return r();const e=Zt;Zt=null;try{return r()}finally{Zt=e}}function Xi(r,e,i){const s=Array.isArray(r);let l,u=i&&i.defer;return h=>{let d;if(s){d=Array(r.length);for(let v=0;v<r.length;v++)d[v]=r[v]()}else d=r();if(u)return u=!1,h;const p=te(()=>e(d,l,h));return l=d,p}}function ri(r){At(()=>te(r))}function Rt(r){return Mt===null||(Mt.cleanups===null?Mt.cleanups=[r]:Mt.cleanups.push(r)),r}function _s(){return Zt}function ph(){return Mt}function Vl(r,e){const i=Mt,s=Zt;Mt=r,Zt=null;try{return Xe(e,!0)}catch(l){Os(l)}finally{Mt=i,Zt=s}}const[kp,Ip]=vt(!1);function Yi(r,e){const i=Symbol("context");return{id:i,Provider:bh(i),defaultValue:r}}function Ji(r){let e;return Mt&&Mt.context&&(e=Mt.context[r.id])!==void 0?e:r.defaultValue}function Gl(r){const e=Ht(r),i=Ht(()=>vs(e()));return i.toArray=()=>{const s=i();return Array.isArray(s)?s:s!=null?[s]:[]},i}let gh;function Wl(){if(this.sources&&this.state)if(this.state===Je)oi(this);else{const r=oe;oe=null,Xe(()=>jr(this),!1),oe=r}if(Zt){const r=this.observers?this.observers.length:0;Zt.sources?(Zt.sources.push(this),Zt.sourceSlots.push(r)):(Zt.sources=[this],Zt.sourceSlots=[r]),this.observers?(this.observers.push(Zt),this.observerSlots.push(Zt.sources.length-1)):(this.observers=[Zt],this.observerSlots=[Zt.sources.length-1])}return this.value}function jl(r,e,i){let s=r.value;return(!r.comparator||!r.comparator(s,e))&&(r.value=e,r.observers&&r.observers.length&&Xe(()=>{for(let l=0;l<r.observers.length;l+=1){const u=r.observers[l],h=es&&es.running;h&&es.disposed.has(u),(h?!u.tState:!u.state)&&(u.pure?oe.push(u):qe.push(u),u.observers&&ql(u)),h||(u.state=Je)}if(oe.length>1e6)throw oe=[],new Error},!1)),e}function oi(r){if(!r.fn)return;Vi(r);const e=ro;_h(r,r.value,e)}function _h(r,e,i){let s;const l=Mt,u=Zt;Zt=Mt=r;try{s=r.fn(e)}catch(h){return r.pure&&(r.state=Je,r.owned&&r.owned.forEach(Vi),r.owned=null),r.updatedAt=i+1,Os(h)}finally{Zt=u,Mt=l}(!r.updatedAt||r.updatedAt<=i)&&(r.updatedAt!=null&&"observers"in r?jl(r,s):r.value=s,r.updatedAt=i)}function oo(r,e,i,s=Je,l){const u={fn:r,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Mt,context:Mt?Mt.context:null,pure:i};return Mt===null||Mt!==$l&&(Mt.owned?Mt.owned.push(u):Mt.owned=[u]),u}function Wr(r){if(r.state===0)return;if(r.state===Gr)return jr(r);if(r.suspense&&te(r.suspense.inFallback))return r.suspense.effects.push(r);const e=[r];for(;(r=r.owner)&&(!r.updatedAt||r.updatedAt<ro);)r.state&&e.push(r);for(let i=e.length-1;i>=0;i--)if(r=e[i],r.state===Je)oi(r);else if(r.state===Gr){const s=oe;oe=null,Xe(()=>jr(r,e[0]),!1),oe=s}}function Xe(r,e){if(oe)return r();let i=!1;e||(oe=[]),qe?i=!0:qe=[],ro++;try{const s=r();return vh(i),s}catch(s){i||(qe=null),oe=null,Os(s)}}function vh(r){if(oe&&(Kl(oe),oe=null),r)return;const e=qe;qe=null,e.length&&Xe(()=>Hl(e),!1)}function Kl(r){for(let e=0;e<r.length;e++)Wr(r[e])}function yh(r){let e,i=0;for(e=0;e<r.length;e++){const s=r[e];s.user?r[i++]=s:Wr(s)}for(e=0;e<i;e++)Wr(r[e])}function jr(r,e){r.state=0;for(let i=0;i<r.sources.length;i+=1){const s=r.sources[i];if(s.sources){const l=s.state;l===Je?s!==e&&(!s.updatedAt||s.updatedAt<ro)&&Wr(s):l===Gr&&jr(s,e)}}}function ql(r){for(let e=0;e<r.observers.length;e+=1){const i=r.observers[e];i.state||(i.state=Gr,i.pure?oe.push(i):qe.push(i),i.observers&&ql(i))}}function Vi(r){let e;if(r.sources)for(;r.sources.length;){const i=r.sources.pop(),s=r.sourceSlots.pop(),l=i.observers;if(l&&l.length){const u=l.pop(),h=i.observerSlots.pop();s<l.length&&(u.sourceSlots[h]=s,l[s]=u,i.observerSlots[s]=h)}}if(r.tOwned){for(e=r.tOwned.length-1;e>=0;e--)Vi(r.tOwned[e]);delete r.tOwned}if(r.owned){for(e=r.owned.length-1;e>=0;e--)Vi(r.owned[e]);r.owned=null}if(r.cleanups){for(e=r.cleanups.length-1;e>=0;e--)r.cleanups[e]();r.cleanups=null}r.state=0}function Hr(r){return r instanceof Error?r:new Error(typeof r=="string"?r:"Unknown error",{cause:r})}function Os(r,e=Mt){throw Hr(r)}function vs(r){if(typeof r=="function"&&!r.length)return vs(r());if(Array.isArray(r)){const e=[];for(let i=0;i<r.length;i++){const s=vs(r[i]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return r}function bh(r,e){return function(s){let l;return le(()=>l=te(()=>(Mt.context={...Mt.context,[r]:s.value},Gl(()=>s.children))),void 0),l}}const wh=Symbol("fallback");function Na(r){for(let e=0;e<r.length;e++)r[e]()}function xh(r,e,i={}){let s=[],l=[],u=[],h=0,d=e.length>1?[]:null;return Rt(()=>Na(u)),()=>{let p=r()||[],v=p.length,S,g;return p[gs],te(()=>{let D,C,E,G,Q,F,q,H,k;if(v===0)h!==0&&(Na(u),u=[],s=[],l=[],h=0,d&&(d=[])),i.fallback&&(s=[wh],l[0]=Zi(U=>(u[0]=U,i.fallback())),h=1);else if(h===0){for(l=new Array(v),g=0;g<v;g++)s[g]=p[g],l[g]=Zi(x);h=v}else{for(E=new Array(v),G=new Array(v),d&&(Q=new Array(v)),F=0,q=Math.min(h,v);F<q&&s[F]===p[F];F++);for(q=h-1,H=v-1;q>=F&&H>=F&&s[q]===p[H];q--,H--)E[H]=l[q],G[H]=u[q],d&&(Q[H]=d[q]);for(D=new Map,C=new Array(H+1),g=H;g>=F;g--)k=p[g],S=D.get(k),C[g]=S===void 0?-1:S,D.set(k,g);for(S=F;S<=q;S++)k=s[S],g=D.get(k),g!==void 0&&g!==-1?(E[g]=l[S],G[g]=u[S],d&&(Q[g]=d[S]),g=C[g],D.set(k,g)):u[S]();for(g=F;g<v;g++)g in E?(l[g]=E[g],u[g]=G[g],d&&(d[g]=Q[g],d[g](g))):l[g]=Zi(x);l=l.slice(0,h=v),s=p.slice(0)}return l});function x(D){if(u[g]=D,d){const[C,E]=vt(g);return d[g]=E,e(p[g],C)}return e(p[g])}}}function V(r,e){return te(()=>r(e||{}))}function Or(){return!0}const ys={get(r,e,i){return e===ke?i:r.get(e)},has(r,e){return e===ke?!0:r.has(e)},set:Or,deleteProperty:Or,getOwnPropertyDescriptor(r,e){return{configurable:!0,enumerable:!0,get(){return r.get(e)},set:Or,deleteProperty:Or}},ownKeys(r){return r.keys()}};function ns(r){return(r=typeof r=="function"?r():r)?r:{}}function Sh(){for(let r=0,e=this.length;r<e;++r){const i=this[r]();if(i!==void 0)return i}}function Tt(...r){let e=!1;for(let h=0;h<r.length;h++){const d=r[h];e=e||!!d&&ke in d,r[h]=typeof d=="function"?(e=!0,Ht(d)):d}if(Zl&&e)return new Proxy({get(h){for(let d=r.length-1;d>=0;d--){const p=ns(r[d])[h];if(p!==void 0)return p}},has(h){for(let d=r.length-1;d>=0;d--)if(h in ns(r[d]))return!0;return!1},keys(){const h=[];for(let d=0;d<r.length;d++)h.push(...Object.keys(ns(r[d])));return[...new Set(h)]}},ys);const i={},s=Object.create(null);for(let h=r.length-1;h>=0;h--){const d=r[h];if(!d)continue;const p=Object.getOwnPropertyNames(d);for(let v=p.length-1;v>=0;v--){const S=p[v];if(S==="__proto__"||S==="constructor")continue;const g=Object.getOwnPropertyDescriptor(d,S);if(!s[S])s[S]=g.get?{enumerable:!0,configurable:!0,get:Sh.bind(i[S]=[g.get.bind(d)])}:g.value!==void 0?g:void 0;else{const x=i[S];x&&(g.get?x.push(g.get.bind(d)):g.value!==void 0&&x.push(()=>g.value))}}}const l={},u=Object.keys(s);for(let h=u.length-1;h>=0;h--){const d=u[h],p=s[d];p&&p.get?Object.defineProperty(l,d,p):l[d]=p?p.value:void 0}return l}function Dt(r,...e){if(Zl&&ke in r){const l=new Set(e.length>1?e.flat():e[0]),u=e.map(h=>new Proxy({get(d){return h.includes(d)?r[d]:void 0},has(d){return h.includes(d)&&d in r},keys(){return h.filter(d=>d in r)}},ys));return u.push(new Proxy({get(h){return l.has(h)?void 0:r[h]},has(h){return l.has(h)?!1:h in r},keys(){return Object.keys(r).filter(h=>!l.has(h))}},ys)),u}const i={},s=e.map(()=>({}));for(const l of Object.getOwnPropertyNames(r)){const u=Object.getOwnPropertyDescriptor(r,l),h=!u.get&&!u.set&&u.enumerable&&u.writable&&u.configurable;let d=!1,p=0;for(const v of e)v.includes(l)&&(d=!0,h?s[p][l]=u.value:Object.defineProperty(s[p],l,u)),++p;d||(h?i[l]=u.value:Object.defineProperty(i,l,u))}return[...s,i]}let Ph=0;function so(){return`cl-${Ph++}`}const Xl=r=>`Stale read from <${r}>.`;function Ch(r){const e="fallback"in r&&{fallback:()=>r.fallback};return Ht(xh(()=>r.each,r.children,e||void 0))}function re(r){const e=r.keyed,i=Ht(()=>r.when,void 0,void 0),s=e?i:Ht(i,void 0,{equals:(l,u)=>!l==!u});return Ht(()=>{const l=s();if(l){const u=r.children;return typeof u=="function"&&u.length>0?te(()=>u(e?l:()=>{if(!te(s))throw Xl("Show");return i()})):u}return r.fallback},void 0,void 0)}function Th(r){const e=Gl(()=>r.children),i=Ht(()=>{const s=e(),l=Array.isArray(s)?s:[s];let u=()=>{};for(let h=0;h<l.length;h++){const d=h,p=l[h],v=u,S=Ht(()=>v()?void 0:p.when,void 0,void 0),g=p.keyed?S:Ht(S,void 0,{equals:(x,D)=>!x==!D});u=()=>v()||(g()?[d,S,p]:void 0)}return u});return Ht(()=>{const s=i()();if(!s)return r.fallback;const[l,u,h]=s,d=h.children;return typeof d=="function"&&d.length>0?te(()=>d(h.keyed?u():()=>{if(te(i)()?.[0]!==l)throw Xl("Match");return u()})):d},void 0,void 0)}function is(r){return r}const Lh=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],kh=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...Lh]),Ih=new Set(["innerHTML","textContent","innerText","children"]),Eh=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ah=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Oh(r,e){const i=Ah[r];return typeof i=="object"?i[e]?i.$:void 0:i}const Mh=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Dh=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Bh={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},hn=r=>Ht(()=>r());function Rh(r,e,i){let s=i.length,l=e.length,u=s,h=0,d=0,p=e[l-1].nextSibling,v=null;for(;h<l||d<u;){if(e[h]===i[d]){h++,d++;continue}for(;e[l-1]===i[u-1];)l--,u--;if(l===h){const S=u<s?d?i[d-1].nextSibling:i[u-d]:p;for(;d<u;)r.insertBefore(i[d++],S)}else if(u===d)for(;h<l;)(!v||!v.has(e[h]))&&e[h].remove(),h++;else if(e[h]===i[u-1]&&i[d]===e[l-1]){const S=e[--l].nextSibling;r.insertBefore(i[d++],e[h++].nextSibling),r.insertBefore(i[--u],S),e[l]=i[u]}else{if(!v){v=new Map;let g=d;for(;g<u;)v.set(i[g],g++)}const S=v.get(e[h]);if(S!=null)if(d<S&&S<u){let g=h,x=1,D;for(;++g<l&&g<u&&!((D=v.get(e[g]))==null||D!==S+x);)x++;if(x>S-d){const C=e[h];for(;d<S;)r.insertBefore(i[d++],C)}else r.replaceChild(i[d++],e[h++])}else h++;else e[h++].remove()}}}const za="_$DX_DELEGATE";function Nh(r,e,i,s={}){let l;return Zi(u=>{l=u,e===document?r():Et(e,r(),e.firstChild?null:void 0,i)},s.owner),()=>{l(),e.textContent=""}}function Bt(r,e,i,s){let l;const u=()=>{const d=document.createElement("template");return d.innerHTML=r,d.content.firstChild},h=()=>(l||(l=u())).cloneNode(!0);return h.cloneNode=h,h}function si(r,e=window.document){const i=e[za]||(e[za]=new Set);for(let s=0,l=r.length;s<l;s++){const u=r[s];i.has(u)||(i.add(u),e.addEventListener(u,Vh))}}function ii(r,e,i){i==null?r.removeAttribute(e):r.setAttribute(e,i)}function zh(r,e,i,s){s==null?r.removeAttributeNS(e,i):r.setAttributeNS(e,i,s)}function Fh(r,e,i){i?r.setAttribute(e,""):r.removeAttribute(e)}function Mn(r,e){e==null?r.removeAttribute("class"):r.className=e}function Yl(r,e,i,s){if(s)Array.isArray(i)?(r[`$$${e}`]=i[0],r[`$$${e}Data`]=i[1]):r[`$$${e}`]=i;else if(Array.isArray(i)){const l=i[0];r.addEventListener(e,i[0]=u=>l.call(r,i[1],u))}else r.addEventListener(e,i,typeof i!="function"&&i)}function Uh(r,e,i={}){const s=Object.keys(e||{}),l=Object.keys(i);let u,h;for(u=0,h=l.length;u<h;u++){const d=l[u];!d||d==="undefined"||e[d]||(Fa(r,d,!1),delete i[d])}for(u=0,h=s.length;u<h;u++){const d=s[u],p=!!e[d];!d||d==="undefined"||i[d]===p||!p||(Fa(r,d,!0),i[d]=p)}return i}function Zh(r,e,i){if(!e)return i?ii(r,"style"):e;const s=r.style;if(typeof e=="string")return s.cssText=e;typeof i=="string"&&(s.cssText=i=void 0),i||(i={}),e||(e={});let l,u;for(u in i)e[u]==null&&s.removeProperty(u),delete i[u];for(u in e)l=e[u],l!==i[u]&&(s.setProperty(u,l),i[u]=l);return i}function Ms(r,e={},i,s){const l={};return s||le(()=>l.children=Gi(r,e.children,l.children)),le(()=>typeof e.ref=="function"&&Ds(e.ref,r)),le(()=>Hh(r,e,i,!0,l,!0)),l}function Ds(r,e,i){return te(()=>r(e,i))}function Et(r,e,i,s){if(i!==void 0&&!s&&(s=[]),typeof e!="function")return Gi(r,e,s,i);le(l=>Gi(r,e(),l,i),s)}function Hh(r,e,i,s,l={},u=!1){e||(e={});for(const h in l)if(!(h in e)){if(h==="children")continue;l[h]=Ua(r,h,null,l[h],i,u,e)}for(const h in e){if(h==="children")continue;const d=e[h];l[h]=Ua(r,h,d,l[h],i,u,e)}}function $h(r){return r.toLowerCase().replace(/-([a-z])/g,(e,i)=>i.toUpperCase())}function Fa(r,e,i){const s=e.trim().split(/\s+/);for(let l=0,u=s.length;l<u;l++)r.classList.toggle(s[l],i)}function Ua(r,e,i,s,l,u,h){let d,p,v,S,g;if(e==="style")return Zh(r,i,s);if(e==="classList")return Uh(r,i,s);if(i===s)return s;if(e==="ref")u||i(r);else if(e.slice(0,3)==="on:"){const x=e.slice(3);s&&r.removeEventListener(x,s,typeof s!="function"&&s),i&&r.addEventListener(x,i,typeof i!="function"&&i)}else if(e.slice(0,10)==="oncapture:"){const x=e.slice(10);s&&r.removeEventListener(x,s,!0),i&&r.addEventListener(x,i,!0)}else if(e.slice(0,2)==="on"){const x=e.slice(2).toLowerCase(),D=Mh.has(x);if(!D&&s){const C=Array.isArray(s)?s[0]:s;r.removeEventListener(x,C)}(D||i)&&(Yl(r,x,i,D),D&&si([x]))}else if(e.slice(0,5)==="attr:")ii(r,e.slice(5),i);else if(e.slice(0,5)==="bool:")Fh(r,e.slice(5),i);else if((g=e.slice(0,5)==="prop:")||(v=Ih.has(e))||!l&&((S=Oh(e,r.tagName))||(p=kh.has(e)))||(d=r.nodeName.includes("-")||"is"in h))g&&(e=e.slice(5),p=!0),e==="class"||e==="className"?Mn(r,i):d&&!p&&!v?r[$h(e)]=i:r[S||e]=i;else{const x=l&&e.indexOf(":")>-1&&Bh[e.split(":")[0]];x?zh(r,x,e,i):ii(r,Eh[e]||e,i)}return i}function Vh(r){let e=r.target;const i=`$$${r.type}`,s=r.target,l=r.currentTarget,u=p=>Object.defineProperty(r,"target",{configurable:!0,value:p}),h=()=>{const p=e[i];if(p&&!e.disabled){const v=e[`${i}Data`];if(v!==void 0?p.call(e,v,r):p.call(e,r),r.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(r.target)&&u(e.host),!0},d=()=>{for(;h()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(r,"currentTarget",{configurable:!0,get(){return e||document}}),r.composedPath){const p=r.composedPath();u(p[0]);for(let v=0;v<p.length-2&&(e=p[v],!!h());v++){if(e._$host){e=e._$host,d();break}if(e.parentNode===l)break}}else d();u(s)}function Gi(r,e,i,s,l){for(;typeof i=="function";)i=i();if(e===i)return i;const u=typeof e,h=s!==void 0;if(r=h&&i[0]&&i[0].parentNode||r,u==="string"||u==="number"){if(u==="number"&&(e=e.toString(),e===i))return i;if(h){let d=i[0];d&&d.nodeType===3?d.data!==e&&(d.data=e):d=document.createTextNode(e),i=Yn(r,i,s,d)}else i!==""&&typeof i=="string"?i=r.firstChild.data=e:i=r.textContent=e}else if(e==null||u==="boolean")i=Yn(r,i,s);else{if(u==="function")return le(()=>{let d=e();for(;typeof d=="function";)d=d();i=Gi(r,d,i,s)}),()=>i;if(Array.isArray(e)){const d=[],p=i&&Array.isArray(i);if(bs(d,e,i,l))return le(()=>i=Gi(r,d,i,s,!0)),()=>i;if(d.length===0){if(i=Yn(r,i,s),h)return i}else p?i.length===0?Za(r,d,s):Rh(r,i,d):(i&&Yn(r),Za(r,d));i=d}else if(e.nodeType){if(Array.isArray(i)){if(h)return i=Yn(r,i,s,e);Yn(r,i,null,e)}else i==null||i===""||!r.firstChild?r.appendChild(e):r.replaceChild(e,r.firstChild);i=e}}return i}function bs(r,e,i,s){let l=!1;for(let u=0,h=e.length;u<h;u++){let d=e[u],p=i&&i[r.length],v;if(!(d==null||d===!0||d===!1))if((v=typeof d)=="object"&&d.nodeType)r.push(d);else if(Array.isArray(d))l=bs(r,d,p)||l;else if(v==="function")if(s){for(;typeof d=="function";)d=d();l=bs(r,Array.isArray(d)?d:[d],Array.isArray(p)?p:[p])||l}else r.push(d),l=!0;else{const S=String(d);p&&p.nodeType===3&&p.data===S?r.push(p):r.push(document.createTextNode(S))}}return l}function Za(r,e,i=null){for(let s=0,l=e.length;s<l;s++)r.insertBefore(e[s],i)}function Yn(r,e,i,s){if(i===void 0)return r.textContent="";const l=s||document.createTextNode("");if(e.length){let u=!1;for(let h=e.length-1;h>=0;h--){const d=e[h];if(l!==d){const p=d.parentNode===r;!u&&!h?p?r.replaceChild(l,d):r.insertBefore(l,i):p&&d.remove()}else u=!0}}else r.insertBefore(l,i);return[l]}const Gh="http://www.w3.org/2000/svg";function Jl(r,e=!1){return e?document.createElementNS(Gh,r):document.createElement(r)}function Wh(r){const{useShadow:e}=r,i=document.createTextNode(""),s=()=>r.mount||document.body,l=ph();let u;return At(()=>{u||(u=Vl(l,()=>Ht(()=>r.children)));const h=s();if(h instanceof HTMLHeadElement){const[d,p]=vt(!1),v=()=>p(!0);Zi(S=>Et(h,()=>d()?S():u(),null)),Rt(v)}else{const d=Jl(r.isSVG?"g":"div",r.isSVG),p=e&&d.attachShadow?d.attachShadow({mode:"open"}):d;Object.defineProperty(d,"_$host",{get(){return i.parentNode},configurable:!0}),Et(p,u),h.appendChild(d),r.ref&&r.ref(d),Rt(()=>h.removeChild(d))}},void 0,{render:!0}),i}function jh(r,e){const i=Ht(r);return Ht(()=>{const s=i();switch(typeof s){case"function":return te(()=>s(e));case"string":const l=Dh.has(s),u=Jl(s,l);return Ms(u,e,l),u}})}function Kh(r){const[,e]=Dt(r,["component"]);return jh(()=>r.component,e)}function Ql(r){var e,i,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(e=0;e<l;e++)r[e]&&(i=Ql(r[e]))&&(s&&(s+=" "),s+=i)}else for(i in r)r[i]&&(s&&(s+=" "),s+=i);return s}function tu(){for(var r,e,i=0,s="",l=arguments.length;i<l;i++)(r=arguments[i])&&(e=Ql(r))&&(s&&(s+=" "),s+=e);return s}const Bs="-",qh=r=>{const e=Yh(r),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:h=>{const d=h.split(Bs);return d[0]===""&&d.length!==1&&d.shift(),eu(d,e)||Xh(h)},getConflictingClassGroupIds:(h,d)=>{const p=i[h]||[];return d&&s[h]?[...p,...s[h]]:p}}},eu=(r,e)=>{if(r.length===0)return e.classGroupId;const i=r[0],s=e.nextPart.get(i),l=s?eu(r.slice(1),s):void 0;if(l)return l;if(e.validators.length===0)return;const u=r.join(Bs);return e.validators.find(({validator:h})=>h(u))?.classGroupId},Ha=/^\[(.+)\]$/,Xh=r=>{if(Ha.test(r)){const e=Ha.exec(r)[1],i=e?.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},Yh=r=>{const{theme:e,classGroups:i}=r,s={nextPart:new Map,validators:[]};for(const l in i)ws(i[l],s,l,e);return s},ws=(r,e,i,s)=>{r.forEach(l=>{if(typeof l=="string"){const u=l===""?e:$a(e,l);u.classGroupId=i;return}if(typeof l=="function"){if(Jh(l)){ws(l(s),e,i,s);return}e.validators.push({validator:l,classGroupId:i});return}Object.entries(l).forEach(([u,h])=>{ws(h,$a(e,u),i,s)})})},$a=(r,e)=>{let i=r;return e.split(Bs).forEach(s=>{i.nextPart.has(s)||i.nextPart.set(s,{nextPart:new Map,validators:[]}),i=i.nextPart.get(s)}),i},Jh=r=>r.isThemeGetter,Qh=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,i=new Map,s=new Map;const l=(u,h)=>{i.set(u,h),e++,e>r&&(e=0,s=i,i=new Map)};return{get(u){let h=i.get(u);if(h!==void 0)return h;if((h=s.get(u))!==void 0)return l(u,h),h},set(u,h){i.has(u)?i.set(u,h):l(u,h)}}},xs="!",Ss=":",td=Ss.length,ed=r=>{const{prefix:e,experimentalParseClassName:i}=r;let s=l=>{const u=[];let h=0,d=0,p=0,v;for(let C=0;C<l.length;C++){let E=l[C];if(h===0&&d===0){if(E===Ss){u.push(l.slice(p,C)),p=C+td;continue}if(E==="/"){v=C;continue}}E==="["?h++:E==="]"?h--:E==="("?d++:E===")"&&d--}const S=u.length===0?l:l.substring(p),g=nd(S),x=g!==S,D=v&&v>p?v-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:D}};if(e){const l=e+Ss,u=s;s=h=>h.startsWith(l)?u(h.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(i){const l=s;s=u=>i({className:u,parseClassName:l})}return s},nd=r=>r.endsWith(xs)?r.substring(0,r.length-1):r.startsWith(xs)?r.substring(1):r,id=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const l=[];let u=[];return s.forEach(h=>{h[0]==="["||e[h]?(l.push(...u.sort(),h),u=[]):u.push(h)}),l.push(...u.sort()),l}},rd=r=>({cache:Qh(r.cacheSize),parseClassName:ed(r),sortModifiers:id(r),...qh(r)}),od=/\s+/,sd=(r,e)=>{const{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:u}=e,h=[],d=r.trim().split(od);let p="";for(let v=d.length-1;v>=0;v-=1){const S=d[v],{isExternal:g,modifiers:x,hasImportantModifier:D,baseClassName:C,maybePostfixModifierPosition:E}=i(S);if(g){p=S+(p.length>0?" "+p:p);continue}let G=!!E,Q=s(G?C.substring(0,E):C);if(!Q){if(!G){p=S+(p.length>0?" "+p:p);continue}if(Q=s(C),!Q){p=S+(p.length>0?" "+p:p);continue}G=!1}const F=u(x).join(":"),q=D?F+xs:F,H=q+Q;if(h.includes(H))continue;h.push(H);const k=l(Q,G);for(let U=0;U<k.length;++U){const Y=k[U];h.push(q+Y)}p=S+(p.length>0?" "+p:p)}return p};function ad(){let r=0,e,i,s="";for(;r<arguments.length;)(e=arguments[r++])&&(i=nu(e))&&(s&&(s+=" "),s+=i);return s}const nu=r=>{if(typeof r=="string")return r;let e,i="";for(let s=0;s<r.length;s++)r[s]&&(e=nu(r[s]))&&(i&&(i+=" "),i+=e);return i};function ld(r,...e){let i,s,l,u=h;function h(p){const v=e.reduce((S,g)=>g(S),r());return i=rd(v),s=i.cache.get,l=i.cache.set,u=d,d(p)}function d(p){const v=s(p);if(v)return v;const S=sd(p,i);return l(p,S),S}return function(){return u(ad.apply(null,arguments))}}const qt=r=>{const e=i=>i[r]||[];return e.isThemeGetter=!0,e},iu=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ru=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ud=/^\d+\/\d+$/,cd=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hd=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dd=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fd=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,md=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=r=>ud.test(r),St=r=>!!r&&!Number.isNaN(Number(r)),on=r=>!!r&&Number.isInteger(Number(r)),rs=r=>r.endsWith("%")&&St(r.slice(0,-1)),He=r=>cd.test(r),pd=()=>!0,gd=r=>hd.test(r)&&!dd.test(r),ou=()=>!1,_d=r=>fd.test(r),vd=r=>md.test(r),yd=r=>!ot(r)&&!st(r),bd=r=>ai(r,lu,ou),ot=r=>iu.test(r),Ln=r=>ai(r,uu,gd),os=r=>ai(r,Cd,St),Va=r=>ai(r,su,ou),wd=r=>ai(r,au,vd),Mr=r=>ai(r,cu,_d),st=r=>ru.test(r),Oi=r=>li(r,uu),xd=r=>li(r,Td),Ga=r=>li(r,su),Sd=r=>li(r,lu),Pd=r=>li(r,au),Dr=r=>li(r,cu,!0),ai=(r,e,i)=>{const s=iu.exec(r);return s?s[1]?e(s[1]):i(s[2]):!1},li=(r,e,i=!1)=>{const s=ru.exec(r);return s?s[1]?e(s[1]):i:!1},su=r=>r==="position"||r==="percentage",au=r=>r==="image"||r==="url",lu=r=>r==="length"||r==="size"||r==="bg-size",uu=r=>r==="length",Cd=r=>r==="number",Td=r=>r==="family-name",cu=r=>r==="shadow",Ld=()=>{const r=qt("color"),e=qt("font"),i=qt("text"),s=qt("font-weight"),l=qt("tracking"),u=qt("leading"),h=qt("breakpoint"),d=qt("container"),p=qt("spacing"),v=qt("radius"),S=qt("shadow"),g=qt("inset-shadow"),x=qt("text-shadow"),D=qt("drop-shadow"),C=qt("blur"),E=qt("perspective"),G=qt("aspect"),Q=qt("ease"),F=qt("animate"),q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...H(),st,ot],U=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],N=()=>[st,ot,p],B=()=>[Jn,"full","auto",...N()],R=()=>[on,"none","subgrid",st,ot],z=()=>["auto",{span:["full",on,st,ot]},on,st,ot],tt=()=>[on,"auto",st,ot],_t=()=>["auto","min","max","fr",st,ot],wt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$t=()=>["start","end","center","stretch","center-safe","end-safe"],Lt=()=>["auto",...N()],it=()=>[Jn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],$=()=>[r,st,ot],O=()=>[...H(),Ga,Va,{position:[st,ot]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],nt=()=>["auto","cover","contain",Sd,bd,{size:[st,ot]}],ft=()=>[rs,Oi,Ln],lt=()=>["","none","full",v,st,ot],ut=()=>["",St,Oi,Ln],yt=()=>["solid","dashed","dotted","double"],pt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xt=()=>[St,rs,Ga,Va],ee=()=>["","none",C,st,ot],_e=()=>["none",St,st,ot],de=()=>["none",St,st,ot],Be=()=>[St,st,ot],ve=()=>[Jn,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[He],breakpoint:[He],color:[pd],container:[He],"drop-shadow":[He],ease:["in","out","in-out"],font:[yd],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[He],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[He],shadow:[He],spacing:["px",St],text:[He],"text-shadow":[He],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jn,ot,st,G]}],container:["container"],columns:[{columns:[St,ot,st,d]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[on,"auto",st,ot]}],basis:[{basis:[Jn,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,Jn,"auto","initial","none",ot]}],grow:[{grow:["",St,st,ot]}],shrink:[{shrink:["",St,st,ot]}],order:[{order:[on,"first","last","none",st,ot]}],"grid-cols":[{"grid-cols":R()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":tt()}],"col-end":[{"col-end":tt()}],"grid-rows":[{"grid-rows":R()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":tt()}],"row-end":[{"row-end":tt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":_t()}],"auto-rows":[{"auto-rows":_t()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...wt(),"normal"]}],"justify-items":[{"justify-items":[...$t(),"normal"]}],"justify-self":[{"justify-self":["auto",...$t()]}],"align-content":[{content:["normal",...wt()]}],"align-items":[{items:[...$t(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$t(),{baseline:["","last"]}]}],"place-content":[{"place-content":wt()}],"place-items":[{"place-items":[...$t(),"baseline"]}],"place-self":[{"place-self":["auto",...$t()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:Lt()}],mx:[{mx:Lt()}],my:[{my:Lt()}],ms:[{ms:Lt()}],me:[{me:Lt()}],mt:[{mt:Lt()}],mr:[{mr:Lt()}],mb:[{mb:Lt()}],ml:[{ml:Lt()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:it()}],w:[{w:[d,"screen",...it()]}],"min-w":[{"min-w":[d,"screen","none",...it()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[h]},...it()]}],h:[{h:["screen","lh",...it()]}],"min-h":[{"min-h":["screen","lh","none",...it()]}],"max-h":[{"max-h":["screen","lh",...it()]}],"font-size":[{text:["base",i,Oi,Ln]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,st,os]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",rs,ot]}],"font-family":[{font:[xd,ot,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,st,ot]}],"line-clamp":[{"line-clamp":[St,"none",st,os]}],leading:[{leading:[u,...N()]}],"list-image":[{"list-image":["none",st,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...yt(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",st,Ln]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[St,"auto",st,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:nt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},on,st,ot],radial:["",st,ot],conic:[on,st,ot]},Pd,wd]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ft()}],"gradient-via-pos":[{via:ft()}],"gradient-to-pos":[{to:ft()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:lt()}],"rounded-s":[{"rounded-s":lt()}],"rounded-e":[{"rounded-e":lt()}],"rounded-t":[{"rounded-t":lt()}],"rounded-r":[{"rounded-r":lt()}],"rounded-b":[{"rounded-b":lt()}],"rounded-l":[{"rounded-l":lt()}],"rounded-ss":[{"rounded-ss":lt()}],"rounded-se":[{"rounded-se":lt()}],"rounded-ee":[{"rounded-ee":lt()}],"rounded-es":[{"rounded-es":lt()}],"rounded-tl":[{"rounded-tl":lt()}],"rounded-tr":[{"rounded-tr":lt()}],"rounded-br":[{"rounded-br":lt()}],"rounded-bl":[{"rounded-bl":lt()}],"border-w":[{border:ut()}],"border-w-x":[{"border-x":ut()}],"border-w-y":[{"border-y":ut()}],"border-w-s":[{"border-s":ut()}],"border-w-e":[{"border-e":ut()}],"border-w-t":[{"border-t":ut()}],"border-w-r":[{"border-r":ut()}],"border-w-b":[{"border-b":ut()}],"border-w-l":[{"border-l":ut()}],"divide-x":[{"divide-x":ut()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ut()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...yt(),"hidden","none"]}],"divide-style":[{divide:[...yt(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...yt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,st,ot]}],"outline-w":[{outline:["",St,Oi,Ln]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",S,Dr,Mr]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,Dr,Mr]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ut()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[St,Ln]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ut()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,Dr,Mr]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[St,st,ot]}],"mix-blend":[{"mix-blend":[...pt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":xt()}],"mask-image-linear-to-pos":[{"mask-linear-to":xt()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":xt()}],"mask-image-t-to-pos":[{"mask-t-to":xt()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":xt()}],"mask-image-r-to-pos":[{"mask-r-to":xt()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":xt()}],"mask-image-b-to-pos":[{"mask-b-to":xt()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":xt()}],"mask-image-l-to-pos":[{"mask-l-to":xt()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":xt()}],"mask-image-x-to-pos":[{"mask-x-to":xt()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":xt()}],"mask-image-y-to-pos":[{"mask-y-to":xt()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[st,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":xt()}],"mask-image-radial-to-pos":[{"mask-radial-to":xt()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":xt()}],"mask-image-conic-to-pos":[{"mask-conic-to":xt()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:nt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,ot]}],filter:[{filter:["","none",st,ot]}],blur:[{blur:ee()}],brightness:[{brightness:[St,st,ot]}],contrast:[{contrast:[St,st,ot]}],"drop-shadow":[{"drop-shadow":["","none",D,Dr,Mr]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",St,st,ot]}],"hue-rotate":[{"hue-rotate":[St,st,ot]}],invert:[{invert:["",St,st,ot]}],saturate:[{saturate:[St,st,ot]}],sepia:[{sepia:["",St,st,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",st,ot]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[St,st,ot]}],"backdrop-contrast":[{"backdrop-contrast":[St,st,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,st,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,st,ot]}],"backdrop-invert":[{"backdrop-invert":["",St,st,ot]}],"backdrop-opacity":[{"backdrop-opacity":[St,st,ot]}],"backdrop-saturate":[{"backdrop-saturate":[St,st,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",St,st,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",st,ot]}],ease:[{ease:["linear","initial",Q,st,ot]}],delay:[{delay:[St,st,ot]}],animate:[{animate:["none",F,st,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,st,ot]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:_e()}],"rotate-x":[{"rotate-x":_e()}],"rotate-y":[{"rotate-y":_e()}],"rotate-z":[{"rotate-z":_e()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[st,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ve()}],"translate-x":[{"translate-x":ve()}],"translate-y":[{"translate-y":ve()}],"translate-z":[{"translate-z":ve()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,ot]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[St,Oi,Ln,os]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kd=ld(Ld),ue=(...r)=>kd(tu(r)),Id=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Wa(r){const e={};let i;for(;i=Id.exec(r);)e[i[1]]=i[2];return e}function Ed(r,e){if(typeof r=="string"){if(typeof e=="string")return`${r};${e}`;r=Wa(r)}else typeof e=="string"&&(e=Wa(e));return{...r,...e}}function Ad(r){return(...e)=>{for(const i of r)i&&i(...e)}}function fn(...r){return Ad(r)}const Ot=r=>typeof r=="function"&&!r.length?r():r;function Od(r,...e){return typeof r=="function"?r(...e):r}function ja(r,e){const i=[...r],s=i.indexOf(e);return s!==-1&&i.splice(s,1),i}function Md(r){return Object.prototype.toString.call(r)==="[object String]"}function Dd(r){return typeof r=="function"}function Rs(r){return e=>`${r()}-${e}`}function Ke(r,e){return r?r===e||r.contains(e):!1}function zi(r,e=!1){const{activeElement:i}=dn(r);if(!i?.nodeName)return null;if(hu(i)&&i.contentDocument)return zi(i.contentDocument.body,e);if(e){const s=i.getAttribute("aria-activedescendant");if(s){const l=dn(i).getElementById(s);if(l)return l}}return i}function dn(r){return r?r.ownerDocument||r:document}function hu(r){return r.tagName==="IFRAME"}var du=(r=>(r.Escape="Escape",r.Enter="Enter",r.Tab="Tab",r.Space=" ",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.ArrowUp="ArrowUp",r.End="End",r.Home="Home",r.PageDown="PageDown",r.PageUp="PageUp",r))(du||{});function Bd(r){return typeof window<"u"&&window.navigator!=null?r.test(window.navigator.userAgentData?.platform||window.navigator.platform):!1}function Rd(){return Bd(/^Mac/i)}function ao(r,e){return e&&(Dd(e)?e(r):e[0](e[1],r)),r?.defaultPrevented}function Kr(r){return e=>{for(const i of r)ao(e,i)}}function Nd(r){return Rd()?r.metaKey&&!r.ctrlKey:r.ctrlKey&&!r.metaKey}function Ge(r){if(r)if(zd())r.focus({preventScroll:!0});else{const e=Fd(r);r.focus(),Ud(e)}}var Br=null;function zd(){if(Br==null){Br=!1;try{document.createElement("div").focus({get preventScroll(){return Br=!0,!0}})}catch{}}return Br}function Fd(r){let e=r.parentNode;const i=[],s=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==s;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&i.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return s instanceof HTMLElement&&i.push({element:s,scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),i}function Ud(r){for(const{element:e,scrollTop:i,scrollLeft:s}of r)e.scrollTop=i,e.scrollLeft=s}var Zd=["input:not([type='hidden']):not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","[tabindex]","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]:not([contenteditable='false'])"],fu=`${Zd.join(":not([hidden]),")},[tabindex]:not([disabled]):not([hidden])`;function mu(r,e){const s=Array.from(r.querySelectorAll(fu)).filter(Ka);return e&&Ka(r)&&s.unshift(r),s.forEach((l,u)=>{if(hu(l)&&l.contentDocument){const h=l.contentDocument.body,d=mu(h,!1);s.splice(u,1,...d)}}),s}function Ka(r){return pu(r)&&!Hd(r)}function pu(r){return r.matches(fu)&&gu(r)}function Hd(r){return Number.parseInt(r.getAttribute("tabindex")||"0",10)<0}function gu(r,e){return r.nodeName!=="#comment"&&$d(r)&&Vd(r,e)&&(!r.parentElement||gu(r.parentElement,r))}function $d(r){if(!(r instanceof HTMLElement)&&!(r instanceof SVGElement))return!1;const{display:e,visibility:i}=r.style;let s=e!=="none"&&i!=="hidden"&&i!=="collapse";if(s){if(!r.ownerDocument.defaultView)return s;const{getComputedStyle:l}=r.ownerDocument.defaultView,{display:u,visibility:h}=l(r);s=u!=="none"&&h!=="hidden"&&h!=="collapse"}return s}function Vd(r,e){return!r.hasAttribute("hidden")&&(r.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?r.hasAttribute("open"):!0)}function Gd(){}function pe(r,e){return Tt(r,e)}var Mi=new Map,qa=new Set;function Xa(){if(typeof window>"u")return;const r=i=>{if(!i.target)return;let s=Mi.get(i.target);s||(s=new Set,Mi.set(i.target,s),i.target.addEventListener("transitioncancel",e)),s.add(i.propertyName)},e=i=>{if(!i.target)return;const s=Mi.get(i.target);if(s&&(s.delete(i.propertyName),s.size===0&&(i.target.removeEventListener("transitioncancel",e),Mi.delete(i.target)),Mi.size===0)){for(const l of qa)l();qa.clear()}};document.body.addEventListener("transitionrun",r),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?Xa():document.addEventListener("DOMContentLoaded",Xa));var Wd={border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:"0",position:"absolute",width:"1px","white-space":"nowrap"},qr="data-kb-top-layer",_u,Ps=!1,Ye=[];function Wi(r){return Ye.findIndex(e=>e.node===r)}function jd(r){return Ye[Wi(r)]}function Kd(r){return Ye[Ye.length-1].node===r}function vu(){return Ye.filter(r=>r.isPointerBlocking)}function qd(){return[...vu()].slice(-1)[0]}function Ns(){return vu().length>0}function yu(r){const e=Wi(qd()?.node);return Wi(r)<e}function Xd(r){Ye.push(r)}function Yd(r){const e=Wi(r);e<0||Ye.splice(e,1)}function Jd(){for(const{node:r}of Ye)r.style.pointerEvents=yu(r)?"none":"auto"}function Qd(r){if(Ns()&&!Ps){const e=dn(r);_u=document.body.style.pointerEvents,e.body.style.pointerEvents="none",Ps=!0}}function tf(r){if(Ns())return;const e=dn(r);e.body.style.pointerEvents=_u,e.body.style.length===0&&e.body.removeAttribute("style"),Ps=!1}var me={layers:Ye,isTopMostLayer:Kd,hasPointerBlockingLayer:Ns,isBelowPointerBlockingLayer:yu,addLayer:Xd,removeLayer:Yd,indexOf:Wi,find:jd,assignPointerEventToLayers:Jd,disableBodyPointerEvents:Qd,restoreBodyPointerEvents:tf},ss="focusScope.autoFocusOnMount",as="focusScope.autoFocusOnUnmount",Ya={bubbles:!1,cancelable:!0},Ja={stack:[],active(){return this.stack[0]},add(r){r!==this.active()&&this.active()?.pause(),this.stack=ja(this.stack,r),this.stack.unshift(r)},remove(r){this.stack=ja(this.stack,r),this.active()?.resume()}};function ef(r,e){const[i,s]=vt(!1),l={pause(){s(!0)},resume(){s(!1)}};let u=null;const h=C=>r.onMountAutoFocus?.(C),d=C=>r.onUnmountAutoFocus?.(C),p=()=>dn(e()),v=()=>{const C=p().createElement("span");return C.setAttribute("data-focus-trap",""),C.tabIndex=0,Object.assign(C.style,Wd),C},S=()=>{const C=e();return C?mu(C,!0).filter(E=>!E.hasAttribute("data-focus-trap")):[]},g=()=>{const C=S();return C.length>0?C[0]:null},x=()=>{const C=S();return C.length>0?C[C.length-1]:null},D=()=>{const C=e();if(!C)return!1;const E=zi(C);return!E||Ke(C,E)?!1:pu(E)};At(()=>{const C=e();if(!C)return;Ja.add(l);const E=zi(C);if(!Ke(C,E)){const Q=new CustomEvent(ss,Ya);C.addEventListener(ss,h),C.dispatchEvent(Q),Q.defaultPrevented||setTimeout(()=>{Ge(g()),zi(C)===E&&Ge(C)},0)}Rt(()=>{C.removeEventListener(ss,h),setTimeout(()=>{const Q=new CustomEvent(as,Ya);D()&&Q.preventDefault(),C.addEventListener(as,d),C.dispatchEvent(Q),Q.defaultPrevented||Ge(E??p().body),C.removeEventListener(as,d),Ja.remove(l)},0)})}),At(()=>{const C=e();if(!C||!Ot(r.trapFocus)||i())return;const E=Q=>{const F=Q.target;F?.closest(`[${qr}]`)||(Ke(C,F)?u=F:Ge(u))},G=Q=>{const q=Q.relatedTarget??zi(C);q?.closest(`[${qr}]`)||Ke(C,q)||Ge(u)};p().addEventListener("focusin",E),p().addEventListener("focusout",G),Rt(()=>{p().removeEventListener("focusin",E),p().removeEventListener("focusout",G)})}),At(()=>{const C=e();if(!C||!Ot(r.trapFocus)||i())return;const E=v();C.insertAdjacentElement("afterbegin",E);const G=v();C.insertAdjacentElement("beforeend",G);function Q(q){const H=g(),k=x();q.relatedTarget===H?Ge(k):Ge(H)}E.addEventListener("focusin",Q),G.addEventListener("focusin",Q);const F=new MutationObserver(q=>{for(const H of q)H.previousSibling===G&&(G.remove(),C.insertAdjacentElement("beforeend",G)),H.nextSibling===E&&(E.remove(),C.insertAdjacentElement("afterbegin",E))});F.observe(C,{childList:!0,subtree:!1}),Rt(()=>{E.removeEventListener("focusin",Q),G.removeEventListener("focusin",Q),E.remove(),G.remove(),F.disconnect()})})}var nf="data-live-announcer";function rf(r){At(()=>{Ot(r.isDisabled)||Rt(of(Ot(r.targets),Ot(r.root)))})}var Di=new WeakMap,we=[];function of(r,e=document.body){const i=new Set(r),s=new Set,l=p=>{for(const x of p.querySelectorAll(`[${nf}], [${qr}]`))i.add(x);const v=x=>{if(i.has(x)||x.parentElement&&s.has(x.parentElement)&&x.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(const D of i)if(x.contains(D))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},S=document.createTreeWalker(p,NodeFilter.SHOW_ELEMENT,{acceptNode:v}),g=v(p);if(g===NodeFilter.FILTER_ACCEPT&&u(p),g!==NodeFilter.FILTER_REJECT){let x=S.nextNode();for(;x!=null;)u(x),x=S.nextNode()}},u=p=>{const v=Di.get(p)??0;p.getAttribute("aria-hidden")==="true"&&v===0||(v===0&&p.setAttribute("aria-hidden","true"),s.add(p),Di.set(p,v+1))};we.length&&we[we.length-1].disconnect(),l(e);const h=new MutationObserver(p=>{for(const v of p)if(!(v.type!=="childList"||v.addedNodes.length===0)&&![...i,...s].some(S=>S.contains(v.target))){for(const S of v.removedNodes)S instanceof Element&&(i.delete(S),s.delete(S));for(const S of v.addedNodes)(S instanceof HTMLElement||S instanceof SVGElement)&&(S.dataset.liveAnnouncer==="true"||S.dataset.reactAriaTopLayer==="true")?i.add(S):S instanceof Element&&l(S)}});h.observe(e,{childList:!0,subtree:!0});const d={observe(){h.observe(e,{childList:!0,subtree:!0})},disconnect(){h.disconnect()}};return we.push(d),()=>{h.disconnect();for(const p of s){const v=Di.get(p);if(v==null)return;v===1?(p.removeAttribute("aria-hidden"),Di.delete(p)):Di.set(p,v-1)}d===we[we.length-1]?(we.pop(),we.length&&we[we.length-1].observe()):we.splice(we.indexOf(d),1)}}var Qa="interactOutside.pointerDownOutside",tl="interactOutside.focusOutside";function sf(r,e){let i,s=Gd;const l=()=>dn(e()),u=g=>r.onPointerDownOutside?.(g),h=g=>r.onFocusOutside?.(g),d=g=>r.onInteractOutside?.(g),p=g=>{const x=g.target;return!(x instanceof HTMLElement)||x.closest(`[${qr}]`)||!Ke(l(),x)||Ke(e(),x)?!1:!r.shouldExcludeElement?.(x)},v=g=>{function x(){const D=e(),C=g.target;if(!D||!C||!p(g))return;const E=Kr([u,d]);C.addEventListener(Qa,E,{once:!0});const G=new CustomEvent(Qa,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,isContextMenu:g.button===2||Nd(g)&&g.button===0}});C.dispatchEvent(G)}g.pointerType==="touch"?(l().removeEventListener("click",x),s=x,l().addEventListener("click",x,{once:!0})):x()},S=g=>{const x=e(),D=g.target;if(!x||!D||!p(g))return;const C=Kr([h,d]);D.addEventListener(tl,C,{once:!0});const E=new CustomEvent(tl,{bubbles:!1,cancelable:!0,detail:{originalEvent:g,isContextMenu:!1}});D.dispatchEvent(E)};At(()=>{Ot(r.isDisabled)||(i=window.setTimeout(()=>{l().addEventListener("pointerdown",v,!0)},0),l().addEventListener("focusin",S,!0),Rt(()=>{window.clearTimeout(i),l().removeEventListener("click",s),l().removeEventListener("pointerdown",v,!0),l().removeEventListener("focusin",S,!0)}))})}function af(r){const e=i=>{i.key===du.Escape&&r.onEscapeKeyDown?.(i)};At(()=>{if(Ot(r.isDisabled))return;const i=r.ownerDocument?.()??dn();i.addEventListener("keydown",e),Rt(()=>{i.removeEventListener("keydown",e)})})}function ge(r){const[e,i]=Dt(r,["as"]);if(!e.as)throw new Error("[kobalte]: Polymorphic is missing the required `as` prop.");return V(Kh,Tt(i,{get component(){return e.as}}))}var bu=Yi();function lf(){return Ji(bu)}function uf(r){let e;const i=lf(),[s,l]=Dt(r,["ref","disableOutsidePointerEvents","excludedElements","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","bypassTopMostLayerCheck"]),u=new Set([]),h=g=>{u.add(g);const x=i?.registerNestedLayer(g);return()=>{u.delete(g),x?.()}};sf({shouldExcludeElement:g=>e?s.excludedElements?.some(x=>Ke(x(),g))||[...u].some(x=>Ke(x,g)):!1,onPointerDownOutside:g=>{!e||me.isBelowPointerBlockingLayer(e)||!s.bypassTopMostLayerCheck&&!me.isTopMostLayer(e)||(s.onPointerDownOutside?.(g),s.onInteractOutside?.(g),g.defaultPrevented||s.onDismiss?.())},onFocusOutside:g=>{s.onFocusOutside?.(g),s.onInteractOutside?.(g),g.defaultPrevented||s.onDismiss?.()}},()=>e),af({ownerDocument:()=>dn(e),onEscapeKeyDown:g=>{!e||!me.isTopMostLayer(e)||(s.onEscapeKeyDown?.(g),!g.defaultPrevented&&s.onDismiss&&(g.preventDefault(),s.onDismiss()))}}),ri(()=>{if(!e)return;me.addLayer({node:e,isPointerBlocking:s.disableOutsidePointerEvents,dismiss:s.onDismiss});const g=i?.registerNestedLayer(e);me.assignPointerEventToLayers(),me.disableBodyPointerEvents(e),Rt(()=>{e&&(me.removeLayer(e),g?.(),me.assignPointerEventToLayers(),me.restoreBodyPointerEvents(e))})}),At(Xi([()=>e,()=>s.disableOutsidePointerEvents],([g,x])=>{if(!g)return;const D=me.find(g);D&&D.isPointerBlocking!==x&&(D.isPointerBlocking=x,me.assignPointerEventToLayers()),x&&me.disableBodyPointerEvents(g),Rt(()=>{me.restoreBodyPointerEvents(g)})},{defer:!0}));const S={registerNestedLayer:h};return V(bu.Provider,{value:S,get children(){return V(ge,Tt({as:"div",ref(g){var x=fn(D=>e=D,s.ref);typeof x=="function"&&x(g)}},l))}})}function wu(r){const[e,i]=vt(r.defaultValue?.()),s=Ht(()=>r.value?.()!==void 0),l=Ht(()=>s()?r.value?.():e());return[l,h=>{te(()=>{const d=Od(h,l());return Object.is(d,l())||(s()||i(d),r.onChange?.(d)),d})}]}function cf(r){const[e,i]=wu(r);return[()=>e()??!1,i]}function hf(r={}){const[e,i]=cf({value:()=>Ot(r.open),defaultValue:()=>!!Ot(r.defaultOpen),onChange:h=>r.onOpenChange?.(h)}),s=()=>{i(!0)},l=()=>{i(!1)};return{isOpen:e,setIsOpen:i,open:s,close:l,toggle:()=>{e()?l():s()}}}function xu(r,e){const[i,s]=vt(el(e?.()));return At(()=>{s(r()?.tagName.toLowerCase()||el(e?.()))}),i}function el(r){return Md(r)?r:void 0}var df=Object.defineProperty,lo=(r,e)=>{for(var i in e)df(r,i,{get:e[i],enumerable:!0})},ff={};lo(ff,{Button:()=>Su,Root:()=>uo});var mf=["button","color","file","image","reset","submit"];function pf(r){const e=r.tagName.toLowerCase();return e==="button"?!0:e==="input"&&r.type?mf.indexOf(r.type)!==-1:!1}function uo(r){let e;const i=pe({type:"button"},r),[s,l]=Dt(i,["ref","type","disabled"]),u=xu(()=>e,()=>"button"),h=Ht(()=>{const v=u();return v==null?!1:pf({tagName:v,type:s.type})}),d=Ht(()=>u()==="input"),p=Ht(()=>u()==="a"&&e?.getAttribute("href")!=null);return V(ge,Tt({as:"button",ref(v){var S=fn(g=>e=g,s.ref);typeof S=="function"&&S(v)},get type(){return h()||d()?s.type:void 0},get role(){return!h()&&!p()?"button":void 0},get tabIndex(){return!h()&&!p()&&!s.disabled?0:void 0},get disabled(){return h()||d()?s.disabled:void 0},get"aria-disabled"(){return!h()&&!d()&&s.disabled?!0:void 0},get"data-disabled"(){return s.disabled?"":void 0}},l))}var Su=uo;function kn(r){return e=>(r(e),()=>r(void 0))}var ie=r=>typeof r=="function"?r():r,Cs=(r,e)=>{if(r.contains(e))return!0;let i=e;for(;i;){if(i===r)return!0;i=i._$host??i.parentElement}return!1},Rr=new Map,gf=r=>{At(()=>{const e=ie(r.style)??{},i=ie(r.properties)??[],s={};for(const u in e)s[u]=r.element.style[u];const l=Rr.get(r.key);l?l.activeCount++:Rr.set(r.key,{activeCount:1,originalStyles:s,properties:i.map(u=>u.key)}),Object.assign(r.element.style,r.style);for(const u of i)r.element.style.setProperty(u.key,u.value);Rt(()=>{const u=Rr.get(r.key);if(u){if(u.activeCount!==1){u.activeCount--;return}Rr.delete(r.key);for(const[h,d]of Object.entries(u.originalStyles))r.element.style[h]=d;for(const h of u.properties)r.element.style.removeProperty(h);r.element.style.length===0&&r.element.removeAttribute("style"),r.cleanup?.()}})})},nl=gf,_f=(r,e)=>{switch(e){case"x":return[r.clientWidth,r.scrollLeft,r.scrollWidth];case"y":return[r.clientHeight,r.scrollTop,r.scrollHeight]}},vf=(r,e)=>{const i=getComputedStyle(r),s=e==="x"?i.overflowX:i.overflowY;return s==="auto"||s==="scroll"||r.tagName==="HTML"&&s==="visible"},yf=(r,e,i)=>{const s=e==="x"&&window.getComputedStyle(r).direction==="rtl"?-1:1;let l=r,u=0,h=0,d=!1;do{const[p,v,S]=_f(l,e),g=S-p-s*v;(v!==0||g!==0)&&vf(l,e)&&(u+=g,h+=v),l===(i??document.documentElement)?d=!0:l=l._$host??l.parentElement}while(l&&!d);return[u,h]},[il,rl]=vt([]),bf=r=>il().indexOf(r)===il().length-1,wf=r=>{const e=Tt({element:null,enabled:!0,hideScrollbar:!0,preventScrollbarShift:!0,preventScrollbarShiftMode:"padding",restoreScrollPosition:!0,allowPinchZoom:!1},r),i=so();let s=[0,0],l=null,u=null;At(()=>{ie(e.enabled)&&(rl(v=>[...v,i]),Rt(()=>{rl(v=>v.filter(S=>S!==i))}))}),At(()=>{if(!ie(e.enabled)||!ie(e.hideScrollbar))return;const{body:v}=document,S=window.innerWidth-v.offsetWidth;if(ie(e.preventScrollbarShift)){const g={overflow:"hidden"},x=[];S>0&&(ie(e.preventScrollbarShiftMode)==="padding"?g.paddingRight=`calc(${window.getComputedStyle(v).paddingRight} + ${S}px)`:g.marginRight=`calc(${window.getComputedStyle(v).marginRight} + ${S}px)`,x.push({key:"--scrollbar-width",value:`${S}px`}));const D=window.scrollY,C=window.scrollX;nl({key:"prevent-scroll",element:v,style:g,properties:x,cleanup:()=>{ie(e.restoreScrollPosition)&&S>0&&window.scrollTo(C,D)}})}else nl({key:"prevent-scroll",element:v,style:{overflow:"hidden"}})}),At(()=>{!bf(i)||!ie(e.enabled)||(document.addEventListener("wheel",d,{passive:!1}),document.addEventListener("touchstart",h,{passive:!1}),document.addEventListener("touchmove",p,{passive:!1}),Rt(()=>{document.removeEventListener("wheel",d),document.removeEventListener("touchstart",h),document.removeEventListener("touchmove",p)}))});const h=v=>{s=ol(v),l=null,u=null},d=v=>{const S=v.target,g=ie(e.element),x=xf(v),D=Math.abs(x[0])>Math.abs(x[1])?"x":"y",C=D==="x"?x[0]:x[1],E=sl(S,D,C,g);let G;g&&Cs(g,S)?G=!E:G=!0,G&&v.cancelable&&v.preventDefault()},p=v=>{const S=ie(e.element),g=v.target;let x;if(v.touches.length===2)x=!ie(e.allowPinchZoom);else{if(l==null||u===null){const D=ol(v).map((E,G)=>s[G]-E),C=Math.abs(D[0])>Math.abs(D[1])?"x":"y";l=C,u=C==="x"?D[0]:D[1]}if(g.type==="range")x=!1;else{const D=sl(g,l,u,S);S&&Cs(S,g)?x=!D:x=!0}}x&&v.cancelable&&v.preventDefault()}},xf=r=>[r.deltaX,r.deltaY],ol=r=>r.changedTouches[0]?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0],sl=(r,e,i,s)=>{const l=s!==null&&Cs(s,r),[u,h]=yf(r,e,l?s:void 0);return!(i>0&&Math.abs(u)<=1||i<0&&Math.abs(h)<1)},Sf=wf,Pf=Sf,Cf=r=>{const e=Ht(()=>{const h=ie(r.element);if(h)return getComputedStyle(h)}),i=()=>e()?.animationName??"none",[s,l]=vt(ie(r.show)?"present":"hidden");let u="none";return At(h=>{const d=ie(r.show);return te(()=>{if(h===d)return d;const p=u,v=i();d?l("present"):v==="none"||e()?.display==="none"?l("hidden"):l(h===!0&&p!==v?"hiding":"hidden")}),d}),At(()=>{const h=ie(r.element);if(!h)return;const d=v=>{v.target===h&&(u=i())},p=v=>{const g=i().includes(v.animationName);v.target===h&&g&&s()==="hiding"&&l("hidden")};h.addEventListener("animationstart",d),h.addEventListener("animationcancel",p),h.addEventListener("animationend",p),Rt(()=>{h.removeEventListener("animationstart",d),h.removeEventListener("animationcancel",p),h.removeEventListener("animationend",p)})}),{present:()=>s()==="present"||s()==="hiding",state:s,setState:l}},Tf=Cf,al=Tf,Lf={};lo(Lf,{CloseButton:()=>Cu,Content:()=>Tu,Description:()=>Lu,Dialog:()=>Yt,Overlay:()=>ku,Portal:()=>Iu,Root:()=>Eu,Title:()=>Au,Trigger:()=>Ou,useDialogContext:()=>mn});var Pu=Yi();function mn(){const r=Ji(Pu);if(r===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return r}function Cu(r){const e=mn(),[i,s]=Dt(r,["aria-label","onClick"]);return V(uo,Tt({get"aria-label"(){return i["aria-label"]||e.translations().dismiss},onClick:u=>{ao(u,i.onClick),e.close()}},s))}function Tu(r){let e;const i=mn(),s=pe({id:i.generateId("content")},r),[l,u]=Dt(s,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let h=!1,d=!1;const p=x=>{l.onPointerDownOutside?.(x),i.modal()&&x.detail.isContextMenu&&x.preventDefault()},v=x=>{l.onFocusOutside?.(x),i.modal()&&x.preventDefault()},S=x=>{l.onInteractOutside?.(x),!i.modal()&&(x.defaultPrevented||(h=!0,x.detail.originalEvent.type==="pointerdown"&&(d=!0)),Ke(i.triggerRef(),x.target)&&x.preventDefault(),x.detail.originalEvent.type==="focusin"&&d&&x.preventDefault())},g=x=>{l.onCloseAutoFocus?.(x),i.modal()?(x.preventDefault(),Ge(i.triggerRef())):(x.defaultPrevented||(h||Ge(i.triggerRef()),x.preventDefault()),h=!1,d=!1)};return rf({isDisabled:()=>!(i.isOpen()&&i.modal()),targets:()=>e?[e]:[]}),Pf({element:()=>e??null,enabled:()=>i.contentPresent()&&i.preventScroll()}),ef({trapFocus:()=>i.isOpen()&&i.modal(),onMountAutoFocus:l.onOpenAutoFocus,onUnmountAutoFocus:g},()=>e),At(()=>Rt(i.registerContentId(u.id))),V(re,{get when(){return i.contentPresent()},get children(){return V(uf,Tt({ref(x){var D=fn(C=>{i.setContentRef(C),e=C},l.ref);typeof D=="function"&&D(x)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return hn(()=>!!i.modal())()&&i.isOpen()},get excludedElements(){return[i.triggerRef]},get"aria-labelledby"(){return i.titleId()},get"aria-describedby"(){return i.descriptionId()},get"data-expanded"(){return i.isOpen()?"":void 0},get"data-closed"(){return i.isOpen()?void 0:""},onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:S,get onDismiss(){return i.close}},u))}})}function Lu(r){const e=mn(),i=pe({id:e.generateId("description")},r),[s,l]=Dt(i,["id"]);return At(()=>Rt(e.registerDescriptionId(s.id))),V(ge,Tt({as:"p",get id(){return s.id}},l))}function ku(r){const e=mn(),[i,s]=Dt(r,["ref","style","onPointerDown"]),l=u=>{ao(u,i.onPointerDown),u.target===u.currentTarget&&u.preventDefault()};return V(re,{get when(){return e.overlayPresent()},get children(){return V(ge,Tt({as:"div",ref(u){var h=fn(e.setOverlayRef,i.ref);typeof h=="function"&&h(u)},get style(){return Ed({"pointer-events":"auto"},i.style)},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onPointerDown:l},s))}})}function Iu(r){const e=mn();return V(re,{get when(){return e.contentPresent()||e.overlayPresent()},get children(){return V(Wh,r)}})}var ll={dismiss:"Dismiss"};function Eu(r){const e=`dialog-${so()}`,i=pe({id:e,modal:!0,translations:ll},r),[s,l]=vt(),[u,h]=vt(),[d,p]=vt(),[v,S]=vt(),[g,x]=vt(),[D,C]=vt(),E=hf({open:()=>i.open,defaultOpen:()=>i.defaultOpen,onOpenChange:H=>i.onOpenChange?.(H)}),G=()=>i.forceMount||E.isOpen(),{present:Q}=al({show:G,element:()=>v()??null}),{present:F}=al({show:G,element:()=>g()??null}),q={translations:()=>i.translations??ll,isOpen:E.isOpen,modal:()=>i.modal??!0,preventScroll:()=>i.preventScroll??q.modal(),contentId:s,titleId:u,descriptionId:d,triggerRef:D,overlayRef:v,setOverlayRef:S,contentRef:g,setContentRef:x,overlayPresent:Q,contentPresent:F,close:E.close,toggle:E.toggle,setTriggerRef:C,generateId:Rs(()=>i.id),registerContentId:kn(l),registerTitleId:kn(h),registerDescriptionId:kn(p)};return V(Pu.Provider,{value:q,get children(){return i.children}})}function Au(r){const e=mn(),i=pe({id:e.generateId("title")},r),[s,l]=Dt(i,["id"]);return At(()=>Rt(e.registerTitleId(s.id))),V(ge,Tt({as:"h2",get id(){return s.id}},l))}function Ou(r){const e=mn(),[i,s]=Dt(r,["ref","onClick"]);return V(uo,Tt({ref(u){var h=fn(e.setTriggerRef,i.ref);typeof h=="function"&&h(u)},"aria-haspopup":"dialog",get"aria-expanded"(){return e.isOpen()},get"aria-controls"(){return hn(()=>!!e.isOpen())()?e.contentId():void 0},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onClick:u=>{ao(u,i.onClick),e.toggle()}},s))}var Yt=Object.assign(Eu,{CloseButton:Cu,Content:Tu,Description:Lu,Overlay:ku,Portal:Iu,Title:Au,Trigger:Ou}),kf=Bt('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M18 6L6 18M6 6l12 12"></path><title>Close'),Mu=Bt("<div>");const zs=Yt;Yt.Trigger;const Du=r=>{const[e,i]=Dt(r,["class","children"]);return V(Yt.Portal,{get children(){return[V(Yt.Overlay,Tt({get class(){return ue("fixed inset-0 z-50 bg-background/80 data-[expanded]:animate-in data-[expanded]:fade-in-0 data-[closed]:animate-out data-[closed]:fade-out-0")}},i)),V(Yt.Content,Tt({get class(){return ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[expanded]:animate-in data-[expanded]:fade-in-0 data-[expanded]:zoom-in-95 data-[expanded]:slide-in-from-left-1/2 data-[expanded]:slide-in-from-top-48% data-[expanded]:duration-200 data-[closed]:animate-out data-[closed]:fade-out-0 data-[closed]:zoom-out-95 data-[closed]:slide-out-to-left-1/2 data-[closed]:slide-out-to-top-48% data-[closed]:duration-200 md:w-full sm:rounded-lg",e.class)}},i,{get children(){return[hn(()=>e.children),V(re,{get when(){return r.showClose},get children(){return V(Yt.CloseButton,{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-1.5 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-inherit transition-property-[opacity,box-shadow]",get children(){return kf()}})}})]}}))]}})},Fs=r=>{const[e,i]=Dt(r,["class"]);return V(Yt.Title,Tt({get class(){return ue("text-lg font-semibold text-foreground",e.class)}},i))},If=r=>{const[e,i]=Dt(r,["class"]);return(()=>{var s=Mu();return Ms(s,Tt({get class(){return ue("flex flex-col space-y-2 text-center sm:text-left",e.class)}},i),!1,!1),s})()},Ef=r=>{const[e,i]=Dt(r,["class"]);return(()=>{var s=Mu();return Ms(s,Tt({get class(){return ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e.class)}},i),!1,!1),s})()};var Af=Bt('<div class=bg-card><div class="p-4 border-b-2 border-border bg-muted/50"></div><div class="divide-y-2 divide-border"><button type=button class="w-full px-4 py-4 text-left hover:bg-muted/70 active:bg-muted transition-colors touch-manipulation flex items-center"><div class="i-mdi-pencil mr-3 h-5 w-5 text-muted-foreground"></div><span class="text-base font-medium">Editieren</span></button><button type=button class="w-full px-4 py-4 text-left hover:bg-destructive/20 active:bg-destructive/30 transition-colors touch-manipulation flex items-center text-destructive"><div class="i-mdi-delete mr-3 h-5 w-5"></div><span class=text-base>Löschen');function Of(r){return V(zs,{get open(){return r.isOpen},onOpenChange:e=>!e&&r.onClose(),get children(){return V(Du,{class:"w-[90vw] max-w-xs mx-auto p-0 border-2 border-border shadow-2xl rounded-lg overflow-hidden bg-card",get children(){var e=Af(),i=e.firstChild,s=i.nextSibling,l=s.firstChild,u=l.nextSibling;return Et(i,V(Fs,{class:"text-sm font-semibold text-center",get children(){return r.item?.title||"Optionen"}})),l.$$click=()=>{r.onEdit()},u.$$click=()=>{r.onDelete()},e}})}})}si(["click"]);const ul=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,cl=tu,Us=(r,e)=>i=>{var s;if(e?.variants==null)return cl(r,i?.class,i?.className);const{variants:l,defaultVariants:u}=e,h=Object.keys(l).map(v=>{const S=i?.[v],g=u?.[v];if(S===null)return null;const x=ul(S)||ul(g);return l[v][x]}),d=i&&Object.entries(i).reduce((v,S)=>{let[g,x]=S;return x===void 0||(v[g]=x),v},{}),p=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((v,S)=>{let{class:g,className:x,...D}=S;return Object.entries(D).every(C=>{let[E,G]=C;return Array.isArray(G)?G.includes({...u,...d}[E]):{...u,...d}[E]===G})?[...v,g,x]:v},[]);return cl(r,h,p,i?.class,i?.className)},Mf=Us("inline-flex items-center justify-center rounded-md text-sm font-medium transition-shadow focus-visible:outline-none focus-visible:ring-1.5 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 bg-inherit",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 px-3 text-xs",lg:"h-10 px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),We=r=>{const[e,i]=Dt(r,["class","variant","size"]);return V(Su,Tt({get class(){return ue(Mf({size:e.size,variant:e.variant}),e.class)}},i))};var ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fi={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Df=Fi.exports,hl;function Bf(){return hl||(hl=1,function(r,e){(function(i,s){s(e)})(Df,function(i){var s="1.9.4";function l(t){var n,o,a,c;for(o=1,a=arguments.length;o<a;o++){c=arguments[o];for(n in c)t[n]=c[n]}return t}var u=Object.create||function(){function t(){}return function(n){return t.prototype=n,new t}}();function h(t,n){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var a=o.call(arguments,2);return function(){return t.apply(n,a.length?a.concat(o.call(arguments)):arguments)}}var d=0;function p(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function v(t,n,o){var a,c,f,b;return b=function(){a=!1,c&&(f.apply(o,c),c=!1)},f=function(){a?c=arguments:(t.apply(o,arguments),setTimeout(b,n),a=!0)},f}function S(t,n,o){var a=n[1],c=n[0],f=a-c;return t===a&&o?t:((t-c)%f+f)%f+c}function g(){return!1}function x(t,n){if(n===!1)return t;var o=Math.pow(10,n===void 0?6:n);return Math.round(t*o)/o}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function C(t){return D(t).split(/\s+/)}function E(t,n){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var o in n)t.options[o]=n[o];return t.options}function G(t,n,o){var a=[];for(var c in t)a.push(encodeURIComponent(o?c.toUpperCase():c)+"="+encodeURIComponent(t[c]));return(!n||n.indexOf("?")===-1?"?":"&")+a.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function F(t,n){return t.replace(Q,function(o,a){var c=n[a];if(c===void 0)throw new Error("No value provided for variable "+o);return typeof c=="function"&&(c=c(n)),c})}var q=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function H(t,n){for(var o=0;o<t.length;o++)if(t[o]===n)return o;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Y=0;function N(t){var n=+new Date,o=Math.max(0,16-(n-Y));return Y=n+o,window.setTimeout(t,o)}var B=window.requestAnimationFrame||U("RequestAnimationFrame")||N,R=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function z(t,n,o){if(o&&B===N)t.call(n);else return B.call(window,h(t,n))}function tt(t){t&&R.call(window,t)}var _t={__proto__:null,extend:l,create:u,bind:h,get lastId(){return d},stamp:p,throttle:v,wrapNum:S,falseFn:g,formatNum:x,trim:D,splitWords:C,setOptions:E,getParamString:G,template:F,isArray:q,indexOf:H,emptyImageUrl:k,requestFn:B,cancelFn:R,requestAnimFrame:z,cancelAnimFrame:tt};function wt(){}wt.extend=function(t){var n=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,a=u(o);a.constructor=n,n.prototype=a;for(var c in this)Object.prototype.hasOwnProperty.call(this,c)&&c!=="prototype"&&c!=="__super__"&&(n[c]=this[c]);return t.statics&&l(n,t.statics),t.includes&&($t(t.includes),l.apply(null,[a].concat(t.includes))),l(a,t),delete a.statics,delete a.includes,a.options&&(a.options=o.options?u(o.options):{},l(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var f=0,b=a._initHooks.length;f<b;f++)a._initHooks[f].call(this)}},n},wt.include=function(t){var n=this.prototype.options;return l(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},wt.mergeOptions=function(t){return l(this.prototype.options,t),this},wt.addInitHook=function(t){var n=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function $t(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=q(t)?t:[t];for(var n=0;n<t.length;n++)t[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Lt={on:function(t,n,o){if(typeof t=="object")for(var a in t)this._on(a,t[a],n);else{t=C(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],n,o)}return this},off:function(t,n,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],n);else{t=C(t);for(var c=arguments.length===1,f=0,b=t.length;f<b;f++)c?this._off(t[f]):this._off(t[f],n,o)}return this},_on:function(t,n,o,a){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(t,n,o)===!1){o===this&&(o=void 0);var c={fn:n,ctx:o};a&&(c.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(c)}},_off:function(t,n,o){var a,c,f;if(this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(c=0,f=a.length;c<f;c++)a[c].fn=g;delete this._events[t];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var b=this._listens(t,n,o);if(b!==!1){var I=a[b];this._firingCount&&(I.fn=g,this._events[t]=a=a.slice()),a.splice(b,1)}}},fire:function(t,n,o){if(!this.listens(t,o))return this;var a=l({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var c=this._events[t];if(c){this._firingCount=this._firingCount+1||1;for(var f=0,b=c.length;f<b;f++){var I=c[f],A=I.fn;I.once&&this.off(t,A,I.ctx),A.call(I.ctx||this,a)}this._firingCount--}}return o&&this._propagateEvent(a),this},listens:function(t,n,o,a){typeof t!="string"&&console.warn('"string" type argument expected');var c=n;typeof n!="function"&&(a=!!n,c=void 0,o=void 0);var f=this._events&&this._events[t];if(f&&f.length&&this._listens(t,c,o)!==!1)return!0;if(a){for(var b in this._eventParents)if(this._eventParents[b].listens(t,n,o,a))return!0}return!1},_listens:function(t,n,o){if(!this._events)return!1;var a=this._events[t]||[];if(!n)return!!a.length;o===this&&(o=void 0);for(var c=0,f=a.length;c<f;c++)if(a[c].fn===n&&a[c].ctx===o)return c;return!1},once:function(t,n,o){if(typeof t=="object")for(var a in t)this._on(a,t[a],n,!0);else{t=C(t);for(var c=0,f=t.length;c<f;c++)this._on(t[c],n,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[p(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[p(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}};Lt.addEventListener=Lt.on,Lt.removeEventListener=Lt.clearAllEventListeners=Lt.off,Lt.addOneTimeEventListener=Lt.once,Lt.fireEvent=Lt.fire,Lt.hasEventListeners=Lt.listens;var it=wt.extend(Lt);function $(t,n,o){this.x=o?Math.round(t):t,this.y=o?Math.round(n):n}var O=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(t){return this.clone()._add(Z(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Z(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new $(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new $(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){t=Z(t);var n=t.x-this.x,o=t.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(t){return t=Z(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Z(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function Z(t,n,o){return t instanceof $?t:q(t)?new $(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new $(t.x,t.y):new $(t,n,o)}function nt(t,n){if(t)for(var o=n?[t,n]:t,a=0,c=o.length;a<c;a++)this.extend(o[a])}nt.prototype={extend:function(t){var n,o;if(!t)return this;if(t instanceof $||typeof t[0]=="number"||"x"in t)n=o=Z(t);else if(t=ft(t),n=t.min,o=t.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var n,o;return typeof t[0]=="number"||t instanceof $?t=Z(t):t=ft(t),t instanceof nt?(n=t.min,o=t.max):n=o=t,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=ft(t);var n=this.min,o=this.max,a=t.min,c=t.max,f=c.x>=n.x&&a.x<=o.x,b=c.y>=n.y&&a.y<=o.y;return f&&b},overlaps:function(t){t=ft(t);var n=this.min,o=this.max,a=t.min,c=t.max,f=c.x>n.x&&a.x<o.x,b=c.y>n.y&&a.y<o.y;return f&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var n=this.min,o=this.max,a=Math.abs(n.x-o.x)*t,c=Math.abs(n.y-o.y)*t;return ft(Z(n.x-a,n.y-c),Z(o.x+a,o.y+c))},equals:function(t){return t?(t=ft(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function ft(t,n){return!t||t instanceof nt?t:new nt(t,n)}function lt(t,n){if(t)for(var o=n?[t,n]:t,a=0,c=o.length;a<c;a++)this.extend(o[a])}lt.prototype={extend:function(t){var n=this._southWest,o=this._northEast,a,c;if(t instanceof yt)a=t,c=t;else if(t instanceof lt){if(a=t._southWest,c=t._northEast,!a||!c)return this}else return t?this.extend(pt(t)||ut(t)):this;return!n&&!o?(this._southWest=new yt(a.lat,a.lng),this._northEast=new yt(c.lat,c.lng)):(n.lat=Math.min(a.lat,n.lat),n.lng=Math.min(a.lng,n.lng),o.lat=Math.max(c.lat,o.lat),o.lng=Math.max(c.lng,o.lng)),this},pad:function(t){var n=this._southWest,o=this._northEast,a=Math.abs(n.lat-o.lat)*t,c=Math.abs(n.lng-o.lng)*t;return new lt(new yt(n.lat-a,n.lng-c),new yt(o.lat+a,o.lng+c))},getCenter:function(){return new yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof yt||"lat"in t?t=pt(t):t=ut(t);var n=this._southWest,o=this._northEast,a,c;return t instanceof lt?(a=t.getSouthWest(),c=t.getNorthEast()):a=c=t,a.lat>=n.lat&&c.lat<=o.lat&&a.lng>=n.lng&&c.lng<=o.lng},intersects:function(t){t=ut(t);var n=this._southWest,o=this._northEast,a=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>=n.lat&&a.lat<=o.lat,b=c.lng>=n.lng&&a.lng<=o.lng;return f&&b},overlaps:function(t){t=ut(t);var n=this._southWest,o=this._northEast,a=t.getSouthWest(),c=t.getNorthEast(),f=c.lat>n.lat&&a.lat<o.lat,b=c.lng>n.lng&&a.lng<o.lng;return f&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,n){return t?(t=ut(t),this._southWest.equals(t.getSouthWest(),n)&&this._northEast.equals(t.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(t,n){return t instanceof lt?t:new lt(t,n)}function yt(t,n,o){if(isNaN(t)||isNaN(n))throw new Error("Invalid LatLng object: ("+t+", "+n+")");this.lat=+t,this.lng=+n,o!==void 0&&(this.alt=+o)}yt.prototype={equals:function(t,n){if(!t)return!1;t=pt(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(n===void 0?1e-9:n)},toString:function(t){return"LatLng("+x(this.lat,t)+", "+x(this.lng,t)+")"},distanceTo:function(t){return ee.distance(this,pt(t))},wrap:function(){return ee.wrapLatLng(this)},toBounds:function(t){var n=180*t/40075017,o=n/Math.cos(Math.PI/180*this.lat);return ut([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new yt(this.lat,this.lng,this.alt)}};function pt(t,n,o){return t instanceof yt?t:q(t)&&typeof t[0]!="object"?t.length===3?new yt(t[0],t[1],t[2]):t.length===2?new yt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new yt(t.lat,"lng"in t?t.lng:t.lon,t.alt):n===void 0?null:new yt(t,n,o)}var xt={latLngToPoint:function(t,n){var o=this.projection.project(t),a=this.scale(n);return this.transformation._transform(o,a)},pointToLatLng:function(t,n){var o=this.scale(n),a=this.transformation.untransform(t,o);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(t),a=this.transformation.transform(n.min,o),c=this.transformation.transform(n.max,o);return new nt(a,c)},infinite:!1,wrapLatLng:function(t){var n=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new yt(o,n,a)},wrapLatLngBounds:function(t){var n=t.getCenter(),o=this.wrapLatLng(n),a=n.lat-o.lat,c=n.lng-o.lng;if(a===0&&c===0)return t;var f=t.getSouthWest(),b=t.getNorthEast(),I=new yt(f.lat-a,f.lng-c),A=new yt(b.lat-a,b.lng-c);return new lt(I,A)}},ee=l({},xt,{wrapLng:[-180,180],R:6371e3,distance:function(t,n){var o=Math.PI/180,a=t.lat*o,c=n.lat*o,f=Math.sin((n.lat-t.lat)*o/2),b=Math.sin((n.lng-t.lng)*o/2),I=f*f+Math.cos(a)*Math.cos(c)*b*b,A=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*A}}),_e=6378137,de={R:_e,MAX_LATITUDE:85.0511287798,project:function(t){var n=Math.PI/180,o=this.MAX_LATITUDE,a=Math.max(Math.min(o,t.lat),-o),c=Math.sin(a*n);return new $(this.R*t.lng*n,this.R*Math.log((1+c)/(1-c))/2)},unproject:function(t){var n=180/Math.PI;return new yt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*n,t.x*n/this.R)},bounds:function(){var t=_e*Math.PI;return new nt([-t,-t],[t,t])}()};function Be(t,n,o,a){if(q(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=n,this._c=o,this._d=a}Be.prototype={transform:function(t,n){return this._transform(t.clone(),n)},_transform:function(t,n){return n=n||1,t.x=n*(this._a*t.x+this._b),t.y=n*(this._c*t.y+this._d),t},untransform:function(t,n){return n=n||1,new $((t.x/n-this._b)/this._a,(t.y/n-this._d)/this._c)}};function ve(t,n,o,a){return new Be(t,n,o,a)}var hi=l({},ee,{code:"EPSG:3857",projection:de,transformation:function(){var t=.5/(Math.PI*de.R);return ve(t,.5,-t,.5)}()}),yo=l({},hi,{code:"EPSG:900913"});function xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tr(t,n){var o="",a,c,f,b,I,A;for(a=0,f=t.length;a<f;a++){for(I=t[a],c=0,b=I.length;c<b;c++)A=I[c],o+=(c?"L":"M")+A.x+" "+A.y;o+=n?at.svg?"z":"x":""}return o||"M0 0"}var Fn=document.documentElement.style,Re="ActiveXObject"in window,di=Re&&!document.addEventListener,Un="msLaunchUri"in navigator&&!("documentMode"in document),gn=fe("webkit"),fi=fe("android"),mi=fe("android 2")||fe("android 3"),er=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nr=fi&&fe("Google")&&er<537&&!("AudioNode"in window),Zn=!!window.opera,pi=!Un&&fe("chrome"),gi=fe("gecko")&&!gn&&!Zn&&!Re,ir=!pi&&fe("safari"),_i=fe("phantom"),vi="OTransition"in Fn,rr=navigator.platform.indexOf("Win")===0,yi=Re&&"transition"in Fn,_n="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mi,or="MozPerspective"in Fn,bo=!window.L_DISABLE_3D&&(yi||_n||or)&&!vi&&!_i,Ne=typeof orientation<"u"||fe("mobile"),sr=Ne&&gn,wo=Ne&&_n,Se=!window.PointerEvent&&window.MSPointerEvent,ar=!!(window.PointerEvent||Se),lr="ontouchstart"in window||!!window.TouchEvent,ur=!window.L_NO_TOUCH&&(lr||ar),xo=Ne&&Zn,So=Ne&&gi,Po=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Co=function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",g,n),window.removeEventListener("testPassiveEventSupport",g,n)}catch{}return t}(),To=function(){return!!document.createElement("canvas").getContext}(),bi=!!(document.createElementNS&&xe("svg").createSVGRect),Lo=!!bi&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ko=!bi&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var n=t.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Io=navigator.platform.indexOf("Mac")===0,Eo=navigator.platform.indexOf("Linux")===0;function fe(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var at={ie:Re,ielt9:di,edge:Un,webkit:gn,android:fi,android23:mi,androidStock:nr,opera:Zn,chrome:pi,gecko:gi,safari:ir,phantom:_i,opera12:vi,win:rr,ie3d:yi,webkit3d:_n,gecko3d:or,any3d:bo,mobile:Ne,mobileWebkit:sr,mobileWebkit3d:wo,msPointer:Se,pointer:ar,touch:ur,touchNative:lr,mobileOpera:xo,mobileGecko:So,retina:Po,passiveEvents:Co,canvas:To,svg:bi,vml:ko,inlineSvg:Lo,mac:Io,linux:Eo},cr=at.msPointer?"MSPointerDown":"pointerdown",hr=at.msPointer?"MSPointerMove":"pointermove",dr=at.msPointer?"MSPointerUp":"pointerup",fr=at.msPointer?"MSPointerCancel":"pointercancel",wi={touchstart:cr,touchmove:hr,touchend:dr,touchcancel:fr},mr={touchstart:yn,touchmove:vn,touchend:vn,touchcancel:vn},Qe={},pr=!1;function Ao(t,n,o){return n==="touchstart"&&Bo(),mr[n]?(o=mr[n].bind(this,o),t.addEventListener(wi[n],o,!1),o):(console.warn("wrong event specified:",n),g)}function Oo(t,n,o){if(!wi[n]){console.warn("wrong event specified:",n);return}t.removeEventListener(wi[n],o,!1)}function Mo(t){Qe[t.pointerId]=t}function Do(t){Qe[t.pointerId]&&(Qe[t.pointerId]=t)}function gr(t){delete Qe[t.pointerId]}function Bo(){pr||(document.addEventListener(cr,Mo,!0),document.addEventListener(hr,Do,!0),document.addEventListener(dr,gr,!0),document.addEventListener(fr,gr,!0),pr=!0)}function vn(t,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in Qe)n.touches.push(Qe[o]);n.changedTouches=[n],t(n)}}function yn(t,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&Qt(n),vn(t,n)}function _r(t){var n={},o,a;for(a in t)o=t[a],n[a]=o&&o.bind?o.bind(t):o;return t=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var tn=200;function Ro(t,n){t.addEventListener("dblclick",n);var o=0,a;function c(f){if(f.detail!==1){a=f.detail;return}if(!(f.pointerType==="mouse"||f.sourceCapabilities&&!f.sourceCapabilities.firesTouchEvents)){var b=Qs(f);if(!(b.some(function(A){return A instanceof HTMLLabelElement&&A.attributes.for})&&!b.some(function(A){return A instanceof HTMLInputElement||A instanceof HTMLSelectElement}))){var I=Date.now();I-o<=tn?(a++,a===2&&n(_r(f))):a=1,o=I}}}return t.addEventListener("click",c),{dblclick:n,simDblclick:c}}function Hn(t,n){t.removeEventListener("dblclick",n.dblclick),t.removeEventListener("click",n.simDblclick)}var bn=rt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),wn=rt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),vr=wn==="webkitTransition"||wn==="OTransition"?wn+"End":"transitionend";function $n(t){return typeof t=="string"?document.getElementById(t):t}function xn(t,n){var o=t.style[n]||t.currentStyle&&t.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);o=a?a[n]:null}return o==="auto"?null:o}function kt(t,n,o){var a=document.createElement(t);return a.className=n||"",o&&o.appendChild(a),a}function m(t){var n=t.parentNode;n&&n.removeChild(t)}function w(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function _(t){var n=t.parentNode;n&&n.lastChild!==t&&n.appendChild(t)}function P(t){var n=t.parentNode;n&&n.firstChild!==t&&n.insertBefore(t,n.firstChild)}function T(t,n){if(t.classList!==void 0)return t.classList.contains(n);var o=X(t);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function y(t,n){if(t.classList!==void 0)for(var o=C(n),a=0,c=o.length;a<c;a++)t.classList.add(o[a]);else if(!T(t,n)){var f=X(t);j(t,(f?f+" ":"")+n)}}function M(t,n){t.classList!==void 0?t.classList.remove(n):j(t,D((" "+X(t)+" ").replace(" "+n+" "," ")))}function j(t,n){t.className.baseVal===void 0?t.className=n:t.className.baseVal=n}function X(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function K(t,n){"opacity"in t.style?t.style.opacity=n:"filter"in t.style&&J(t,n)}function J(t,n){var o=!1,a="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(a)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):t.style.filter+=" progid:"+a+"(opacity="+n+")"}function rt(t){for(var n=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in n)return t[o];return!1}function mt(t,n,o){var a=n||new $(0,0);t.style[bn]=(at.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(o?" scale("+o+")":"")}function ct(t,n){t._leaflet_pos=n,at.any3d?mt(t,n):(t.style.left=n.x+"px",t.style.top=n.y+"px")}function Ct(t){return t._leaflet_pos||new $(0,0)}var zt,Nt,ne;if("onselectstart"in document)zt=function(){bt(window,"selectstart",Qt)},Nt=function(){Ft(window,"selectstart",Qt)};else{var Pe=rt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);zt=function(){if(Pe){var t=document.documentElement.style;ne=t[Pe],t[Pe]="none"}},Nt=function(){Pe&&(document.documentElement.style[Pe]=ne,ne=void 0)}}function Sn(){bt(window,"dragstart",Qt)}function xi(){Ft(window,"dragstart",Qt)}var en,yr;function Si(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Vn(),en=t,yr=t.style.outlineStyle,t.style.outlineStyle="none",bt(window,"keydown",Vn))}function Vn(){en&&(en.style.outlineStyle=yr,en=void 0,yr=void 0,Ft(window,"keydown",Vn))}function Pi(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function No(t){var n=t.getBoundingClientRect();return{x:n.width/t.offsetWidth||1,y:n.height/t.offsetHeight||1,boundingClientRect:n}}var mc={__proto__:null,TRANSFORM:bn,TRANSITION:wn,TRANSITION_END:vr,get:$n,getStyle:xn,create:kt,remove:m,empty:w,toFront:_,toBack:P,hasClass:T,addClass:y,removeClass:M,setClass:j,getClass:X,setOpacity:K,testProp:rt,setTransform:mt,setPosition:ct,getPosition:Ct,get disableTextSelection(){return zt},get enableTextSelection(){return Nt},disableImageDrag:Sn,enableImageDrag:xi,preventOutline:Si,restoreOutline:Vn,getSizedParentNode:Pi,getScale:No};function bt(t,n,o,a){if(n&&typeof n=="object")for(var c in n)Fo(t,c,n[c],o);else{n=C(n);for(var f=0,b=n.length;f<b;f++)Fo(t,n[f],o,a)}return this}var Ee="_leaflet_events";function Ft(t,n,o,a){if(arguments.length===1)Js(t),delete t[Ee];else if(n&&typeof n=="object")for(var c in n)Uo(t,c,n[c],o);else if(n=C(n),arguments.length===2)Js(t,function(I){return H(n,I)!==-1});else for(var f=0,b=n.length;f<b;f++)Uo(t,n[f],o,a);return this}function Js(t,n){for(var o in t[Ee]){var a=o.split(/\d/)[0];(!n||n(a))&&Uo(t,a,null,null,o)}}var zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fo(t,n,o,a){var c=n+p(o)+(a?"_"+p(a):"");if(t[Ee]&&t[Ee][c])return this;var f=function(I){return o.call(a||t,I||window.event)},b=f;!at.touchNative&&at.pointer&&n.indexOf("touch")===0?f=Ao(t,n,f):at.touch&&n==="dblclick"?f=Ro(t,f):"addEventListener"in t?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?t.addEventListener(zo[n]||n,f,at.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(f=function(I){I=I||window.event,Ho(t,I)&&b(I)},t.addEventListener(zo[n],f,!1)):t.addEventListener(n,b,!1):t.attachEvent("on"+n,f),t[Ee]=t[Ee]||{},t[Ee][c]=f}function Uo(t,n,o,a,c){c=c||n+p(o)+(a?"_"+p(a):"");var f=t[Ee]&&t[Ee][c];if(!f)return this;!at.touchNative&&at.pointer&&n.indexOf("touch")===0?Oo(t,n,f):at.touch&&n==="dblclick"?Hn(t,f):"removeEventListener"in t?t.removeEventListener(zo[n]||n,f,!1):t.detachEvent("on"+n,f),t[Ee][c]=null}function Pn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Zo(t){return Fo(t,"wheel",Pn),this}function Ci(t){return bt(t,"mousedown touchstart dblclick contextmenu",Pn),t._leaflet_disable_click=!0,this}function Qt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Cn(t){return Qt(t),Pn(t),this}function Qs(t){if(t.composedPath)return t.composedPath();for(var n=[],o=t.target;o;)n.push(o),o=o.parentNode;return n}function ta(t,n){if(!n)return new $(t.clientX,t.clientY);var o=No(n),a=o.boundingClientRect;return new $((t.clientX-a.left)/o.x-n.clientLeft,(t.clientY-a.top)/o.y-n.clientTop)}var pc=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ea(t){return at.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/pc:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ho(t,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var gc={__proto__:null,on:bt,off:Ft,stopPropagation:Pn,disableScrollPropagation:Zo,disableClickPropagation:Ci,preventDefault:Qt,stop:Cn,getPropagationPath:Qs,getMousePosition:ta,getWheelDelta:ea,isExternalTarget:Ho,addListener:bt,removeListener:Ft},na=it.extend({run:function(t,n,o,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Ct(t),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(t){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,n){var o=this._startPos.add(this._offset.multiplyBy(t));n&&o._round(),ct(this._el,o),this.fire("step")},_complete:function(){tt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),It=it.extend({options:{crs:hi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,n){n=E(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(pt(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=wn&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bt(this._proxy,vr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),t=this._limitCenter(pt(t),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=l({animate:o.animate},o.zoom),o.pan=l({animate:o.animate,duration:o.duration},o.pan));var a=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,o.zoom):this._tryAnimatedPan(t,o.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,n){return this._loaded?this.setView(this.getCenter(),t,{zoom:n}):(this._zoom=t,this)},zoomIn:function(t,n){return t=t||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,n)},zoomOut:function(t,n){return t=t||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,n)},setZoomAround:function(t,n,o){var a=this.getZoomScale(n),c=this.getSize().divideBy(2),f=t instanceof $?t:this.latLngToContainerPoint(t),b=f.subtract(c).multiplyBy(1-1/a),I=this.containerPointToLatLng(c.add(b));return this.setView(I,n,{zoom:o})},_getBoundsCenterZoom:function(t,n){n=n||{},t=t.getBounds?t.getBounds():ut(t);var o=Z(n.paddingTopLeft||n.padding||[0,0]),a=Z(n.paddingBottomRight||n.padding||[0,0]),c=this.getBoundsZoom(t,!1,o.add(a));if(c=typeof n.maxZoom=="number"?Math.min(n.maxZoom,c):c,c===1/0)return{center:t.getCenter(),zoom:c};var f=a.subtract(o).divideBy(2),b=this.project(t.getSouthWest(),c),I=this.project(t.getNorthEast(),c),A=this.unproject(b.add(I).divideBy(2).add(f),c);return{center:A,zoom:c}},fitBounds:function(t,n){if(t=ut(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,n){return this.setView(t,this._zoom,{pan:n})},panBy:function(t,n){if(t=Z(t).round(),n=n||{},!t.x&&!t.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new na,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){y(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,n,o){if(o=o||{},o.animate===!1||!at.any3d)return this.setView(t,n,o);this._stop();var a=this.project(this.getCenter()),c=this.project(t),f=this.getSize(),b=this._zoom;t=pt(t),n=n===void 0?b:n;var I=Math.max(f.x,f.y),A=I*this.getZoomScale(b,n),W=c.distanceTo(a)||1,et=1.42,ht=et*et;function Pt(Wt){var Ar=Wt?-1:1,rh=Wt?A:I,oh=A*A-I*I+Ar*ht*ht*W*W,sh=2*rh*ht*W,Qo=oh/sh,Ra=Math.sqrt(Qo*Qo+1)-Qo,ah=Ra<1e-9?-18:Math.log(Ra);return ah}function se(Wt){return(Math.exp(Wt)-Math.exp(-Wt))/2}function Xt(Wt){return(Math.exp(Wt)+Math.exp(-Wt))/2}function be(Wt){return se(Wt)/Xt(Wt)}var ce=Pt(0);function Xn(Wt){return I*(Xt(ce)/Xt(ce+et*Wt))}function th(Wt){return I*(Xt(ce)*be(ce+et*Wt)-se(ce))/ht}function eh(Wt){return 1-Math.pow(1-Wt,1.5)}var nh=Date.now(),Da=(Pt(1)-ce)/et,ih=o.duration?1e3*o.duration:1e3*Da*.8;function Ba(){var Wt=(Date.now()-nh)/ih,Ar=eh(Wt)*Da;Wt<=1?(this._flyToFrame=z(Ba,this),this._move(this.unproject(a.add(c.subtract(a).multiplyBy(th(Ar)/W)),b),this.getScaleZoom(I/Xn(Ar),b),{flyTo:!0})):this._move(t,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Ba.call(this),this},flyToBounds:function(t,n){var o=this._getBoundsCenterZoom(t,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(t){return t=ut(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var n=this.options.minZoom;return this.options.minZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var n=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&n!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,n){this._enforcingBounds=!0;var o=this.getCenter(),a=this._limitCenter(o,this._zoom,ut(t));return o.equals(a)||this.panTo(a,n),this._enforcingBounds=!1,this},panInside:function(t,n){n=n||{};var o=Z(n.paddingTopLeft||n.padding||[0,0]),a=Z(n.paddingBottomRight||n.padding||[0,0]),c=this.project(this.getCenter()),f=this.project(t),b=this.getPixelBounds(),I=ft([b.min.add(o),b.max.subtract(a)]),A=I.getSize();if(!I.contains(f)){this._enforcingBounds=!0;var W=f.subtract(I.getCenter()),et=I.extend(f).getSize().subtract(A);c.x+=W.x<0?-et.x:et.x,c.y+=W.y<0?-et.y:et.y,this.panTo(this.unproject(c),n),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},t===!0?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),a=n.divideBy(2).round(),c=o.divideBy(2).round(),f=a.subtract(c);return!f.x&&!f.y?this:(t.animate&&t.pan?this.panBy(f):(t.pan&&this._rawPanBy(f),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=l({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=h(this._handleGeolocationResponse,this),o=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,t):navigator.geolocation.getCurrentPosition(n,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var n=t.code,o=t.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var n=t.coords.latitude,o=t.coords.longitude,a=new yt(n,o),c=a.toBounds(t.coords.accuracy*2),f=this._locateOptions;if(f.setView){var b=this.getBoundsZoom(c);this.setView(a,f.maxZoom?Math.min(b,f.maxZoom):b)}var I={latlng:a,bounds:c,timestamp:t.timestamp};for(var A in t.coords)typeof t.coords[A]=="number"&&(I[A]=t.coords[A]);this.fire("locationfound",I)}},addHandler:function(t,n){if(!n)return this;var o=this[t]=new n(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),m(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(tt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)m(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,n){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=kt("div",o,n||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),n=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new lt(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,n,o){t=ut(t),o=Z(o||[0,0]);var a=this.getZoom()||0,c=this.getMinZoom(),f=this.getMaxZoom(),b=t.getNorthWest(),I=t.getSouthEast(),A=this.getSize().subtract(o),W=ft(this.project(I,a),this.project(b,a)).getSize(),et=at.any3d?this.options.zoomSnap:1,ht=A.x/W.x,Pt=A.y/W.y,se=n?Math.max(ht,Pt):Math.min(ht,Pt);return a=this.getScaleZoom(se,a),et&&(a=Math.round(a/(et/100))*(et/100),a=n?Math.ceil(a/et)*et:Math.floor(a/et)*et),Math.max(c,Math.min(f,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,n){var o=this._getTopLeftPoint(t,n);return new nt(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(t)/o.scale(n)},getScaleZoom:function(t,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var a=o.zoom(t*o.scale(n));return isNaN(a)?1/0:a},project:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(pt(t),n)},unproject:function(t,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(Z(t),n)},layerPointToLatLng:function(t){var n=Z(t).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(t){var n=this.project(pt(t))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(pt(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ut(t))},distance:function(t,n){return this.options.crs.distance(pt(t),pt(n))},containerPointToLayerPoint:function(t){return Z(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Z(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var n=this.containerPointToLayerPoint(Z(t));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pt(t)))},mouseEventToContainerPoint:function(t){return ta(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var n=this._container=$n(t);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bt(n,"scroll",this._onScroll,this),this._containerId=p(n)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,y(t,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=xn(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ct(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(y(t.markerPane,"leaflet-zoom-hide"),y(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,n,o){ct(this._mapPane,new $(0,0));var a=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var c=this._zoom!==n;this._moveStart(c,o)._move(t,n)._moveEnd(c),this.fire("viewreset"),a&&this.fire("load")},_moveStart:function(t,n){return t&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(t,n,o,a){n===void 0&&(n=this._zoom);var c=this._zoom!==n;return this._zoom=n,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?o&&o.pinch&&this.fire("zoom",o):((c||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return tt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ct(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[p(this._container)]=this;var n=t?Ft:bt;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){tt(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,n){for(var o=[],a,c=n==="mouseout"||n==="mouseover",f=t.target||t.srcElement,b=!1;f;){if(a=this._targets[p(f)],a&&(n==="click"||n==="preclick")&&this._draggableMoved(a)){b=!0;break}if(a&&a.listens(n,!0)&&(c&&!Ho(f,t)||(o.push(a),c))||f===this._container)break;f=f.parentNode}return!o.length&&!b&&!c&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var n=t.target||t.srcElement;if(!(!this._loaded||n._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(n))){var o=t.type;o==="mousedown"&&Si(n),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,o){if(t.type==="click"){var a=l({},t);a.type="preclick",this._fireDOMEvent(a,a.type,o)}var c=this._findEventTargets(t,n);if(o){for(var f=[],b=0;b<o.length;b++)o[b].listens(n,!0)&&f.push(o[b]);c=f.concat(c)}if(c.length){n==="contextmenu"&&Qt(t);var I=c[0],A={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var W=I.getLatLng&&(!I._radius||I._radius<=10);A.containerPoint=W?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(t),A.layerPoint=this.containerPointToLayerPoint(A.containerPoint),A.latlng=W?I.getLatLng():this.layerPointToLatLng(A.layerPoint)}for(b=0;b<c.length;b++)if(c[b].fire(n,A,!0),A.originalEvent._stopped||c[b].options.bubblingMouseEvents===!1&&H(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,n=this._handlers.length;t<n;t++)this._handlers[t].disable()},whenReady:function(t,n){return this._loaded?t.call(n||this,{target:this}):this.on("load",t,n),this},_getMapPanePos:function(){return Ct(this._mapPane)||new $(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,n){var o=t&&n!==void 0?this._getNewPixelOrigin(t,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,n){var o=this.getSize()._divideBy(2);return this.project(t,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,n,o){var a=this._getNewPixelOrigin(o,n);return this.project(t,n)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,n,o){var a=this._getNewPixelOrigin(o,n);return ft([this.project(t.getSouthWest(),n)._subtract(a),this.project(t.getNorthWest(),n)._subtract(a),this.project(t.getSouthEast(),n)._subtract(a),this.project(t.getNorthEast(),n)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,n,o){if(!o)return t;var a=this.project(t,n),c=this.getSize().divideBy(2),f=new nt(a.subtract(c),a.add(c)),b=this._getBoundsOffset(f,o,n);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?t:this.unproject(a.add(b),n)},_limitOffset:function(t,n){if(!n)return t;var o=this.getPixelBounds(),a=new nt(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(a,n))},_getBoundsOffset:function(t,n,o){var a=ft(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),c=a.min.subtract(t.min),f=a.max.subtract(t.max),b=this._rebound(c.x,-f.x),I=this._rebound(c.y,-f.y);return new $(b,I)},_rebound:function(t,n){return t+n>0?Math.round(t-n)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(n))},_limitZoom:function(t){var n=this.getMinZoom(),o=this.getMaxZoom(),a=at.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(n,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){M(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,n){var o=this._getCenterOffset(t)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var t=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(n){var o=bn,a=this._proxy.style[o];mt(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),a===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){m(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),n=this.getZoom();mt(this._proxy,this.project(t,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(n),c=this._getCenterOffset(t)._divideBy(1-1/a);return o.animate!==!0&&!this.getSize().contains(c)?!1:(z(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,n,!0)},this),!0)},_animateZoom:function(t,n,o,a){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=n,y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:n,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&M(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _c(t,n){return new It(t,n)}var Ce=wt.extend({options:{position:"topright"},initialize:function(t){E(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var n=this._map;return n&&n.removeControl(this),this.options.position=t,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var n=this._container=this.onAdd(t),o=this.getPosition(),a=t._controlCorners[o];return y(n,"leaflet-control"),o.indexOf("bottom")!==-1?a.insertBefore(n,a.firstChild):a.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(m(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Ti=function(t){return new Ce(t)};It.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},n="leaflet-",o=this._controlContainer=kt("div",n+"control-container",this._container);function a(c,f){var b=n+c+" "+n+f;t[c+f]=kt("div",b,o)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)m(this._controlCorners[t]);m(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ia=Ce.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,n,o,a){return o<a?-1:a<o?1:0}},initialize:function(t,n,o){E(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in n)this._addLayer(n[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ce.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,n){return this._addLayer(t,n),this._map?this._update():this},addOverlay:function(t,n){return this._addLayer(t,n,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var n=this._getLayer(p(t));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):M(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return M(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",n=this._container=kt("div",t),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),Ci(n),Zo(n);var a=this._section=kt("section",t+"-list");o&&(this._map.on("click",this.collapse,this),bt(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var c=this._layersLink=kt("a",t+"-toggle",n);c.href="#",c.title="Layers",c.setAttribute("role","button"),bt(c,{keydown:function(f){f.keyCode===13&&this._expandSafely()},click:function(f){Qt(f),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=kt("div",t+"-base",a),this._separator=kt("div",t+"-separator",a),this._overlaysList=kt("div",t+"-overlays",a),n.appendChild(a)},_getLayer:function(t){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&p(this._layers[n].layer)===t)return this._layers[n]},_addLayer:function(t,n,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(h(function(a,c){return this.options.sortFunction(a.layer,c.layer,a.name,c.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;w(this._baseLayersList),w(this._overlaysList),this._layerControlInputs=[];var t,n,o,a,c=0;for(o=0;o<this._layers.length;o++)a=this._layers[o],this._addItem(a),n=n||a.overlay,t=t||!a.overlay,c+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&c>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=n&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var n=this._getLayer(p(t.target)),o=n.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(t,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(n?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=o,a.firstChild},_addItem:function(t){var n=document.createElement("label"),o=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=o):a=this._createRadioElement("leaflet-base-layers_"+p(this),o),this._layerControlInputs.push(a),a.layerId=p(t.layer),bt(a,"click",this._onInputClick,this);var c=document.createElement("span");c.innerHTML=" "+t.name;var f=document.createElement("span");n.appendChild(f),f.appendChild(a),f.appendChild(c);var b=t.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,n,o,a=[],c=[];this._handlingClick=!0;for(var f=t.length-1;f>=0;f--)n=t[f],o=this._getLayer(n.layerId).layer,n.checked?a.push(o):n.checked||c.push(o);for(f=0;f<c.length;f++)this._map.hasLayer(c[f])&&this._map.removeLayer(c[f]);for(f=0;f<a.length;f++)this._map.hasLayer(a[f])||this._map.addLayer(a[f]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,n,o,a=this._map.getZoom(),c=t.length-1;c>=0;c--)n=t[c],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&a<o.options.minZoom||o.options.maxZoom!==void 0&&a>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,bt(t,"click",Qt),this.expand();var n=this;setTimeout(function(){Ft(t,"click",Qt),n._preventClick=!1})}}),vc=function(t,n,o){return new ia(t,n,o)},$o=Ce.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var n="leaflet-control-zoom",o=kt("div",n+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,n,o,a,c){var f=kt("a",o,a);return f.innerHTML=t,f.href="#",f.title=n,f.setAttribute("role","button"),f.setAttribute("aria-label",n),Ci(f),bt(f,"click",Cn),bt(f,"click",c,this),bt(f,"click",this._refocusOnMap,this),f},_updateDisabled:function(){var t=this._map,n="leaflet-disabled";M(this._zoomInButton,n),M(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(y(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(y(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $o,this.addControl(this.zoomControl))});var yc=function(t){return new $o(t)},ra=Ce.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var n="leaflet-control-scale",o=kt("div",n),a=this.options;return this._addScales(a,n+"-line",o),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,n,o){t.metric&&(this._mScale=kt("div",n,o)),t.imperial&&(this._iScale=kt("div",n,o))},_update:function(){var t=this._map,n=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,n]),t.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var n=this._getRoundNum(t),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/t)},_updateImperial:function(t){var n=t*3.2808399,o,a,c;n>5280?(o=n/5280,a=this._getRoundNum(o),this._updateScale(this._iScale,a+" mi",a/o)):(c=this._getRoundNum(n),this._updateScale(this._iScale,c+" ft",c/n))},_updateScale:function(t,n,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=n},_getRoundNum:function(t){var n=Math.pow(10,(Math.floor(t)+"").length-1),o=t/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),bc=function(t){return new ra(t)},wc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vo=Ce.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?wc+" ":"")+"Leaflet</a>"},initialize:function(t){E(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ci(this._container);for(var n in t._layers)t._layers[n].getAttribution&&this.addAttribution(t._layers[n].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var n in this._attributions)this._attributions[n]&&t.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&new Vo().addTo(this)});var xc=function(t){return new Vo(t)};Ce.Layers=ia,Ce.Zoom=$o,Ce.Scale=ra,Ce.Attribution=Vo,Ti.layers=vc,Ti.zoom=yc,Ti.scale=bc,Ti.attribution=xc;var Ae=wt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ae.addTo=function(t,n){return t.addHandler(n,this),this};var Sc={Events:Lt},oa=at.touch?"touchstart mousedown":"mousedown",nn=it.extend({options:{clickTolerance:3},initialize:function(t,n,o,a){E(this,a),this._element=t,this._dragStartTarget=n||t,this._preventOutline=o},enable:function(){this._enabled||(bt(this._dragStartTarget,oa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,oa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!T(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){nn._dragging===this&&this.finishDrag();return}if(!(nn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(nn._dragging=this,this._preventOutline&&Si(this._element),Sn(),zt(),!this._moving)){this.fire("down");var n=t.touches?t.touches[0]:t,o=Pi(this._element);this._startPoint=new $(n.clientX,n.clientY),this._startPos=Ct(this._element),this._parentScale=No(o);var a=t.type==="mousedown";bt(document,a?"mousemove":"touchmove",this._onMove,this),bt(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var n=t.touches&&t.touches.length===1?t.touches[0]:t,o=new $(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Qt(t),this._moved||(this.fire("dragstart"),this._moved=!0,y(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ct(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){M(document.body,"leaflet-dragging"),this._lastTarget&&(M(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),xi(),Nt();var n=this._moved&&this._moving;this._moving=!1,nn._dragging=!1,n&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function sa(t,n,o){var a,c=[1,4,2,8],f,b,I,A,W,et,ht,Pt;for(f=0,et=t.length;f<et;f++)t[f]._code=Tn(t[f],n);for(I=0;I<4;I++){for(ht=c[I],a=[],f=0,et=t.length,b=et-1;f<et;b=f++)A=t[f],W=t[b],A._code&ht?W._code&ht||(Pt=br(W,A,ht,n,o),Pt._code=Tn(Pt,n),a.push(Pt)):(W._code&ht&&(Pt=br(W,A,ht,n,o),Pt._code=Tn(Pt,n),a.push(Pt)),a.push(A));t=a}return t}function aa(t,n){var o,a,c,f,b,I,A,W,et;if(!t||t.length===0)throw new Error("latlngs not passed");ye(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ht=pt([0,0]),Pt=ut(t),se=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());se<1700&&(ht=Go(t));var Xt=t.length,be=[];for(o=0;o<Xt;o++){var ce=pt(t[o]);be.push(n.project(pt([ce.lat-ht.lat,ce.lng-ht.lng])))}for(I=A=W=0,o=0,a=Xt-1;o<Xt;a=o++)c=be[o],f=be[a],b=c.y*f.x-f.y*c.x,A+=(c.x+f.x)*b,W+=(c.y+f.y)*b,I+=b*3;I===0?et=be[0]:et=[A/I,W/I];var Xn=n.unproject(Z(et));return pt([Xn.lat+ht.lat,Xn.lng+ht.lng])}function Go(t){for(var n=0,o=0,a=0,c=0;c<t.length;c++){var f=pt(t[c]);n+=f.lat,o+=f.lng,a++}return pt([n/a,o/a])}var Pc={__proto__:null,clipPolygon:sa,polygonCenter:aa,centroid:Go};function la(t,n){if(!n||!t.length)return t.slice();var o=n*n;return t=Lc(t,o),t=Tc(t,o),t}function ua(t,n,o){return Math.sqrt(Li(t,n,o,!0))}function Cc(t,n,o){return Li(t,n,o)}function Tc(t,n){var o=t.length,a=typeof Uint8Array<"u"?Uint8Array:Array,c=new a(o);c[0]=c[o-1]=1,Wo(t,c,n,0,o-1);var f,b=[];for(f=0;f<o;f++)c[f]&&b.push(t[f]);return b}function Wo(t,n,o,a,c){var f=0,b,I,A;for(I=a+1;I<=c-1;I++)A=Li(t[I],t[a],t[c],!0),A>f&&(b=I,f=A);f>o&&(n[b]=1,Wo(t,n,o,a,b),Wo(t,n,o,b,c))}function Lc(t,n){for(var o=[t[0]],a=1,c=0,f=t.length;a<f;a++)kc(t[a],t[c])>n&&(o.push(t[a]),c=a);return c<f-1&&o.push(t[f-1]),o}var ca;function ha(t,n,o,a,c){var f=a?ca:Tn(t,o),b=Tn(n,o),I,A,W;for(ca=b;;){if(!(f|b))return[t,n];if(f&b)return!1;I=f||b,A=br(t,n,I,o,c),W=Tn(A,o),I===f?(t=A,f=W):(n=A,b=W)}}function br(t,n,o,a,c){var f=n.x-t.x,b=n.y-t.y,I=a.min,A=a.max,W,et;return o&8?(W=t.x+f*(A.y-t.y)/b,et=A.y):o&4?(W=t.x+f*(I.y-t.y)/b,et=I.y):o&2?(W=A.x,et=t.y+b*(A.x-t.x)/f):o&1&&(W=I.x,et=t.y+b*(I.x-t.x)/f),new $(W,et,c)}function Tn(t,n){var o=0;return t.x<n.min.x?o|=1:t.x>n.max.x&&(o|=2),t.y<n.min.y?o|=4:t.y>n.max.y&&(o|=8),o}function kc(t,n){var o=n.x-t.x,a=n.y-t.y;return o*o+a*a}function Li(t,n,o,a){var c=n.x,f=n.y,b=o.x-c,I=o.y-f,A=b*b+I*I,W;return A>0&&(W=((t.x-c)*b+(t.y-f)*I)/A,W>1?(c=o.x,f=o.y):W>0&&(c+=b*W,f+=I*W)),b=t.x-c,I=t.y-f,a?b*b+I*I:new $(c,f)}function ye(t){return!q(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function da(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ye(t)}function fa(t,n){var o,a,c,f,b,I,A,W;if(!t||t.length===0)throw new Error("latlngs not passed");ye(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var et=pt([0,0]),ht=ut(t),Pt=ht.getNorthWest().distanceTo(ht.getSouthWest())*ht.getNorthEast().distanceTo(ht.getNorthWest());Pt<1700&&(et=Go(t));var se=t.length,Xt=[];for(o=0;o<se;o++){var be=pt(t[o]);Xt.push(n.project(pt([be.lat-et.lat,be.lng-et.lng])))}for(o=0,a=0;o<se-1;o++)a+=Xt[o].distanceTo(Xt[o+1])/2;if(a===0)W=Xt[0];else for(o=0,f=0;o<se-1;o++)if(b=Xt[o],I=Xt[o+1],c=b.distanceTo(I),f+=c,f>a){A=(f-a)/c,W=[I.x-A*(I.x-b.x),I.y-A*(I.y-b.y)];break}var ce=n.unproject(Z(W));return pt([ce.lat+et.lat,ce.lng+et.lng])}var Ic={__proto__:null,simplify:la,pointToSegmentDistance:ua,closestPointOnSegment:Cc,clipSegment:ha,_getEdgeIntersection:br,_getBitCode:Tn,_sqClosestPointOnSegment:Li,isFlat:ye,_flat:da,polylineCenter:fa},jo={project:function(t){return new $(t.lng,t.lat)},unproject:function(t){return new yt(t.y,t.x)},bounds:new nt([-180,-90],[180,90])},Ko={R:6378137,R_MINOR:6356752314245179e-9,bounds:new nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var n=Math.PI/180,o=this.R,a=t.lat*n,c=this.R_MINOR/o,f=Math.sqrt(1-c*c),b=f*Math.sin(a),I=Math.tan(Math.PI/4-a/2)/Math.pow((1-b)/(1+b),f/2);return a=-o*Math.log(Math.max(I,1e-10)),new $(t.lng*n*o,a)},unproject:function(t){for(var n=180/Math.PI,o=this.R,a=this.R_MINOR/o,c=Math.sqrt(1-a*a),f=Math.exp(-t.y/o),b=Math.PI/2-2*Math.atan(f),I=0,A=.1,W;I<15&&Math.abs(A)>1e-7;I++)W=c*Math.sin(b),W=Math.pow((1-W)/(1+W),c/2),A=Math.PI/2-2*Math.atan(f*W)-b,b+=A;return new yt(b*n,t.x*n/o)}},Ec={__proto__:null,LonLat:jo,Mercator:Ko,SphericalMercator:de},Ac=l({},ee,{code:"EPSG:3395",projection:Ko,transformation:function(){var t=.5/(Math.PI*Ko.R);return ve(t,.5,-t,.5)}()}),ma=l({},ee,{code:"EPSG:4326",projection:jo,transformation:ve(1/180,1,-1/180,.5)}),Oc=l({},xt,{projection:jo,transformation:ve(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,n){var o=n.lng-t.lng,a=n.lat-t.lat;return Math.sqrt(o*o+a*a)},infinite:!0});xt.Earth=ee,xt.EPSG3395=Ac,xt.EPSG3857=hi,xt.EPSG900913=yo,xt.EPSG4326=ma,xt.Simple=Oc;var Te=it.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[p(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[p(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var n=t.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});It.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var n=p(t);return this._layers[n]?this:(this._layers[n]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var n=p(t);return this._layers[n]?(this._loaded&&t.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return p(t)in this._layers},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},_addLayers:function(t){t=t?q(t)?t:[t]:[];for(var n=0,o=t.length;n<o;n++)this.addLayer(t[n])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[p(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var n=p(t);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,n=-1/0,o=this._getZoomSpan();for(var a in this._zoomBoundLayers){var c=this._zoomBoundLayers[a].options;t=c.minZoom===void 0?t:Math.min(t,c.minZoom),n=c.maxZoom===void 0?n:Math.max(n,c.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=Te.extend({initialize:function(t,n){E(this,n),this._layers={};var o,a;if(t)for(o=0,a=t.length;o<a;o++)this.addLayer(t[o])},addLayer:function(t){var n=this.getLayerId(t);return this._layers[n]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var n=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(t){var n=typeof t=="number"?t:this.getLayerId(t);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var n=Array.prototype.slice.call(arguments,1),o,a;for(o in this._layers)a=this._layers[o],a[t]&&a[t].apply(a,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,n){for(var o in this._layers)t.call(n,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return p(t)}}),Mc=function(t,n){return new Gn(t,n)},ze=Gn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Gn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Gn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new lt;for(var n in this._layers){var o=this._layers[n];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),Dc=function(t,n){return new ze(t,n)},Wn=wt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){E(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,n){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,n){var o=this.options,a=o[n+"Size"];typeof a=="number"&&(a=[a,a]);var c=Z(a),f=Z(n==="shadow"&&o.shadowAnchor||o.iconAnchor||c&&c.divideBy(2,!0));t.className="leaflet-marker-"+n+" "+(o.className||""),f&&(t.style.marginLeft=-f.x+"px",t.style.marginTop=-f.y+"px"),c&&(t.style.width=c.x+"px",t.style.height=c.y+"px")},_createImg:function(t,n){return n=n||document.createElement("img"),n.src=t,n},_getIconUrl:function(t){return at.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Bc(t){return new Wn(t)}var ki=Wn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ki.imagePath!="string"&&(ki.imagePath=this._detectIconPath()),(this.options.imagePath||ki.imagePath)+Wn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var n=function(o,a,c){var f=a.exec(o);return f&&f[c]};return t=n(t,/^url\((['"])?(.+)\1\)$/,2),t&&n(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=kt("div","leaflet-default-icon-path",document.body),n=xn(t,"background-image")||xn(t,"backgroundImage");if(document.body.removeChild(t),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),pa=Ae.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new nn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),y(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&M(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var n=this._marker,o=n._map,a=this._marker.options.autoPanSpeed,c=this._marker.options.autoPanPadding,f=Ct(n._icon),b=o.getPixelBounds(),I=o.getPixelOrigin(),A=ft(b.min._subtract(I).add(c),b.max._subtract(I).subtract(c));if(!A.contains(f)){var W=Z((Math.max(A.max.x,f.x)-A.max.x)/(b.max.x-A.max.x)-(Math.min(A.min.x,f.x)-A.min.x)/(b.min.x-A.min.x),(Math.max(A.max.y,f.y)-A.max.y)/(b.max.y-A.max.y)-(Math.min(A.min.y,f.y)-A.min.y)/(b.min.y-A.min.y)).multiplyBy(a);o.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ct(n._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=z(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(tt(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,t)))},_onDrag:function(t){var n=this._marker,o=n._shadow,a=Ct(n._icon),c=n._map.layerPointToLatLng(a);o&&ct(o,a),n._latlng=c,t.latlng=c,t.oldLatLng=this._oldLatLng,n.fire("move",t).fire("drag",t)},_onDragEnd:function(t){tt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),wr=Te.extend({options:{icon:new ki,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,n){E(this,n),this._latlng=pt(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var n=this._latlng;return this._latlng=pt(t),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),y(o,n),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(o,"focus",this._panOnFocus,this);var c=t.icon.createShadow(this._shadow),f=!1;c!==this._shadow&&(this._removeShadow(),f=!0),c&&(y(c,n),c.alt=""),this._shadow=c,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),c&&f&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),m(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&m(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ct(this._icon,t),this._shadow&&ct(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pa)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pa(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&K(this._icon,t),this._shadow&&K(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var n=this.options.icon.options,o=n.iconSize?Z(n.iconSize):Z(0,0),a=n.iconAnchor?Z(n.iconAnchor):Z(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:o.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rc(t,n){return new wr(t,n)}var rn=Te.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return E(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),xr=rn.extend({options:{fill:!0,radius:10},initialize:function(t,n){E(this,n),this._latlng=pt(t),this._radius=this.options.radius},setLatLng:function(t){var n=this._latlng;return this._latlng=pt(t),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var n=t&&t.radius||this._radius;return rn.prototype.setStyle.call(this,t),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,n=this._radiusY||t,o=this._clickTolerance(),a=[t+o,n+o];this._pxBounds=new nt(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nc(t,n){return new xr(t,n)}var qo=xr.extend({initialize:function(t,n,o){if(typeof n=="number"&&(n=l({},o,{radius:n})),E(this,n),this._latlng=pt(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rn.prototype.setStyle,_project:function(){var t=this._latlng.lng,n=this._latlng.lat,o=this._map,a=o.options.crs;if(a.distance===ee.distance){var c=Math.PI/180,f=this._mRadius/ee.R/c,b=o.project([n+f,t]),I=o.project([n-f,t]),A=b.add(I).divideBy(2),W=o.unproject(A).lat,et=Math.acos((Math.cos(f*c)-Math.sin(n*c)*Math.sin(W*c))/(Math.cos(n*c)*Math.cos(W*c)))/c;(isNaN(et)||et===0)&&(et=f/Math.cos(Math.PI/180*n)),this._point=A.subtract(o.getPixelOrigin()),this._radius=isNaN(et)?0:A.x-o.project([W,t-et]).x,this._radiusY=A.y-b.y}else{var ht=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(ht).x}this._updateBounds()}});function zc(t,n,o){return new qo(t,n,o)}var Fe=rn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,n){E(this,n),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var n=1/0,o=null,a=Li,c,f,b=0,I=this._parts.length;b<I;b++)for(var A=this._parts[b],W=1,et=A.length;W<et;W++){c=A[W-1],f=A[W];var ht=a(t,c,f,!0);ht<n&&(n=ht,o=a(t,c,f))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fa(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,n){return n=n||this._defaultShape(),t=pt(t),n.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new lt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var n=[],o=ye(t),a=0,c=t.length;a<c;a++)o?(n[a]=pt(t[a]),this._bounds.extend(n[a])):n[a]=this._convertLatLngs(t[a]);return n},_project:function(){var t=new nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),n=new $(t,t);this._rawPxBounds&&(this._pxBounds=new nt([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(t,n,o){var a=t[0]instanceof yt,c=t.length,f,b;if(a){for(b=[],f=0;f<c;f++)b[f]=this._map.latLngToLayerPoint(t[f]),o.extend(b[f]);n.push(b)}else for(f=0;f<c;f++)this._projectLatlngs(t[f],n,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,a,c,f,b,I,A;for(o=0,c=0,f=this._rings.length;o<f;o++)for(A=this._rings[o],a=0,b=A.length;a<b-1;a++)I=ha(A[a],A[a+1],t,a,!0),I&&(n[c]=n[c]||[],n[c].push(I[0]),(I[1]!==A[a+1]||a===b-2)&&(n[c].push(I[1]),c++))}},_simplifyPoints:function(){for(var t=this._parts,n=this.options.smoothFactor,o=0,a=t.length;o<a;o++)t[o]=la(t[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,n){var o,a,c,f,b,I,A=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,f=this._parts.length;o<f;o++)for(I=this._parts[o],a=0,b=I.length,c=b-1;a<b;c=a++)if(!(!n&&a===0)&&ua(t,I[c],I[a])<=A)return!0;return!1}});function Fc(t,n){return new Fe(t,n)}Fe._flat=da;var jn=Fe.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return aa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var n=Fe.prototype._convertLatLngs.call(this,t),o=n.length;return o>=2&&n[0]instanceof yt&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(t){Fe.prototype._setLatLngs.call(this,t),ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,n=this.options.weight,o=new $(n,n);if(t=new nt(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,c=this._rings.length,f;a<c;a++)f=sa(this._rings[a],t,!0),f.length&&this._parts.push(f)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var n=!1,o,a,c,f,b,I,A,W;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(f=0,A=this._parts.length;f<A;f++)for(o=this._parts[f],b=0,W=o.length,I=W-1;b<W;I=b++)a=o[b],c=o[I],a.y>t.y!=c.y>t.y&&t.x<(c.x-a.x)*(t.y-a.y)/(c.y-a.y)+a.x&&(n=!n);return n||Fe.prototype._containsPoint.call(this,t,!0)}});function Uc(t,n){return new jn(t,n)}var Ue=ze.extend({initialize:function(t,n){E(this,n),this._layers={},t&&this.addData(t)},addData:function(t){var n=q(t)?t:t.features,o,a,c;if(n){for(o=0,a=n.length;o<a;o++)c=n[o],(c.geometries||c.geometry||c.features||c.coordinates)&&this.addData(c);return this}var f=this.options;if(f.filter&&!f.filter(t))return this;var b=Sr(t,f);return b?(b.feature=Tr(t),b.defaultOptions=b.options,this.resetStyle(b),f.onEachFeature&&f.onEachFeature(t,b),this.addLayer(b)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(n){this._setLayerStyle(n,t)},this)},_setLayerStyle:function(t,n){t.setStyle&&(typeof n=="function"&&(n=n(t.feature)),t.setStyle(n))}});function Sr(t,n){var o=t.type==="Feature"?t.geometry:t,a=o?o.coordinates:null,c=[],f=n&&n.pointToLayer,b=n&&n.coordsToLatLng||Xo,I,A,W,et;if(!a&&!o)return null;switch(o.type){case"Point":return I=b(a),ga(f,t,I,n);case"MultiPoint":for(W=0,et=a.length;W<et;W++)I=b(a[W]),c.push(ga(f,t,I,n));return new ze(c);case"LineString":case"MultiLineString":return A=Pr(a,o.type==="LineString"?0:1,b),new Fe(A,n);case"Polygon":case"MultiPolygon":return A=Pr(a,o.type==="Polygon"?1:2,b),new jn(A,n);case"GeometryCollection":for(W=0,et=o.geometries.length;W<et;W++){var ht=Sr({geometry:o.geometries[W],type:"Feature",properties:t.properties},n);ht&&c.push(ht)}return new ze(c);case"FeatureCollection":for(W=0,et=o.features.length;W<et;W++){var Pt=Sr(o.features[W],n);Pt&&c.push(Pt)}return new ze(c);default:throw new Error("Invalid GeoJSON object.")}}function ga(t,n,o,a){return t?t(n,o):new wr(o,a&&a.markersInheritOptions&&a)}function Xo(t){return new yt(t[1],t[0],t[2])}function Pr(t,n,o){for(var a=[],c=0,f=t.length,b;c<f;c++)b=n?Pr(t[c],n-1,o):(o||Xo)(t[c]),a.push(b);return a}function Yo(t,n){return t=pt(t),t.alt!==void 0?[x(t.lng,n),x(t.lat,n),x(t.alt,n)]:[x(t.lng,n),x(t.lat,n)]}function Cr(t,n,o,a){for(var c=[],f=0,b=t.length;f<b;f++)c.push(n?Cr(t[f],ye(t[f])?0:n-1,o,a):Yo(t[f],a));return!n&&o&&c.length>0&&c.push(c[0].slice()),c}function Kn(t,n){return t.feature?l({},t.feature,{geometry:n}):Tr(n)}function Tr(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Jo={toGeoJSON:function(t){return Kn(this,{type:"Point",coordinates:Yo(this.getLatLng(),t)})}};wr.include(Jo),qo.include(Jo),xr.include(Jo),Fe.include({toGeoJSON:function(t){var n=!ye(this._latlngs),o=Cr(this._latlngs,n?1:0,!1,t);return Kn(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),jn.include({toGeoJSON:function(t){var n=!ye(this._latlngs),o=n&&!ye(this._latlngs[0]),a=Cr(this._latlngs,o?2:n?1:0,!0,t);return n||(a=[a]),Kn(this,{type:(o?"Multi":"")+"Polygon",coordinates:a})}}),Gn.include({toMultiPoint:function(t){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(t).geometry.coordinates)}),Kn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(t){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(t);var o=n==="GeometryCollection",a=[];return this.eachLayer(function(c){if(c.toGeoJSON){var f=c.toGeoJSON(t);if(o)a.push(f.geometry);else{var b=Tr(f);b.type==="FeatureCollection"?a.push.apply(a,b.features):a.push(b)}}}),o?Kn(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function _a(t,n){return new Ue(t,n)}var Zc=_a,Lr=Te.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,n,o){this._url=t,this._bounds=ut(n),E(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){m(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&_(this._image),this},bringToBack:function(){return this._map&&P(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ut(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",n=this._image=t?this._url:kt("img");if(y(n,"leaflet-image-layer"),this._zoomAnimated&&y(n,"leaflet-zoom-animated"),this.options.className&&y(n,this.options.className),n.onselectstart=g,n.onmousemove=g,n.onload=h(this.fire,this,"load"),n.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(t){var n=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;mt(this._image,o,n)},_reset:function(){var t=this._image,n=new nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();ct(t,n.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){K(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Hc=function(t,n,o){return new Lr(t,n,o)},va=Lr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",n=this._image=t?this._url:kt("video");if(y(n,"leaflet-image-layer"),this._zoomAnimated&&y(n,"leaflet-zoom-animated"),this.options.className&&y(n,this.options.className),n.onselectstart=g,n.onmousemove=g,n.onloadeddata=h(this.fire,this,"load"),t){for(var o=n.getElementsByTagName("source"),a=[],c=0;c<o.length;c++)a.push(o[c].src);this._url=o.length>0?a:[n.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var f=0;f<this._url.length;f++){var b=kt("source");b.src=this._url[f],n.appendChild(b)}}});function $c(t,n,o){return new va(t,n,o)}var ya=Lr.extend({_initImage:function(){var t=this._image=this._url;y(t,"leaflet-image-layer"),this._zoomAnimated&&y(t,"leaflet-zoom-animated"),this.options.className&&y(t,this.options.className),t.onselectstart=g,t.onmousemove=g}});function Vc(t,n,o){return new ya(t,n,o)}var Oe=Te.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,n){t&&(t instanceof yt||q(t))?(this._latlng=pt(t),E(this,n)):(E(this,t),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&K(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&K(this._container,1),this.bringToFront(),this.options.interactive&&(y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(K(this._container,0),this._removeTimeout=setTimeout(h(m,void 0,this._container),200)):m(this._container),this.options.interactive&&(M(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=pt(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_(this._container),this},bringToBack:function(){return this._map&&P(this._container),this},_prepareOpen:function(t){var n=this._source;if(!n._map)return!1;if(n instanceof ze){n=null;var o=this._source._layers;for(var a in o)if(o[a]._map){n=o[a];break}if(!n)return!1;this._source=n}if(!t)if(n.getCenter)t=n.getCenter();else if(n.getLatLng)t=n.getLatLng();else if(n.getBounds)t=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")t.innerHTML=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),n=Z(this.options.offset),o=this._getAnchor();this._zoomAnimated?ct(this._container,t.add(o)):n=n.add(t).add(o);var a=this._containerBottom=-n.y,c=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=a+"px",this._container.style.left=c+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(t,n,o,a){var c=n;return c instanceof t||(c=new t(a).setContent(n)),o&&c.setLatLng(o),c}}),Te.include({_initOverlay:function(t,n,o,a){var c=o;return c instanceof t?(E(c,a),c._source=this):(c=n&&!a?n:new t(a,this),c.setContent(o)),c}});var kr=Oe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Oe.prototype.openOn.call(this,t)},onAdd:function(t){Oe.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rn||this._source.on("preclick",Pn))},onRemove:function(t){Oe.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rn||this._source.off("preclick",Pn))},getEvents:function(){var t=Oe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",n=this._container=kt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=kt("div",t+"-content-wrapper",n);if(this._contentNode=kt("div",t+"-content",o),Ci(n),Zo(this._contentNode),bt(n,"contextmenu",Pn),this._tipContainer=kt("div",t+"-tip-container",n),this._tip=kt("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=kt("a",t+"-close-button",n);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',bt(a,"click",function(c){Qt(c),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,n=t.style;n.width="",n.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var a=t.offsetHeight,c=this.options.maxHeight,f="leaflet-popup-scrolled";c&&a>c?(n.height=c+"px",y(t,f)):M(t,f),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();ct(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,n=parseInt(xn(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,a=this._containerWidth,c=new $(this._containerLeft,-o-this._containerBottom);c._add(Ct(this._container));var f=t.layerPointToContainerPoint(c),b=Z(this.options.autoPanPadding),I=Z(this.options.autoPanPaddingTopLeft||b),A=Z(this.options.autoPanPaddingBottomRight||b),W=t.getSize(),et=0,ht=0;f.x+a+A.x>W.x&&(et=f.x+a-W.x+A.x),f.x-et-I.x<0&&(et=f.x-I.x),f.y+o+A.y>W.y&&(ht=f.y+o-W.y+A.y),f.y-ht-I.y<0&&(ht=f.y-I.y),(et||ht)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([et,ht]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gc=function(t,n){return new kr(t,n)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(t,n,o){return this._initOverlay(kr,t,n,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Te.include({bindPopup:function(t,n){return this._popup=this._initOverlay(kr,this._popup,t,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ze||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Cn(t);var n=t.layer||t.target;if(this._popup._source===n&&!(n instanceof rn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=n,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ir=Oe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Oe.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Oe.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Oe.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",n=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var n,o,a=this._map,c=this._container,f=a.latLngToContainerPoint(a.getCenter()),b=a.layerPointToContainerPoint(t),I=this.options.direction,A=c.offsetWidth,W=c.offsetHeight,et=Z(this.options.offset),ht=this._getAnchor();I==="top"?(n=A/2,o=W):I==="bottom"?(n=A/2,o=0):I==="center"?(n=A/2,o=W/2):I==="right"?(n=0,o=W/2):I==="left"?(n=A,o=W/2):b.x<f.x?(I="right",n=0,o=W/2):(I="left",n=A+(et.x+ht.x)*2,o=W/2),t=t.subtract(Z(n,o,!0)).add(et).add(ht),M(c,"leaflet-tooltip-right"),M(c,"leaflet-tooltip-left"),M(c,"leaflet-tooltip-top"),M(c,"leaflet-tooltip-bottom"),y(c,"leaflet-tooltip-"+I),ct(c,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&K(this._container,t)},_animateZoom:function(t){var n=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(n)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wc=function(t,n){return new Ir(t,n)};It.include({openTooltip:function(t,n,o){return this._initOverlay(Ir,t,n,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Te.include({bindTooltip:function(t,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ir,this._tooltip,t,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var n=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ze||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&(bt(n,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),bt(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var n=typeof t.getElement=="function"&&t.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var n=t.latlng,o,a;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(n)}});var ba=Wn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var n=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(w(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var a=Z(o.bgPos);n.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function jc(t){return new ba(t)}Wn.Default=ki;var Ii=Te.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){E(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),m(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(P(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=v(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof $?t:new $(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var n=this.getPane().children,o=-t(-1/0,1/0),a=0,c=n.length,f;a<c;a++)f=n[a].style.zIndex,n[a]!==this._container&&f&&(o=t(o,+f));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){K(this._container,this.options.opacity);var t=+new Date,n=!1,o=!1;for(var a in this._tiles){var c=this._tiles[a];if(!(!c.current||!c.loaded)){var f=Math.min(1,(t-c.loaded)/200);K(c.el,f),f<1?n=!0:(c.active?o=!0:this._onOpaqueTile(c),c.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(tt(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,n=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=n-Math.abs(t-o),this._onUpdateLevel(o)):(m(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var a=this._levels[t],c=this._map;return a||(a=this._levels[t]={},a.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=n,a.origin=c.project(c.unproject(c.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,c.getCenter(),c.getZoom()),g(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var t,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)n=this._tiles[t],n.retain=n.current;for(t in this._tiles)if(n=this._tiles[t],n.current&&!n.active){var a=n.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var n in this._tiles)this._tiles[n].coords.z===t&&this._removeTile(n)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)m(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,n,o,a){var c=Math.floor(t/2),f=Math.floor(n/2),b=o-1,I=new $(+c,+f);I.z=+b;var A=this._tileCoordsToKey(I),W=this._tiles[A];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),b>a?this._retainParent(c,f,b,a):!1)},_retainChildren:function(t,n,o,a){for(var c=2*t;c<2*t+2;c++)for(var f=2*n;f<2*n+2;f++){var b=new $(c,f);b.z=o+1;var I=this._tileCoordsToKey(b),A=this._tiles[I];if(A&&A.active){A.retain=!0;continue}else A&&A.loaded&&(A.retain=!0);o+1<a&&this._retainChildren(c,f,o+1,a)}},_resetView:function(t){var n=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var n=this.options;return n.minNativeZoom!==void 0&&t<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<t?n.maxNativeZoom:t},_setView:function(t,n,o,a){var c=Math.round(n);this.options.maxZoom!==void 0&&c>this.options.maxZoom||this.options.minZoom!==void 0&&c<this.options.minZoom?c=void 0:c=this._clampZoom(c);var f=this.options.updateWhenZooming&&c!==this._tileZoom;(!a||f)&&(this._tileZoom=c,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),c!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,n)},_setZoomTransforms:function(t,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,n)},_setZoomTransform:function(t,n,o){var a=this._map.getZoomScale(o,t.zoom),c=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(n,o)).round();at.any3d?mt(t.el,c,a):ct(t.el,c)},_resetGrid:function(){var t=this._map,n=t.options.crs,o=this._tileSize=this.getTileSize(),a=this._tileZoom,c=this._map.getPixelWorldBounds(this._tileZoom);c&&(this._globalTileRange=this._pxBoundsToTileRange(c)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],a).x/o.x),Math.ceil(t.project([0,n.wrapLng[1]],a).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],a).y/o.x),Math.ceil(t.project([n.wrapLat[1],0],a).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),a=n.getZoomScale(o,this._tileZoom),c=n.project(t,this._tileZoom).floor(),f=n.getSize().divideBy(a*2);return new nt(c.subtract(f),c.add(f))},_update:function(t){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(t===void 0&&(t=n.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),c=this._pxBoundsToTileRange(a),f=c.getCenter(),b=[],I=this.options.keepBuffer,A=new nt(c.getBottomLeft().subtract([I,-I]),c.getTopRight().add([I,-I]));if(!(isFinite(c.min.x)&&isFinite(c.min.y)&&isFinite(c.max.x)&&isFinite(c.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var et=this._tiles[W].coords;(et.z!==this._tileZoom||!A.contains(new $(et.x,et.y)))&&(this._tiles[W].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var ht=c.min.y;ht<=c.max.y;ht++)for(var Pt=c.min.x;Pt<=c.max.x;Pt++){var se=new $(Pt,ht);if(se.z=this._tileZoom,!!this._isValidTile(se)){var Xt=this._tiles[this._tileCoordsToKey(se)];Xt?Xt.current=!0:b.push(se)}}if(b.sort(function(ce,Xn){return ce.distanceTo(f)-Xn.distanceTo(f)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var be=document.createDocumentFragment();for(Pt=0;Pt<b.length;Pt++)this._addTile(b[Pt],be);this._level.el.appendChild(be)}}}},_isValidTile:function(t){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!n.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return ut(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var n=this._map,o=this.getTileSize(),a=t.scaleBy(o),c=a.add(o),f=n.unproject(a,t.z),b=n.unproject(c,t.z);return[f,b]},_tileCoordsToBounds:function(t){var n=this._tileCoordsToNwSe(t),o=new lt(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var n=t.split(":"),o=new $(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(t){var n=this._tiles[t];n&&(m(n.el),delete this._tiles[t],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){y(t,"leaflet-tile");var n=this.getTileSize();t.style.width=n.x+"px",t.style.height=n.y+"px",t.onselectstart=g,t.onmousemove=g,at.ielt9&&this.options.opacity<1&&K(t,this.options.opacity)},_addTile:function(t,n){var o=this._getTilePos(t),a=this._tileCoordsToKey(t),c=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(c),this.createTile.length<2&&z(h(this._tileReady,this,t,null,c)),ct(c,o),this._tiles[a]={el:c,coords:t,current:!0},n.appendChild(c),this.fire("tileloadstart",{tile:c,coords:t})},_tileReady:function(t,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:t});var a=this._tileCoordsToKey(t);o=this._tiles[a],o&&(o.loaded=+new Date,this._map._fadeAnimated?(K(o.el,0),tt(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(y(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var n=new $(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return n.z=t.z,n},_pxBoundsToTileRange:function(t){var n=this.getTileSize();return new nt(t.min.unscaleBy(n).floor(),t.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Kc(t){return new Ii(t)}var qn=Ii.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,n){this._url=t,n=E(this,n),n.detectRetina&&at.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,n){return this._url===t&&n===void 0&&(n=!0),this._url=t,n||this.redraw(),this},createTile:function(t,n){var o=document.createElement("img");return bt(o,"load",h(this._tileOnLoad,this,n,o)),bt(o,"error",h(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var n={r:at.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=o),n["-y"]=o}return F(this._url,l(n,this.options))},_tileOnLoad:function(t,n){at.ielt9?setTimeout(h(t,this,null,n),0):t(null,n)},_tileOnError:function(t,n,o){var a=this.options.errorTileUrl;a&&n.getAttribute("src")!==a&&(n.src=a),t(o,n)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,a=this.options.zoomOffset;return o&&(t=n-t),t+a},_getSubdomain:function(t){var n=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var t,n;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=g,n.onerror=g,!n.complete)){n.src=k;var o=this._tiles[t].coords;m(n),delete this._tiles[t],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(t){var n=this._tiles[t];if(n)return n.el.setAttribute("src",k),Ii.prototype._removeTile.call(this,t)},_tileReady:function(t,n,o){if(!(!this._map||o&&o.getAttribute("src")===k))return Ii.prototype._tileReady.call(this,t,n,o)}});function wa(t,n){return new qn(t,n)}var xa=qn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var o=l({},this.defaultWmsParams);for(var a in n)a in this.options||(o[a]=n[a]);n=E(this,n);var c=n.detectRetina&&at.retina?2:1,f=this.getTileSize();o.width=f.x*c,o.height=f.y*c,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,qn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var n=this._tileCoordsToNwSe(t),o=this._crs,a=ft(o.project(n[0]),o.project(n[1])),c=a.min,f=a.max,b=(this._wmsVersion>=1.3&&this._crs===ma?[c.y,c.x,f.y,f.x]:[c.x,c.y,f.x,f.y]).join(","),I=qn.prototype.getTileUrl.call(this,t);return I+G(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(t,n){return l(this.wmsParams,t),n||this.redraw(),this}});function qc(t,n){return new xa(t,n)}qn.WMS=xa,wa.wms=qc;var Ze=Te.extend({options:{padding:.1},initialize:function(t){E(this,t),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,n){var o=this._map.getZoomScale(n,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),c=this._map.project(this._center,n),f=a.multiplyBy(-o).add(c).subtract(this._map._getNewPixelOrigin(t,n));at.any3d?mt(this._container,f,o):ct(this._container,f)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-t)).round();this._bounds=new nt(o,o.add(n.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sa=Ze.extend({options:{tolerance:0},getEvents:function(){var t=Ze.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ze.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");bt(t,"mousemove",this._onMouseMove,this),bt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){tt(this._redrawRequest),delete this._ctx,m(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var n in this._layers)t=this._layers[n],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var t=this._bounds,n=this._container,o=t.getSize(),a=at.retina?2:1;ct(n,t.min),n.width=a*o.x,n.height=a*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ze.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[p(t)]=t;var n=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var n=t._order,o=n.next,a=n.prev;o?o.prev=a:this._drawLast=a,a?a.next=o:this._drawFirst=o,delete t._order,delete this._layers[p(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var n=t.options.dashArray.split(/[, ]+/),o=[],a,c;for(c=0;c<n.length;c++){if(a=Number(n[c]),isNaN(a))return;o.push(a)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var n=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new nt,this._redrawBounds.extend(t._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(t._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var n=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,n){if(this._drawing){var o,a,c,f,b=t._parts,I=b.length,A=this._ctx;if(I){for(A.beginPath(),o=0;o<I;o++){for(a=0,c=b[o].length;a<c;a++)f=b[o][a],A[a?"lineTo":"moveTo"](f.x,f.y);n&&A.closePath()}this._fillStroke(A,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var n=t._point,o=this._ctx,a=Math.max(Math.round(t._radius),1),c=(Math.max(Math.round(t._radiusY),1)||a)/a;c!==1&&(o.save(),o.scale(1,c)),o.beginPath(),o.arc(n.x,n.y/c,a,0,Math.PI*2,!1),c!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,n){var o=n.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(n.options&&n.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var n=this._map.mouseEventToLayerPoint(t),o,a,c=this._drawFirst;c;c=c.next)o=c.layer,o.options.interactive&&o._containsPoint(n)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(a=o);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,n)}},_handleMouseOut:function(t){var n=this._hoveredLayer;n&&(M(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,n){if(!this._mouseHoverThrottled){for(var o,a,c=this._drawFirst;c;c=c.next)o=c.layer,o.options.interactive&&o._containsPoint(n)&&(a=o);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(y(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,n,o){this._map._fireDOMEvent(n,o||n.type,t)},_bringToFront:function(t){var n=t._order;if(n){var o=n.next,a=n.prev;if(o)o.prev=a;else return;a?a.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(t)}},_bringToBack:function(t){var n=t._order;if(n){var o=n.next,a=n.prev;if(a)a.next=o;else return;o?o.prev=a:a&&(this._drawLast=a),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(t)}}});function Pa(t){return at.canvas?new Sa(t):null}var Ei=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Xc={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ze.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var n=t._container=Ei("shape");y(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",t._path=Ei("path"),n.appendChild(t._path),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){var n=t._container;this._container.appendChild(n),t.options.interactive&&t.addInteractiveTarget(n)},_removePath:function(t){var n=t._container;m(n),t.removeInteractiveTarget(n),delete this._layers[p(t)]},_updateStyle:function(t){var n=t._stroke,o=t._fill,a=t.options,c=t._container;c.stroked=!!a.stroke,c.filled=!!a.fill,a.stroke?(n||(n=t._stroke=Ei("stroke")),c.appendChild(n),n.weight=a.weight+"px",n.color=a.color,n.opacity=a.opacity,a.dashArray?n.dashStyle=q(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=a.lineCap.replace("butt","flat"),n.joinstyle=a.lineJoin):n&&(c.removeChild(n),t._stroke=null),a.fill?(o||(o=t._fill=Ei("fill")),c.appendChild(o),o.color=a.fillColor||a.color,o.opacity=a.fillOpacity):o&&(c.removeChild(o),t._fill=null)},_updateCircle:function(t){var n=t._point.round(),o=Math.round(t._radius),a=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+a+" 0,"+65535*360)},_setPath:function(t,n){t._path.v=n},_bringToFront:function(t){_(t._container)},_bringToBack:function(t){P(t._container)}},Er=at.vml?Ei:xe,Ai=Ze.extend({_initContainer:function(){this._container=Er("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Er("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){m(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ze.prototype._update.call(this);var t=this._bounds,n=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),ct(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(t){var n=t._path=Er("path");t.options.className&&y(n,t.options.className),t.options.interactive&&y(n,"leaflet-interactive"),this._updateStyle(t),this._layers[p(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){m(t._path),t.removeInteractiveTarget(t._path),delete this._layers[p(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var n=t._path,o=t.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(t,n){this._setPath(t,tr(t._parts,n))},_updateCircle:function(t){var n=t._point,o=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||o,c="a"+o+","+a+" 0 1,0 ",f=t._empty()?"M0 0":"M"+(n.x-o)+","+n.y+c+o*2+",0 "+c+-o*2+",0 ";this._setPath(t,f)},_setPath:function(t,n){t._path.setAttribute("d",n)},_bringToFront:function(t){_(t._path)},_bringToBack:function(t){P(t._path)}});at.vml&&Ai.include(Xc);function Ca(t){return at.svg||at.vml?new Ai(t):null}It.include({getRenderer:function(t){var n=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var n=this._paneRenderers[t];return n===void 0&&(n=this._createRenderer({pane:t}),this._paneRenderers[t]=n),n},_createRenderer:function(t){return this.options.preferCanvas&&Pa(t)||Ca(t)}});var Ta=jn.extend({initialize:function(t,n){jn.prototype.initialize.call(this,this._boundsToLatLngs(t),n)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ut(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Yc(t,n){return new Ta(t,n)}Ai.create=Er,Ai.pointsToPath=tr,Ue.geometryToLayer=Sr,Ue.coordsToLatLng=Xo,Ue.coordsToLatLngs=Pr,Ue.latLngToCoords=Yo,Ue.latLngsToCoords=Cr,Ue.getFeature=Kn,Ue.asFeature=Tr,It.mergeOptions({boxZoom:!0});var La=Ae.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){m(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),zt(),Sn(),this._startPoint=this._map.mouseEventToContainerPoint(t),bt(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var n=new nt(this._point,this._startPoint),o=n.getSize();ct(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(m(this._box),M(this._container,"leaflet-crosshair")),Nt(),xi(),Ft(document,{contextmenu:Cn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var n=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",La),It.mergeOptions({doubleClickZoom:!0});var ka=Ae.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var n=this._map,o=n.getZoom(),a=n.options.zoomDelta,c=t.originalEvent.shiftKey?o-a:o+a;n.options.doubleClickZoom==="center"?n.setZoom(c):n.setZoomAround(t.containerPoint,c)}});It.addInitHook("addHandler","doubleClickZoom",ka),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ia=Ae.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new nn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){M(this._map._container,"leaflet-grab"),M(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=ut(this._map.options.maxBounds);this._offsetLimit=ft(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,n){return t-(t-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;t.x<n.min.x&&(t.x=this._viscousLimit(t.x,n.min.x)),t.y<n.min.y&&(t.y=this._viscousLimit(t.y,n.min.y)),t.x>n.max.x&&(t.x=this._viscousLimit(t.x,n.max.x)),t.y>n.max.y&&(t.y=this._viscousLimit(t.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,n=Math.round(t/2),o=this._initialWorldOffset,a=this._draggable._newPos.x,c=(a-n+o)%t+n-o,f=(a+n+o)%t-n-o,b=Math.abs(c+o)<Math.abs(f+o)?c:f;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(t){var n=this._map,o=n.options,a=!o.inertia||t.noInertia||this._times.length<2;if(n.fire("dragend",t),a)n.fire("moveend");else{this._prunePositions(+new Date);var c=this._lastPos.subtract(this._positions[0]),f=(this._lastTime-this._times[0])/1e3,b=o.easeLinearity,I=c.multiplyBy(b/f),A=I.distanceTo([0,0]),W=Math.min(o.inertiaMaxSpeed,A),et=I.multiplyBy(W/A),ht=W/(o.inertiaDeceleration*b),Pt=et.multiplyBy(-ht/2).round();!Pt.x&&!Pt.y?n.fire("moveend"):(Pt=n._limitOffset(Pt,n.options.maxBounds),z(function(){n.panBy(Pt,{duration:ht,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});It.addInitHook("addHandler","dragging",Ia),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ea=Ae.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),bt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,n=document.documentElement,o=t.scrollTop||n.scrollTop,a=t.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(a,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var n=this._panKeys={},o=this.keyCodes,a,c;for(a=0,c=o.left.length;a<c;a++)n[o.left[a]]=[-1*t,0];for(a=0,c=o.right.length;a<c;a++)n[o.right[a]]=[t,0];for(a=0,c=o.down.length;a<c;a++)n[o.down[a]]=[0,t];for(a=0,c=o.up.length;a<c;a++)n[o.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var n=this._zoomKeys={},o=this.keyCodes,a,c;for(a=0,c=o.zoomIn.length;a<c;a++)n[o.zoomIn[a]]=t;for(a=0,c=o.zoomOut.length;a<c;a++)n[o.zoomOut[a]]=-t},_addHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=t.keyCode,o=this._map,a;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(a=this._panKeys[n],t.shiftKey&&(a=Z(a).multiplyBy(3)),o.options.maxBounds&&(a=o._limitOffset(Z(a),o.options.maxBounds)),o.options.worldCopyJump){var c=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(a)));o.panTo(c)}else o.panBy(a)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Cn(t)}}});It.addInitHook("addHandler","keyboard",Ea),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Aa=Ae.extend({addHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var n=ea(t),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),a),Cn(t)},_performZoom:function(){var t=this._map,n=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),c=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,f=o?Math.ceil(c/o)*o:c,b=t._limitZoom(n+(this._delta>0?f:-f))-n;this._delta=0,this._startTime=null,b&&(t.options.scrollWheelZoom==="center"?t.setZoom(n+b):t.setZoomAround(this._lastMousePos,n+b))}});It.addInitHook("addHandler","scrollWheelZoom",Aa);var Jc=600;It.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var Oa=Ae.extend({addHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var n=t.touches[0];this._startPos=this._newPos=new $(n.clientX,n.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(bt(document,"touchend",Qt),bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),Jc),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ft(document,"touchend",Qt),Ft(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(t){var n=t.touches[0];this._newPos=new $(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,n){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});It.addInitHook("addHandler","tapHold",Oa),It.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var Ma=Ae.extend({addHooks:function(){y(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){M(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var n=this._map;if(!(!t.touches||t.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(t.touches[0]),a=n.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(a)._divideBy(2))),this._startDist=o.distanceTo(a),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),Qt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(t.touches[0]),a=n.mouseEventToContainerPoint(t.touches[1]),c=o.distanceTo(a)/this._startDist;if(this._zoom=n.getScaleZoom(c,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&c<1||this._zoom>n.getMaxZoom()&&c>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,c===1)return}else{var f=o._add(a)._divideBy(2)._subtract(this._centerPoint);if(c===1&&f.x===0&&f.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(f),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),tt(this._animRequest);var b=h(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(b,this,!0),Qt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,tt(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});It.addInitHook("addHandler","touchZoom",Ma),It.BoxZoom=La,It.DoubleClickZoom=ka,It.Drag=Ia,It.Keyboard=Ea,It.ScrollWheelZoom=Aa,It.TapHold=Oa,It.TouchZoom=Ma,i.Bounds=nt,i.Browser=at,i.CRS=xt,i.Canvas=Sa,i.Circle=qo,i.CircleMarker=xr,i.Class=wt,i.Control=Ce,i.DivIcon=ba,i.DivOverlay=Oe,i.DomEvent=gc,i.DomUtil=mc,i.Draggable=nn,i.Evented=it,i.FeatureGroup=ze,i.GeoJSON=Ue,i.GridLayer=Ii,i.Handler=Ae,i.Icon=Wn,i.ImageOverlay=Lr,i.LatLng=yt,i.LatLngBounds=lt,i.Layer=Te,i.LayerGroup=Gn,i.LineUtil=Ic,i.Map=It,i.Marker=wr,i.Mixin=Sc,i.Path=rn,i.Point=$,i.PolyUtil=Pc,i.Polygon=jn,i.Polyline=Fe,i.Popup=kr,i.PosAnimation=na,i.Projection=Ec,i.Rectangle=Ta,i.Renderer=Ze,i.SVG=Ai,i.SVGOverlay=ya,i.TileLayer=qn,i.Tooltip=Ir,i.Transformation=Be,i.Util=_t,i.VideoOverlay=va,i.bind=h,i.bounds=ft,i.canvas=Pa,i.circle=zc,i.circleMarker=Nc,i.control=Ti,i.divIcon=jc,i.extend=l,i.featureGroup=Dc,i.geoJSON=_a,i.geoJson=Zc,i.gridLayer=Kc,i.icon=Bc,i.imageOverlay=Hc,i.latLng=pt,i.latLngBounds=ut,i.layerGroup=Mc,i.map=_c,i.marker=Rc,i.point=Z,i.polygon=Uc,i.polyline=Fc,i.popup=Gc,i.rectangle=Yc,i.setOptions=E,i.stamp=p,i.svg=Ca,i.svgOverlay=Vc,i.tileLayer=wa,i.tooltip=Wc,i.transformation=ve,i.version=s,i.videoOverlay=$c;var Qc=window.L;i.noConflict=function(){return window.L=Qc,this},window.L=i})}(Fi,Fi.exports)),Fi.exports}var Rf=Bf();const In=Bu(Rf);var Nf=Bt('<div style="width:100%;max-width:400px;height:180px;border-radius:0.5rem;margin:1.5rem auto 0 auto;">'),zf=Bt('<div class="i-mdi-delete h-6 w-6">'),Ff=Bt('<div class="i-mdi-arrow-left h-6 w-6">'),Uf=Bt('<div><div class="flex flex-col h-full"><header class="flex items-center justify-between p-4 border-b-2 border-border bg-card shadow-sm shrink-0"><div class="flex items-center gap-3 flex-1 min-w-0"><button type=button class="i-mdi-menu h-6 w-6 shrink-0 cursor-pointer bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/80 transition"aria-label="Menü öffnen"></button><h1 class="text-lg font-semibold truncate"></h1></div></header><main class="flex-1 overflow-auto"><div class=detail-view-image-container><img class=detail-view-image><div class=detail-view-fallback><div class="i-mdi-image h-16 w-16 text-muted-foreground"></div></div></div></main><footer class="p-4 border-t-2 border-border bg-card shadow-sm shrink-0">');function Zf({location:r,title:e}){let i=null,s;const l=u=>{i=u};return ri(()=>{i&&(s=In.map(i,{zoomControl:!1,attributionControl:!1}).setView([r.lat,r.lng],13),In.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(s),In.marker([r.lat,r.lng]).addTo(s).bindPopup(e))}),Rt(()=>{s&&s.remove()}),(()=>{var u=Nf();return Ds(l,u),u})()}function Hf(r){const[e,i]=vt(!1);ri(()=>{setTimeout(()=>i(!0),50)});const s=()=>{i(!1),setTimeout(()=>r.onBack(),300)},l=()=>{r.onDelete()};return(()=>{var u=Uf(),h=u.firstChild,d=h.firstChild,p=d.firstChild,v=p.firstChild,S=v.nextSibling,g=d.nextSibling,x=g.firstChild,D=x.firstChild,C=g.nextSibling;return Yl(v,"click",r.onOpenMenu,!0),Et(S,()=>r.item.title),Et(d,V(We,{variant:"ghost",size:"icon",onClick:l,class:"shrink-0 touch-manipulation",get children(){return zf()}}),null),D.addEventListener("error",E=>{E.target.style.display="none";const G=E.target.nextElementSibling;G&&(G.style.display="flex")}),Et(g,V(re,{get when(){return r.item.location},get children(){return V(Zf,{get location(){return r.item.location},get title(){return r.item.title}})}}),null),Et(C,V(We,{variant:"ghost",size:"icon",onClick:s,class:"touch-manipulation",get children(){return Ff()}})),le(E=>{var G=`fixed inset-0 bg-background transition-opacity duration-300 ${e()?"opacity-100":"opacity-0"}`,Q=r.item.src,F=r.item.title;return G!==E.e&&Mn(u,E.e=G),Q!==E.t&&ii(D,"src",E.t=Q),F!==E.a&&ii(D,"alt",E.a=F),E},{e:void 0,t:void 0,a:void 0}),u})()}si(["click"]);var $f=["id","name","validationState","required","disabled","readOnly"];function Vf(r){const e=`form-control-${so()}`,i=pe({id:e},r),[s,l]=vt(),[u,h]=vt(),[d,p]=vt(),[v,S]=vt(),g=(E,G,Q)=>{const F=Q!=null||s()!=null;return[Q,s(),F&&G!=null?E:void 0].filter(Boolean).join(" ")||void 0},x=E=>[d(),v(),E].filter(Boolean).join(" ")||void 0,D=Ht(()=>({"data-valid":Ot(i.validationState)==="valid"?"":void 0,"data-invalid":Ot(i.validationState)==="invalid"?"":void 0,"data-required":Ot(i.required)?"":void 0,"data-disabled":Ot(i.disabled)?"":void 0,"data-readonly":Ot(i.readOnly)?"":void 0}));return{formControlContext:{name:()=>Ot(i.name)??Ot(i.id),dataset:D,validationState:()=>Ot(i.validationState),isRequired:()=>Ot(i.required),isDisabled:()=>Ot(i.disabled),isReadOnly:()=>Ot(i.readOnly),labelId:s,fieldId:u,descriptionId:d,errorMessageId:v,getAriaLabelledBy:g,getAriaDescribedBy:x,generateId:Rs(()=>Ot(i.id)),registerLabel:kn(l),registerField:kn(h),registerDescription:kn(p),registerErrorMessage:kn(S)}}}var Ru=Yi();function Qi(){const r=Ji(Ru);if(r===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return r}function Nu(r){const e=Qi(),i=pe({id:e.generateId("description")},r);return At(()=>Rt(e.registerDescription(i.id))),V(ge,Tt({as:"div"},()=>e.dataset(),i))}var Gf=["id","aria-label","aria-labelledby","aria-describedby"];function Wf(r){const e=Qi(),i=pe({id:e.generateId("field")},r);return At(()=>Rt(e.registerField(Ot(i.id)))),{fieldProps:{id:()=>Ot(i.id),ariaLabel:()=>Ot(i["aria-label"]),ariaLabelledBy:()=>e.getAriaLabelledBy(Ot(i.id),Ot(i["aria-label"]),Ot(i["aria-labelledby"])),ariaDescribedBy:()=>e.getAriaDescribedBy(Ot(i["aria-describedby"]))}}}function zu(r){let e;const i=Qi(),s=pe({id:i.generateId("label")},r),[l,u]=Dt(s,["ref"]),h=xu(()=>e,()=>"label");return At(()=>Rt(i.registerLabel(u.id))),V(ge,Tt({as:"label",ref(d){var p=fn(v=>e=v,l.ref);typeof p=="function"&&p(d)},get for(){return hn(()=>h()==="label")()?i.fieldId():void 0}},()=>i.dataset(),u))}function jf(r,e){At(Xi(r,i=>{if(i==null)return;const s=Kf(i);s!=null&&(s.addEventListener("reset",e,{passive:!0}),Rt(()=>{s.removeEventListener("reset",e)}))}))}function Kf(r){return qf(r)?r.form:r.closest("form")}function qf(r){return r.matches("textarea, input, select, button")}function Fu(r){const e=Qi(),i=pe({id:e.generateId("error-message")},r),[s,l]=Dt(i,["forceMount"]),u=()=>e.validationState()==="invalid";return At(()=>{u()&&Rt(e.registerErrorMessage(l.id))}),V(re,{get when(){return s.forceMount||u()},get children(){return V(ge,Tt({as:"div"},()=>e.dataset(),l))}})}var Xf={};lo(Xf,{Description:()=>Nu,ErrorMessage:()=>Fu,Input:()=>Zu,Label:()=>zu,Root:()=>$u,TextArea:()=>Vu,TextField:()=>co,useTextFieldContext:()=>Zs});var Uu=Yi();function Zs(){const r=Ji(Uu);if(r===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return r}function Zu(r){return V(Hu,Tt({type:"text"},r))}function Hu(r){const e=Qi(),i=Zs(),s=pe({id:i.generateId("input")},r),[l,u,h]=Dt(s,["onInput"],Gf),{fieldProps:d}=Wf(u);return V(ge,Tt({as:"input",get id(){return d.id()},get name(){return e.name()},get value(){return i.value()},get required(){return e.isRequired()},get disabled(){return e.isDisabled()},get readonly(){return e.isReadOnly()},get"aria-label"(){return d.ariaLabel()},get"aria-labelledby"(){return d.ariaLabelledBy()},get"aria-describedby"(){return d.ariaDescribedBy()},get"aria-invalid"(){return e.validationState()==="invalid"||void 0},get"aria-required"(){return e.isRequired()||void 0},get"aria-disabled"(){return e.isDisabled()||void 0},get"aria-readonly"(){return e.isReadOnly()||void 0},get onInput(){return Kr([l.onInput,i.onInput])}},()=>e.dataset(),h))}function $u(r){let e;const i=`textfield-${so()}`,s=pe({id:i},r),[l,u,h]=Dt(s,["ref","value","defaultValue","onChange"],$f),d=l.value,[p,v]=wu({value:()=>d===void 0?void 0:l.value??"",defaultValue:()=>l.defaultValue,onChange:D=>l.onChange?.(D)}),{formControlContext:S}=Vf(u);jf(()=>e,()=>v(l.defaultValue??""));const g=D=>{if(S.isReadOnly()||S.isDisabled())return;const C=D.target;v(C.value),C.value=p()??""},x={value:p,generateId:Rs(()=>Ot(u.id)),onInput:g};return V(Ru.Provider,{value:S,get children(){return V(Uu.Provider,{value:x,get children(){return V(ge,Tt({as:"div",ref(D){var C=fn(E=>e=E,l.ref);typeof C=="function"&&C(D)},role:"group",get id(){return Ot(u.id)}},()=>S.dataset(),h))}})}})}function Vu(r){let e;const i=Zs(),s=pe({id:i.generateId("textarea")},r),[l,u]=Dt(s,["ref","autoResize","submitOnEnter","onKeyPress"]);At(Xi([()=>e,()=>l.autoResize,()=>i.value()],([d,p])=>{!d||!p||Yf(d)}));const h=d=>{e&&l.submitOnEnter&&d.key==="Enter"&&!d.shiftKey&&e.form&&(e.form.requestSubmit(),d.preventDefault())};return V(Hu,Tt({as:"textarea",get"aria-multiline"(){return l.submitOnEnter?"false":void 0},get onKeyPress(){return Kr([l.onKeyPress,h])},ref(d){var p=fn(v=>e=v,l.ref);typeof p=="function"&&p(d)}},u))}function Yf(r){const e=r.style.alignSelf,i=r.style.overflow;"MozAppearance"in r.style||(r.style.overflow="hidden"),r.style.alignSelf="start",r.style.height="auto",r.style.height=`${r.scrollHeight+(r.offsetHeight-r.clientHeight)}px`,r.style.overflow=i,r.style.alignSelf=e}var co=Object.assign($u,{Description:Nu,ErrorMessage:Fu,Input:Zu,Label:zu,TextArea:Vu});const dl=r=>{const[e,i]=Dt(r,["class"]);return V(co,Tt({get class(){return ue("space-y-1",e.class)}},i))},Jf=Us("text-sm data-[disabled]:cursor-not-allowed data-[disabled]:opacity-70 font-medium",{variants:{label:{true:"data-[invalid]:text-destructive"},error:{true:"text-destructive text-xs"},description:{true:"font-normal text-muted-foreground"}},defaultVariants:{label:!0}}),fl=r=>{const[e,i]=Dt(r,["class"]);return V(co.Label,Tt({get class(){return ue(Jf(),e.class)}},i))},ml=r=>{const[e,i]=Dt(r,["class"]);return V(co.Input,Tt({get class(){return ue("flex h-9 w-full rounded-md border border-input bg-inherit px-3 py-1 text-sm shadow-sm file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1.5 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 transition-shadow",e.class)}},i))};var ho=typeof self<"u"?self:global;const ji=typeof navigator<"u",Qf=ji&&typeof HTMLImageElement>"u",Xr=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),fo=ho.Buffer,Nr=ho.BigInt,mo=!!fo,tm=r=>r;function Yr(r,e=tm){if(Xr)try{return typeof require=="function"?Promise.resolve(e(require(r))):import(r).then(e)}catch{console.warn(`Couldn't load ${r}`)}}let Hs=ho.fetch;const em=r=>Hs=r;if(!ho.fetch){const r=Yr("http",s=>s),e=Yr("https",s=>s),i=(s,{headers:l}={})=>new Promise(async(u,h)=>{let{port:d,hostname:p,pathname:v,protocol:S,search:g}=new URL(s);const x={method:"GET",hostname:p,path:encodeURI(v)+g,headers:l};d!==""&&(x.port=Number(d));const D=(S==="https:"?await e:await r).request(x,C=>{if(C.statusCode===301||C.statusCode===302){let E=new URL(C.headers.location,s).toString();return i(E,{headers:l}).then(u).catch(h)}u({status:C.statusCode,arrayBuffer:()=>new Promise(E=>{let G=[];C.on("data",Q=>G.push(Q)),C.on("end",()=>E(Buffer.concat(G)))})})});D.on("error",h),D.end()});em(i)}function dt(r,e,i){return e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}const Jr=r=>Gu(r)?void 0:r,nm=r=>r!==void 0;function Gu(r){return r===void 0||(r instanceof Map?r.size===0:Object.values(r).filter(nm).length===0)}function Kt(r){let e=new Error(r);throw delete e.stack,e}function En(r){return(r=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(r).trim())===""?void 0:r}function Ts(r){let e=function(i){let s=0;return i.ifd0.enabled&&(s+=1024),i.exif.enabled&&(s+=2048),i.makerNote&&(s+=2048),i.userComment&&(s+=1024),i.gps.enabled&&(s+=512),i.interop.enabled&&(s+=100),i.ifd1.enabled&&(s+=1024),s+2048}(r);return r.jfif.enabled&&(e+=50),r.xmp.enabled&&(e+=2e4),r.iptc.enabled&&(e+=14e3),r.icc.enabled&&(e+=6e3),e}const Ls=r=>String.fromCharCode.apply(null,r),pl=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function Wu(r){return pl?pl.decode(r):mo?Buffer.from(r).toString("utf8"):decodeURIComponent(escape(Ls(r)))}class he{static from(e,i){return e instanceof this&&e.le===i?e:new he(e,void 0,void 0,i)}constructor(e,i=0,s,l){if(typeof l=="boolean"&&(this.le=l),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){s===void 0&&(s=e.byteLength-i);let u=new DataView(e,i,s);this._swapDataView(u)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof he){s===void 0&&(s=e.byteLength-i),(i+=e.byteOffset)+s>e.byteOffset+e.byteLength&&Kt("Creating view outside of available memory in ArrayBuffer");let u=new DataView(e.buffer,i,s);this._swapDataView(u)}else if(typeof e=="number"){let u=new DataView(new ArrayBuffer(e));this._swapDataView(u)}else Kt("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,i,s=he){return e instanceof DataView||e instanceof he?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Kt("BufferView.set(): Invalid data argument."),this.toUint8().set(e,i),new s(this,i,e.byteLength)}subarray(e,i){return i=i||this._lengthToEnd(e),new he(this,e,i)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,i){return new Uint8Array(this.buffer,this.byteOffset+e,i)}getString(e=0,i=this.byteLength){return Wu(this.getUint8Array(e,i))}getLatin1String(e=0,i=this.byteLength){let s=this.getUint8Array(e,i);return Ls(s)}getUnicodeString(e=0,i=this.byteLength){const s=[];for(let l=0;l<i&&e+l<this.byteLength;l+=2)s.push(this.getUint16(e+l));return Ls(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,i=this.le){return this.dataView.getInt16(e,i)}getInt32(e,i=this.le){return this.dataView.getInt32(e,i)}getUint16(e,i=this.le){return this.dataView.getUint16(e,i)}getUint32(e,i=this.le){return this.dataView.getUint32(e,i)}getFloat32(e,i=this.le){return this.dataView.getFloat32(e,i)}getFloat64(e,i=this.le){return this.dataView.getFloat64(e,i)}getFloat(e,i=this.le){return this.dataView.getFloat32(e,i)}getDouble(e,i=this.le){return this.dataView.getFloat64(e,i)}getUintBytes(e,i,s){switch(i){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,i,s){switch(i){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function ks(r,e){Kt(`${r} '${e}' was not loaded, try using full build of exifr.`)}class $s extends Map{constructor(e){super(),this.kind=e}get(e,i){return this.has(e)||ks(this.kind,e),i&&(e in i||function(s,l){Kt(`Unknown ${s} '${l}'.`)}(this.kind,e),i[e].enabled||ks(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Me=new $s("file parser"),jt=new $s("segment parser"),De=new $s("file reader");function im(r,e){return typeof r=="string"?gl(r,e):ji&&!Qf&&r instanceof HTMLImageElement?gl(r.src,e):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new he(r):ji&&r instanceof Blob?Is(r,e,"blob",Bn):void Kt("Invalid input argument")}function gl(r,e){return(i=r).startsWith("data:")||i.length>1e4?Es(r,e,"base64"):Xr&&r.includes("://")?Is(r,e,"url",Dn):Xr?Es(r,e,"fs"):ji?Is(r,e,"url",Dn):void Kt("Invalid input argument");var i}async function Is(r,e,i,s){return De.has(i)?Es(r,e,i):s?async function(l,u){let h=await u(l);return new he(h)}(r,s):void Kt(`Parser ${i} is not loaded`)}async function Es(r,e,i){let s=new(De.get(i))(r,e);return await s.read(),s}const Dn=r=>Hs(r).then(e=>e.arrayBuffer()),Bn=r=>new Promise((e,i)=>{let s=new FileReader;s.onloadend=()=>e(s.result||new ArrayBuffer),s.onerror=i,s.readAsArrayBuffer(r)});let rm=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function Gt(r,e,i){let s=new rm;for(let[l,u]of i)s.set(l,u);if(Array.isArray(e))for(let l of e)r.set(l,s);else r.set(e,s);return s}function Rn(r,e,i){let s,l=r.get(e);for(s of i)l.set(s[0],s[1])}const Jt=new Map,Ie=new Map,cn=new Map,sn=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ui=["jfif","xmp","icc","iptc","ihdr"],Nn=["tiff",...ui],Vt=["ifd0","ifd1","exif","gps","interop"],an=[...Nn,...Vt],ln=["makerNote","userComment"],ci=["translateKeys","translateValues","reviveValues","multiSegment"],un=[...ci,"sanitize","mergeOutput","silentErrors"];class ju{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Bi extends ju{get needed(){return this.enabled||this.deps.size>0}constructor(e,i,s,l){if(super(),dt(this,"enabled",!1),dt(this,"skip",new Set),dt(this,"pick",new Set),dt(this,"deps",new Set),dt(this,"translateKeys",!1),dt(this,"translateValues",!1),dt(this,"reviveValues",!1),this.key=e,this.enabled=i,this.parse=this.enabled,this.applyInheritables(l),this.canBeFiltered=Vt.includes(e),this.canBeFiltered&&(this.dict=Jt.get(e)),s!==void 0)if(Array.isArray(s))this.parse=this.enabled=!0,this.canBeFiltered&&s.length>0&&this.translateTagSet(s,this.pick);else if(typeof s=="object"){if(this.enabled=!0,this.parse=s.parse!==!1,this.canBeFiltered){let{pick:u,skip:h}=s;u&&u.length>0&&this.translateTagSet(u,this.pick),h&&h.length>0&&this.translateTagSet(h,this.skip)}this.applyInheritables(s)}else s===!0||s===!1?this.parse=this.enabled=s:Kt(`Invalid options argument: ${s}`)}applyInheritables(e){let i,s;for(i of ci)s=e[i],s!==void 0&&(this[i]=s)}translateTagSet(e,i){if(this.dict){let s,l,{tagKeys:u,tagValues:h}=this.dict;for(s of e)typeof s=="string"?(l=h.indexOf(s),l===-1&&(l=u.indexOf(Number(s))),l!==-1&&i.add(Number(u[l]))):i.add(s)}else for(let s of e)i.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Qr(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Qr(this.pick,this.deps)}}var ae={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},_l=new Map;class zn extends ju{static useCached(e){let i=_l.get(e);return i!==void 0||(i=new this(e),_l.set(e,i)),i}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Kt(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=ji?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of sn)this[e]=ae[e];for(e of un)this[e]=ae[e];for(e of ln)this[e]=ae[e];for(e of an)this[e]=new Bi(e,ae[e],void 0,this)}setupFromTrue(){let e;for(e of sn)this[e]=ae[e];for(e of un)this[e]=ae[e];for(e of ln)this[e]=!0;for(e of an)this[e]=new Bi(e,!0,void 0,this)}setupFromArray(e){let i;for(i of sn)this[i]=ae[i];for(i of un)this[i]=ae[i];for(i of ln)this[i]=ae[i];for(i of an)this[i]=new Bi(i,!1,void 0,this);this.setupGlobalFilters(e,void 0,Vt)}setupFromObject(e){let i;for(i of(Vt.ifd0=Vt.ifd0||Vt.image,Vt.ifd1=Vt.ifd1||Vt.thumbnail,Object.assign(this,e),sn))this[i]=ls(e[i],ae[i]);for(i of un)this[i]=ls(e[i],ae[i]);for(i of ln)this[i]=ls(e[i],ae[i]);for(i of Nn)this[i]=new Bi(i,ae[i],e[i],this);for(i of Vt)this[i]=new Bi(i,ae[i],e[i],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Vt,an),e.tiff===!0?this.batchEnableWithBool(Vt,!0):e.tiff===!1?this.batchEnableWithUserValue(Vt,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Vt):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Vt)}batchEnableWithBool(e,i){for(let s of e)this[s].enabled=i}batchEnableWithUserValue(e,i){for(let s of e){let l=i[s];this[s].enabled=l!==!1&&l!==void 0}}setupGlobalFilters(e,i,s,l=s){if(e&&e.length){for(let h of l)this[h].enabled=!1;let u=vl(e,s);for(let[h,d]of u)Qr(this[h].pick,d),this[h].enabled=!0}else if(i&&i.length){let u=vl(i,s);for(let[h,d]of u)Qr(this[h].skip,d)}}filterNestedSegmentTags(){let{ifd0:e,exif:i,xmp:s,iptc:l,icc:u}=this;this.makerNote?i.deps.add(37500):i.skip.add(37500),this.userComment?i.deps.add(37510):i.skip.add(37510),s.enabled||e.skip.add(700),l.enabled||e.skip.add(33723),u.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:i,gps:s,interop:l}=this;l.needed&&(i.deps.add(40965),e.deps.add(40965)),i.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=Vt.some(u=>this[u].enabled===!0)||this.makerNote||this.userComment;for(let u of Vt)this[u].finalizeFilters()}get onlyTiff(){return!ui.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Nn)this[e].enabled&&!jt.has(e)&&ks("segment parser",e)}}function vl(r,e){let i,s,l,u,h=[];for(l of e){for(u of(i=Jt.get(l),s=[],i))(r.includes(u[0])||r.includes(u[1]))&&s.push(u[0]);s.length&&h.push([l,s])}return h}function ls(r,e){return r!==void 0?r:e!==void 0?e:void 0}function Qr(r,e){for(let i of e)r.add(i)}dt(zn,"default",ae);class pn{constructor(e){dt(this,"parsers",{}),dt(this,"output",{}),dt(this,"errors",[]),dt(this,"pushToErrors",i=>this.errors.push(i)),this.options=zn.useCached(e)}async read(e){this.file=await im(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,i=e.getUint16(0);for(let[s,l]of Me)if(l.canHandle(e,i))return this.fileParser=new l(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),Kt("Unknown file format")}async parse(){let{output:e,errors:i}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),i.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&i.length>0&&(e.errors=i),Jr(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let i=Object.values(this.parsers).map(async s=>{let l=await s.parse();s.assignToOutput(e,l)});this.options.silentErrors&&(i=i.map(s=>s.catch(this.pushToErrors))),await Promise.all(i)}async extractThumbnail(){this.setup();let{options:e,file:i}=this,s=jt.get("tiff",e);var l;if(i.tiff?l={start:0,type:"tiff"}:i.jpeg&&(l=await this.fileParser.getOrFindSegment("tiff")),l===void 0)return;let u=await this.fileParser.ensureSegmentChunk(l),h=this.parsers.tiff=new s(u,e,i),d=await h.extractThumbnail();return i.close&&i.close(),d}}async function po(r,e){let i=new pn(e);return await i.read(r),i.parse()}var om=Object.freeze({__proto__:null,parse:po,Exifr:pn,fileParsers:Me,segmentParsers:jt,fileReaders:De,tagKeys:Jt,tagValues:Ie,tagRevivers:cn,createDictionary:Gt,extendDictionary:Rn,fetchUrlAsArrayBuffer:Dn,readBlobAsArrayBuffer:Bn,chunkedProps:sn,otherSegments:ui,segments:Nn,tiffBlocks:Vt,segmentsAndBlocks:an,tiffExtractables:ln,inheritables:ci,allFormatters:un,Options:zn});class go{constructor(e,i,s){dt(this,"errors",[]),dt(this,"ensureSegmentChunk",async l=>{let u=l.start,h=l.size||65536;if(this.file.chunked)if(this.file.available(u,h))l.chunk=this.file.subarray(u,h);else try{l.chunk=await this.file.readChunk(u,h)}catch(d){Kt(`Couldn't read segment: ${JSON.stringify(l)}. ${d.message}`)}else this.file.byteLength>u+h?l.chunk=this.file.subarray(u,h):l.size===void 0?l.chunk=this.file.subarray(u):Kt("Segment unreachable: "+JSON.stringify(l));return l.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=i,this.parsers=s}injectSegment(e,i){this.options[e].enabled&&this.createParser(e,i)}createParser(e,i){let s=new(jt.get(e))(i,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let i of e){let{type:s,chunk:l}=i,u=this.options[s];if(u&&u.enabled){let h=this.parsers[s];h&&h.append||h||this.createParser(s,l)}}}async readSegments(e){let i=e.map(this.ensureSegmentChunk);await Promise.all(i)}}class Le{static findPosition(e,i){let s=e.getUint16(i+2)+2,l=typeof this.headerLength=="function"?this.headerLength(e,i,s):this.headerLength,u=i+l,h=s-l;return{offset:i,length:s,headerLength:l,start:u,size:h,end:u+h}}static parse(e,i={}){return new this(e,new zn({[this.type]:i}),e).parse()}normalizeInput(e){return e instanceof he?e:new he(e)}constructor(e,i={},s){dt(this,"errors",[]),dt(this,"raw",new Map),dt(this,"handleError",l=>{if(!this.options.silentErrors)throw l;this.errors.push(l.message)}),this.chunk=this.normalizeInput(e),this.file=s,this.type=this.constructor.type,this.globalOptions=this.options=i,this.localOptions=i[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,i){let s=cn.get(i),l=Ie.get(i),u=Jt.get(i),h=this.options[i],d=h.reviveValues&&!!s,p=h.translateValues&&!!l,v=h.translateKeys&&!!u,S={};for(let[g,x]of e)d&&s.has(g)?x=s.get(g)(x):p&&l.has(g)&&(x=this.translateValue(x,l.get(g))),v&&u.has(g)&&(g=u.get(g)||g),S[g]=x;return S}translateValue(e,i){return i[e]||i.DEFAULT||e}assignToOutput(e,i){this.assignObjectToOutput(e,this.constructor.type,i)}assignObjectToOutput(e,i,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[i]?Object.assign(e[i],s):e[i]=s}}dt(Le,"headerLength",4),dt(Le,"type",void 0),dt(Le,"multiSegment",!1),dt(Le,"canHandle",()=>!1);function sm(r){return r===192||r===194||r===196||r===219||r===221||r===218||r===254}function am(r){return r>=224&&r<=239}function lm(r,e,i){for(let[s,l]of jt)if(l.canHandle(r,e,i))return s}class yl extends go{constructor(...e){super(...e),dt(this,"appSegments",[]),dt(this,"jpegSegments",[]),dt(this,"unknownSegments",[])}static canHandle(e,i){return i===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(jt.keyList())):(e=e===void 0?jt.keyList().filter(i=>this.options[i].enabled):e.filter(i=>this.options[i].enabled&&jt.has(i)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,i){this.setupSegmentFinderArgs(i);let{file:s,findAll:l,wanted:u,remaining:h}=this;if(!l&&this.file.chunked&&(l=Array.from(u).some(d=>{let p=jt.get(d),v=this.options[d];return p.multiSegment&&v.multiSegment}),l&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let d=!1;for(;h.size>0&&!d&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:p}=s,v=this.appSegments.some(S=>!this.file.available(S.offset||S.start,S.length||S.size));if(d=e>p&&!v?!await s.readNextChunk(e):!await s.readNextChunk(p),(e=this.findAppSegmentsInRange(e,s.byteLength))===void 0)return}}}findAppSegmentsInRange(e,i){i-=2;let s,l,u,h,d,p,{file:v,findAll:S,wanted:g,remaining:x,options:D}=this;for(;e<i;e++)if(v.getUint8(e)===255){if(s=v.getUint8(e+1),am(s)){if(l=v.getUint16(e+2),u=lm(v,e,l),u&&g.has(u)&&(h=jt.get(u),d=h.findPosition(v,e),p=D[u],d.type=u,this.appSegments.push(d),!S&&(h.multiSegment&&p.multiSegment?(this.unfinishedMultiSegment=d.chunkNumber<d.chunkCount,this.unfinishedMultiSegment||x.delete(u)):x.delete(u),x.size===0)))break;D.recordUnknownSegments&&(d=Le.findPosition(v,e),d.marker=s,this.unknownSegments.push(d)),e+=l+1}else if(sm(s)){if(l=v.getUint16(e+2),s===218&&D.stopAfterSos!==!1)return;D.recordJpegSegments&&this.jpegSegments.push({offset:e,length:l,marker:s}),e+=l+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(i=>i.multiSegment))return;let e=function(i,s){let l,u,h,d=new Map;for(let p=0;p<i.length;p++)l=i[p],u=l[s],d.has(u)?h=d.get(u):d.set(u,h=[]),h.push(l);return Array.from(d)}(this.appSegments,"type");this.mergedAppSegments=e.map(([i,s])=>{let l=jt.get(i,this.options);return l.handleMultiSegments?{type:i,chunk:l.handleMultiSegments(s)}:s[0]})}getSegment(e){return this.appSegments.find(i=>i.type===e)}async getOrFindSegment(e){let i=this.getSegment(e);return i===void 0&&(await this.findAppSegments(0,[e]),i=this.getSegment(e)),i}}dt(yl,"type","jpeg"),Me.set("jpeg",yl);const um=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class cm extends Le{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,i,s=new Map){let{pick:l,skip:u}=this.options[i];l=new Set(l);let h=l.size>0,d=u.size===0,p=this.chunk.getUint16(e);e+=2;for(let v=0;v<p;v++){let S=this.chunk.getUint16(e);if(h){if(l.has(S)&&(s.set(S,this.parseTag(e,S,i)),l.delete(S),l.size===0))break}else!d&&u.has(S)||s.set(S,this.parseTag(e,S,i));e+=12}return s}parseTag(e,i,s){let{chunk:l}=this,u=l.getUint16(e+2),h=l.getUint32(e+4),d=um[u];if(d*h<=4?e+=8:e=l.getUint32(e+8),(u<1||u>13)&&Kt(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${i.toString(16)}, type: ${u}, offset ${e}`),e>l.byteLength&&Kt(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${i.toString(16)}, type: ${u}, offset ${e} is outside of chunk size ${l.byteLength}`),u===1)return l.getUint8Array(e,h);if(u===2)return En(l.getString(e,h));if(u===7)return l.getUint8Array(e,h);if(h===1)return this.parseTagValue(u,e);{let p=new(function(S){switch(S){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(u))(h),v=d;for(let S=0;S<h;S++)p[S]=this.parseTagValue(u,e),e+=v;return p}}parseTagValue(e,i){let{chunk:s}=this;switch(e){case 1:return s.getUint8(i);case 3:return s.getUint16(i);case 4:return s.getUint32(i);case 5:return s.getUint32(i)/s.getUint32(i+4);case 6:return s.getInt8(i);case 8:return s.getInt16(i);case 9:return s.getInt32(i);case 10:return s.getInt32(i)/s.getInt32(i+4);case 11:return s.getFloat(i);case 12:return s.getDouble(i);case 13:return s.getUint32(i);default:Kt(`Invalid tiff type ${e}`)}}}class us extends cm{static canHandle(e,i){return e.getUint8(i+1)===225&&e.getUint32(i+4)===1165519206&&e.getUint16(i+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let i=this[e]();return i.catch!==void 0&&(i=i.catch(this.handleError)),i}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),i=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(i)}}parseBlock(e,i){let s=new Map;return this[i]=s,this.parseTags(e,i,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Kt("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Kt(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Ts(this.options));let i=this.parseBlock(this.ifd0Offset,"ifd0");return i.size!==0?(this.exifOffset=i.get(34665),this.interopOffset=i.get(40965),this.gpsOffset=i.get(34853),this.xmp=i.get(700),this.iptc=i.get(33723),this.icc=i.get(34675),this.options.sanitize&&(i.delete(34665),i.delete(40965),i.delete(34853),i.delete(700),i.delete(33723),i.delete(34675)),i):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Ts(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,i){let s=e.get(i);s&&s.length===1&&e.set(i,s[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",bl(...e.get(2),e.get(1))),e.set("longitude",bl(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),i=this.ifd1.get(514);return this.chunk.getUint8Array(e,i)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,i,s,l={};for(i of Vt)if(e=this[i],!Gu(e))if(s=this.canTranslate?this.translateBlock(e,i):Object.fromEntries(e),this.options.mergeOutput){if(i==="ifd1")continue;Object.assign(l,s)}else l[i]=s;return this.makerNote&&(l.makerNote=this.makerNote),this.userComment&&(l.userComment=this.userComment),l}assignToOutput(e,i){if(this.globalOptions.mergeOutput)Object.assign(e,i);else for(let[s,l]of Object.entries(i))this.assignObjectToOutput(e,s,l)}}function bl(r,e,i,s){var l=r+e/60+i/3600;return s!=="S"&&s!=="W"||(l*=-1),l}dt(us,"type","tiff"),dt(us,"headerLength",10),jt.set("tiff",us);var hm=Object.freeze({__proto__:null,default:om,Exifr:pn,fileParsers:Me,segmentParsers:jt,fileReaders:De,tagKeys:Jt,tagValues:Ie,tagRevivers:cn,createDictionary:Gt,extendDictionary:Rn,fetchUrlAsArrayBuffer:Dn,readBlobAsArrayBuffer:Bn,chunkedProps:sn,otherSegments:ui,segments:Nn,tiffBlocks:Vt,segmentsAndBlocks:an,tiffExtractables:ln,inheritables:ci,allFormatters:un,Options:zn,parse:po});const Vs={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Gs=Object.assign({},Vs,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Ku(r){let e=new pn(Gs);await e.read(r);let i=await e.parse();if(i&&i.gps){let{latitude:s,longitude:l}=i.gps;return{latitude:s,longitude:l}}}const Ws=Object.assign({},Vs,{tiff:!1,ifd1:!0,mergeOutput:!1});async function qu(r){let e=new pn(Ws);await e.read(r);let i=await e.extractThumbnail();return i&&mo?fo.from(i):i}async function Xu(r){let e=await this.thumbnail(r);if(e!==void 0){let i=new Blob([e]);return URL.createObjectURL(i)}}const js=Object.assign({},Vs,{firstChunkSize:4e4,ifd0:[274]});async function Ks(r){let e=new pn(js);await e.read(r);let i=await e.parse();if(i&&i.ifd0)return i.ifd0[274]}const qs=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let An=!0,On=!0;if(typeof navigator=="object"){let r=navigator.userAgent;if(r.includes("iPad")||r.includes("iPhone")){let e=r.match(/OS (\d+)_(\d+)/);if(e){let[,i,s]=e;An=Number(i)+.1*Number(s)<13.4,On=!1}}else if(r.includes("OS X 10")){let[,e]=r.match(/OS X 10[_.](\d+)/);An=On=Number(e)<15}if(r.includes("Chrome/")){let[,e]=r.match(/Chrome\/(\d+)/);An=On=Number(e)<81}else if(r.includes("Firefox/")){let[,e]=r.match(/Firefox\/(\d+)/);An=On=Number(e)<77}}async function Yu(r){let e=await Ks(r);return Object.assign({canvas:An,css:On},qs[e])}class dm extends he{constructor(...e){super(...e),dt(this,"ranges",new fm),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,i,s){if(e===0&&this.byteLength===0&&s){let l=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(l)}else{let l=e+i;if(l>this.byteLength){let{dataView:u}=this._extend(l);this._swapDataView(u)}}}_extend(e){let i;i=mo?fo.allocUnsafe(e):new Uint8Array(e);let s=new DataView(i.buffer,i.byteOffset,i.byteLength);return i.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:i,dataView:s}}subarray(e,i,s=!1){return i=i||this._lengthToEnd(e),s&&this._tryExtend(e,i),this.ranges.add(e,i),super.subarray(e,i)}set(e,i,s=!1){s&&this._tryExtend(i,e.byteLength,e);let l=super.set(e,i);return this.ranges.add(i,l.byteLength),l}async ensureChunk(e,i){this.chunked&&(this.ranges.available(e,i)||await this.readChunk(e,i))}available(e,i){return this.ranges.available(e,i)}}class fm{constructor(){dt(this,"list",[])}get length(){return this.list.length}add(e,i,s=0){let l=e+i,u=this.list.filter(h=>wl(e,h.offset,l)||wl(e,h.end,l));if(u.length>0){e=Math.min(e,...u.map(d=>d.offset)),l=Math.max(l,...u.map(d=>d.end)),i=l-e;let h=u.shift();h.offset=e,h.length=i,h.end=l,this.list=this.list.filter(d=>!u.includes(d))}else this.list.push({offset:e,length:i,end:l})}available(e,i){let s=e+i;return this.list.some(l=>l.offset<=e&&s<=l.end)}}function wl(r,e,i){return r<=e&&e<=i}class _o extends dm{constructor(e,i){super(0),dt(this,"chunksRead",0),this.input=e,this.options=i}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let i=this.options.chunkSize,s=await this.readChunk(e,i);return!!s&&s.byteLength===i}async readChunk(e,i){if(this.chunksRead++,(i=this.safeWrapAddress(e,i))!==0)return this._readChunk(e,i)}safeWrapAddress(e,i){return this.size!==void 0&&e+i>this.size?Math.max(0,this.size-e):i}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}De.set("blob",class extends _o{async readWhole(){this.chunked=!1;let r=await Bn(this.input);this._swapArrayBuffer(r)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(r,e){let i=e?r+e:void 0,s=this.input.slice(r,i),l=await Bn(s);return this.set(l,r,!0)}});var mm=Object.freeze({__proto__:null,default:hm,Exifr:pn,fileParsers:Me,segmentParsers:jt,fileReaders:De,tagKeys:Jt,tagValues:Ie,tagRevivers:cn,createDictionary:Gt,extendDictionary:Rn,fetchUrlAsArrayBuffer:Dn,readBlobAsArrayBuffer:Bn,chunkedProps:sn,otherSegments:ui,segments:Nn,tiffBlocks:Vt,segmentsAndBlocks:an,tiffExtractables:ln,inheritables:ci,allFormatters:un,Options:zn,parse:po,gpsOnlyOptions:Gs,gps:Ku,thumbnailOnlyOptions:Ws,thumbnail:qu,thumbnailUrl:Xu,orientationOnlyOptions:js,orientation:Ks,rotations:qs,get rotateCanvas(){return An},get rotateCss(){return On},rotation:Yu});De.set("url",class extends _o{async readWhole(){this.chunked=!1;let r=await Dn(this.input);r instanceof ArrayBuffer?this._swapArrayBuffer(r):r instanceof Uint8Array&&this._swapBuffer(r)}async _readChunk(r,e){let i=e?r+e-1:void 0,s=this.options.httpHeaders||{};(r||i)&&(s.range=`bytes=${[r,i].join("-")}`);let l=await Hs(this.input,{headers:s}),u=await l.arrayBuffer(),h=u.byteLength;if(l.status!==416)return h!==e&&(this.size=r+h),this.set(u,r,!0)}});he.prototype.getUint64=function(r){let e=this.getUint32(r),i=this.getUint32(r+4);return e<1048575?e<<32|i:typeof Nr!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Nr(e)<<Nr(32)|Nr(i)):void Kt("Trying to read 64b value but JS can only handle 53b numbers.")};class pm extends go{parseBoxes(e=0){let i=[];for(;e<this.file.byteLength-4;){let s=this.parseBoxHead(e);if(i.push(s),s.length===0)break;e+=s.length}return i}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,i){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find(s=>s.kind===i)}parseBoxHead(e){let i=this.file.getUint32(e),s=this.file.getString(e+4,4),l=e+8;return i===1&&(i=this.file.getUint64(e+8),l+=8),{offset:e,length:i,kind:s,start:l}}parseBoxFullHead(e){if(e.version!==void 0)return;let i=this.file.getUint32(e.start);e.version=i>>24,e.start+=4}}class Ju extends pm{static canHandle(e,i){if(i!==0)return!1;let s=e.getUint16(2);if(s>50)return!1;let l=16,u=[];for(;l<s;)u.push(e.getString(l,4)),l+=4;return u.includes(this.type)}async parse(){let e=this.file.getUint32(0),i=this.parseBoxHead(e);for(;i.kind!=="meta";)e+=i.length,await this.file.ensureChunk(e,16),i=this.parseBoxHead(e);await this.file.ensureChunk(i.offset,i.length),this.parseBoxFullHead(i),this.parseSubBoxes(i),this.options.icc.enabled&&await this.findIcc(i),this.options.tiff.enabled&&await this.findExif(i)}async registerSegment(e,i,s){await this.file.ensureChunk(i,s);let l=this.file.subarray(i,s);this.createParser(e,l)}async findIcc(e){let i=this.findBox(e,"iprp");if(i===void 0)return;let s=this.findBox(i,"ipco");if(s===void 0)return;let l=this.findBox(s,"colr");l!==void 0&&await this.registerSegment("icc",l.offset+12,l.length)}async findExif(e){let i=this.findBox(e,"iinf");if(i===void 0)return;let s=this.findBox(e,"iloc");if(s===void 0)return;let l=this.findExifLocIdInIinf(i),u=this.findExtentInIloc(s,l);if(u===void 0)return;let[h,d]=u;await this.file.ensureChunk(h,d);let p=4+this.file.getUint32(h);h+=p,d-=p,await this.registerSegment("tiff",h,d)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let i,s,l,u,h=e.start,d=this.file.getUint16(h);for(h+=2;d--;){if(i=this.parseBoxHead(h),this.parseBoxFullHead(i),s=i.start,i.version>=2&&(l=i.version===3?4:2,u=this.file.getString(s+l+2,4),u==="Exif"))return this.file.getUintBytes(s,l);h+=i.length}}get8bits(e){let i=this.file.getUint8(e);return[i>>4,15&i]}findExtentInIloc(e,i){this.parseBoxFullHead(e);let s=e.start,[l,u]=this.get8bits(s++),[h,d]=this.get8bits(s++),p=e.version===2?4:2,v=e.version===1||e.version===2?2:0,S=d+l+u,g=e.version===2?4:2,x=this.file.getUintBytes(s,g);for(s+=g;x--;){let D=this.file.getUintBytes(s,p);s+=p+v+2+h;let C=this.file.getUint16(s);if(s+=2,D===i)return C>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(s+d,l),this.file.getUintBytes(s+d+l,u)];s+=C*S}}}class Qu extends Ju{}dt(Qu,"type","heic");class xl extends Ju{}dt(xl,"type","avif"),Me.set("heic",Qu),Me.set("avif",xl),Gt(Jt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),Gt(Jt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),Gt(Jt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),Gt(Ie,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Hi=Gt(Ie,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Sl={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Hi.set(37392,Sl),Hi.set(41488,Sl);const cs={0:"Normal",1:"Low",2:"High"};function Pl(r){return typeof r=="object"&&r.length!==void 0?r[0]:r}function Cl(r){let e=Array.from(r).slice(1);return e[1]>15&&(e=e.map(i=>String.fromCharCode(i))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function hs(r){if(typeof r=="string"){var[e,i,s,l,u,h]=r.trim().split(/[-: ]/g).map(Number),d=new Date(e,i-1,s);return Number.isNaN(l)||Number.isNaN(u)||Number.isNaN(h)||(d.setHours(l),d.setMinutes(u),d.setSeconds(h)),Number.isNaN(+d)?r:d}}function Ri(r){if(typeof r=="string")return r;let e=[];if(r[1]===0&&r[r.length-1]===0)for(let i=0;i<r.length;i+=2)e.push(Tl(r[i+1],r[i]));else for(let i=0;i<r.length;i+=2)e.push(Tl(r[i],r[i+1]));return En(String.fromCodePoint(...e))}function Tl(r,e){return r<<8|e}Hi.set(41992,cs),Hi.set(41993,cs),Hi.set(41994,cs),Gt(cn,["ifd0","ifd1"],[[50827,function(r){return typeof r!="string"?Wu(r):r}],[306,hs],[40091,Ri],[40092,Ri],[40093,Ri],[40094,Ri],[40095,Ri]]),Gt(cn,"exif",[[40960,Cl],[36864,Cl],[36867,hs],[36868,hs],[40962,Pl],[40963,Pl]]),Gt(cn,"gps",[[0,r=>Array.from(r).join(".")],[7,r=>Array.from(r).join(":")]]);class ds extends Le{static canHandle(e,i){return e.getUint8(i+1)===225&&e.getUint32(i+4)===1752462448&&e.getString(i+4,20)==="http://ns.adobe.com/"}static headerLength(e,i){return e.getString(i+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,i){let s=super.findPosition(e,i);return s.multiSegment=s.extended=s.headerLength===79,s.multiSegment?(s.chunkCount=e.getUint8(i+72),s.chunkNumber=e.getUint8(i+76),e.getUint8(i+77)!==0&&s.chunkNumber++):(s.chunkCount=1/0,s.chunkNumber=-1),s}static handleMultiSegments(e){return e.map(i=>i.chunk.getString()).join("")}normalizeInput(e){return typeof e=="string"?e:he.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(u){let h={},d={};for(let p of ic)h[p]=[],d[p]=0;return u.replace(ym,(p,v,S)=>{if(v==="<"){let g=++d[S];return h[S].push(g),`${p}#${g}`}return`${p}#${h[S].pop()}`})}(e);let i=ei.findAll(e,"rdf","Description");i.length===0&&i.push(new ei("rdf","Description",void 0,e));let s,l={};for(let u of i)for(let h of u.properties)s=vm(h.ns,l),tc(h,s);return function(u){let h;for(let d in u)h=u[d]=Jr(u[d]),h===void 0&&delete u[d];return Jr(u)}(l)}assignToOutput(e,i){if(this.localOptions.parse)for(let[s,l]of Object.entries(i))switch(s){case"tiff":this.assignObjectToOutput(e,"ifd0",l);break;case"exif":this.assignObjectToOutput(e,"exif",l);break;case"xmlns":break;default:this.assignObjectToOutput(e,s,l)}else e.xmp=i}}dt(ds,"type","xmp"),dt(ds,"multiSegment",!0),jt.set("xmp",ds);class to{static findAll(e){return ec(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(to.unpackMatch)}static unpackMatch(e){let i=e[1],s=e[2],l=e[3].slice(1,-1);return l=nc(l),new to(i,s,l)}constructor(e,i,s){this.ns=e,this.name=i,this.value=s}serialize(){return this.value}}class ei{static findAll(e,i,s){if(i!==void 0||s!==void 0){i=i||"[\\w\\d-]+",s=s||"[\\w\\d-]+";var l=new RegExp(`<(${i}):(${s})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else l=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return ec(e,l).map(ei.unpackMatch)}static unpackMatch(e){let i=e[1],s=e[2],l=e[4],u=e[8];return new ei(i,s,l,u)}constructor(e,i,s,l){this.ns=e,this.name=i,this.attrString=s,this.innerXml=l,this.attrs=to.findAll(s),this.children=ei.findAll(l),this.value=this.children.length===0?nc(l):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:i}=this;return e==="rdf"&&(i==="Seq"||i==="Bag"||i==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return _m(this.children.map(gm));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let i of this.properties)tc(i,e);return this.value!==void 0&&(e.value=this.value),Jr(e)}}function tc(r,e){let i=r.serialize();i!==void 0&&(e[r.name]=i)}var gm=r=>r.serialize(),_m=r=>r.length===1?r[0]:r,vm=(r,e)=>e[r]?e[r]:e[r]={};function ec(r,e){let i,s=[];if(!r)return s;for(;(i=e.exec(r))!==null;)s.push(i);return s}function nc(r){if(function(s){return s==null||s==="null"||s==="undefined"||s===""||s.trim()===""}(r))return;let e=Number(r);if(!Number.isNaN(e))return e;let i=r.toLowerCase();return i==="true"||i!=="false"&&r.trim()}const ic=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],ym=new RegExp(`(<|\\/)(${ic.join("|")})`,"g");var bm=Object.freeze({__proto__:null,default:mm,Exifr:pn,fileParsers:Me,segmentParsers:jt,fileReaders:De,tagKeys:Jt,tagValues:Ie,tagRevivers:cn,createDictionary:Gt,extendDictionary:Rn,fetchUrlAsArrayBuffer:Dn,readBlobAsArrayBuffer:Bn,chunkedProps:sn,otherSegments:ui,segments:Nn,tiffBlocks:Vt,segmentsAndBlocks:an,tiffExtractables:ln,inheritables:ci,allFormatters:un,Options:zn,parse:po,gpsOnlyOptions:Gs,gps:Ku,thumbnailOnlyOptions:Ws,thumbnail:qu,thumbnailUrl:Xu,orientationOnlyOptions:js,orientation:Ks,rotations:qs,get rotateCanvas(){return An},get rotateCss(){return On},rotation:Yu});let Ll=Yr("fs",r=>r.promises);De.set("fs",class extends _o{async readWhole(){this.chunked=!1,this.fs=await Ll;let r=await this.fs.readFile(this.input);this._swapBuffer(r)}async readChunked(){this.chunked=!0,this.fs=await Ll,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(r,e){this.fh===void 0&&await this.open(),r+e>this.size&&(e=this.size-r);var i=this.subarray(r,e,!0);return await this.fh.read(i.dataView,0,e,r),i}async close(){if(this.fh){let r=this.fh;this.fh=void 0,await r.close()}}});De.set("base64",class extends _o{constructor(...r){super(...r),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(r,e){let i,s,l=this.input;r===void 0?(r=0,i=0,s=0):(i=4*Math.floor(r/3),s=r-i/4*3),e===void 0&&(e=this.size);let u=r+e,h=i+4*Math.ceil(u/3);l=l.slice(i,h);let d=Math.min(e,this.size-r);if(mo){let p=fo.from(l,"base64").slice(s,s+d);return this.set(p,r,!0)}{let p=this.subarray(r,d,!0),v=atob(l),S=p.toUint8();for(let g=0;g<d;g++)S[g]=v.charCodeAt(s+g);return p}}});class kl extends go{static canHandle(e,i){return i===18761||i===19789}extendOptions(e){let{ifd0:i,xmp:s,iptc:l,icc:u}=e;s.enabled&&i.deps.add(700),l.enabled&&i.deps.add(33723),u.enabled&&i.deps.add(34675),i.finalizeFilters()}async parse(){let{tiff:e,xmp:i,iptc:s,icc:l}=this.options;if(e.enabled||i.enabled||s.enabled||l.enabled){let u=Math.max(Ts(this.options),this.options.chunkSize);await this.file.ensureChunk(0,u),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let i=this.parsers.tiff[e];this.injectSegment(e,i)}}}dt(kl,"type","tiff"),Me.set("tiff",kl);let wm=Yr("zlib");const xm=["ihdr","iccp","text","itxt","exif"];class Il extends go{constructor(...e){super(...e),dt(this,"catchError",i=>this.errors.push(i)),dt(this,"metaChunks",[]),dt(this,"unknownChunks",[])}static canHandle(e,i){return i===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,i){let{file:s}=this;for(;e<i;){let l=s.getUint32(e),u=s.getUint32(e+4),h=s.getString(e+4,4).toLowerCase(),d=l+4+4+4,p={type:h,offset:e,length:d,start:e+4+4,size:l,marker:u};xm.includes(h)?this.metaChunks.push(p):this.unknownChunks.push(p),e+=d}}parseTextChunks(){let e=this.metaChunks.filter(i=>i.type==="text");for(let i of e){let[s,l]=this.file.getString(i.start,i.size).split("\0");this.injectKeyValToIhdr(s,l)}}injectKeyValToIhdr(e,i){let s=this.parsers.ihdr;s&&s.raw.set(e,i)}findIhdr(){let e=this.metaChunks.find(i=>i.type==="ihdr");e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find(i=>i.type==="exif");e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter(i=>i.type==="itxt");for(let i of e)i.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",i.chunk)}async findIcc(){let e=this.metaChunks.find(d=>d.type==="iccp");if(!e)return;let{chunk:i}=e,s=i.getUint8Array(0,81),l=0;for(;l<80&&s[l]!==0;)l++;let u=l+2,h=i.getString(0,l);if(this.injectKeyValToIhdr("ProfileName",h),Xr){let d=await wm,p=i.getUint8Array(u);p=d.inflateSync(p),this.injectSegment("icc",p)}}}dt(Il,"type","png"),Me.set("png",Il),Gt(Jt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Rn(Jt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let El=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Rn(Jt,"ifd0",El),Rn(Jt,"exif",El),Gt(Ie,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class fs extends Le{static canHandle(e,i){return e.getUint8(i+1)===224&&e.getUint32(i+4)===1246120262&&e.getUint8(i+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}dt(fs,"type","jfif"),dt(fs,"headerLength",9),jt.set("jfif",fs),Gt(Jt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Al extends Le{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}dt(Al,"type","ihdr"),jt.set("ihdr",Al),Gt(Jt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),Gt(Ie,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class $r extends Le{static canHandle(e,i){return e.getUint8(i+1)===226&&e.getUint32(i+4)===1229144927}static findPosition(e,i){let s=super.findPosition(e,i);return s.chunkNumber=e.getUint8(i+16),s.chunkCount=e.getUint8(i+17),s.multiSegment=s.chunkCount>1,s}static handleMultiSegments(e){return function(i){let s=function(l){let u=l[0].constructor,h=0;for(let v of l)h+=v.length;let d=new u(h),p=0;for(let v of l)d.set(v,p),p+=v.length;return d}(i.map(l=>l.chunk.toUint8()));return new he(s)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Kt("ICC header is too short");for(let[i,s]of Object.entries(Sm)){i=parseInt(i,10);let l=s(this.chunk,i);l!=="\0\0\0\0"&&e.set(i,l)}}parseTags(){let e,i,s,l,u,{raw:h}=this,d=this.chunk.getUint32(128),p=132,v=this.chunk.byteLength;for(;d--;){if(e=this.chunk.getString(p,4),i=this.chunk.getUint32(p+4),s=this.chunk.getUint32(p+8),l=this.chunk.getString(i,4),i+s>v)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");u=this.parseTag(l,i,s),u!==void 0&&u!=="\0\0\0\0"&&h.set(e,u),p+=12}}parseTag(e,i,s){switch(e){case"desc":return this.parseDesc(i);case"mluc":return this.parseMluc(i);case"text":return this.parseText(i,s);case"sig ":return this.parseSig(i)}if(!(i+s>this.chunk.byteLength))return this.chunk.getUint8Array(i,s)}parseDesc(e){let i=this.chunk.getUint32(e+8)-1;return En(this.chunk.getString(e+12,i))}parseText(e,i){return En(this.chunk.getString(e+8,i-8))}parseSig(e){return En(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:i}=this,s=i.getUint32(e+8),l=i.getUint32(e+12),u=e+16,h=[];for(let d=0;d<s;d++){let p=i.getString(u+0,2),v=i.getString(u+2,2),S=i.getUint32(u+4),g=i.getUint32(u+8)+e,x=En(i.getUnicodeString(g,S));h.push({lang:p,country:v,text:x}),u+=l}return s===1?h[0].text:h}translateValue(e,i){return typeof e=="string"?i[e]||i[e.toLowerCase()]||e:i[e]||e}}dt($r,"type","icc"),dt($r,"multiSegment",!0),dt($r,"headerLength",18);const Sm={4:$e,8:function(r,e){return[r.getUint8(e),r.getUint8(e+1)>>4,r.getUint8(e+1)%16].map(i=>i.toString(10)).join(".")},12:$e,16:$e,20:$e,24:function(r,e){const i=r.getUint16(e),s=r.getUint16(e+2)-1,l=r.getUint16(e+4),u=r.getUint16(e+6),h=r.getUint16(e+8),d=r.getUint16(e+10);return new Date(Date.UTC(i,s,l,u,h,d))},36:$e,40:$e,48:$e,52:$e,64:(r,e)=>r.getUint32(e),80:$e};function $e(r,e){return En(r.getString(e,4))}jt.set("icc",$r),Gt(Jt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const zr={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Ol={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};Gt(Ie,"icc",[[4,zr],[12,Ol],[40,Object.assign({},zr,Ol)],[48,zr],[80,zr],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Fr extends Le{static canHandle(e,i,s){return e.getUint8(i+1)===237&&e.getString(i+4,9)==="Photoshop"&&this.containsIptc8bim(e,i,s)!==void 0}static headerLength(e,i,s){let l,u=this.containsIptc8bim(e,i,s);if(u!==void 0)return l=e.getUint8(i+u+7),l%2!=0&&(l+=1),l===0&&(l=4),u+8+l}static containsIptc8bim(e,i,s){for(let l=0;l<s;l++)if(this.isIptcSegmentHead(e,i+l))return l}static isIptcSegmentHead(e,i){return e.getUint8(i)===56&&e.getUint32(i)===943868237&&e.getUint16(i+4)===1028}parse(){let{raw:e}=this,i=this.chunk.byteLength-1,s=!1;for(let l=0;l<i;l++)if(this.chunk.getUint8(l)===28&&this.chunk.getUint8(l+1)===2){s=!0;let u=this.chunk.getUint16(l+3),h=this.chunk.getUint8(l+2),d=this.chunk.getLatin1String(l+5,u);e.set(h,this.pluralizeValue(e.get(h),d)),l+=4+u}else if(s)break;return this.translate(),this.output}pluralizeValue(e,i){return e!==void 0?e instanceof Array?(e.push(i),e):[e,i]:i}}dt(Fr,"type","iptc"),dt(Fr,"translateValues",!1),dt(Fr,"reviveValues",!1),jt.set("iptc",Fr),Gt(Jt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),Gt(Ie,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);var Pm=Bt('<div class="flex flex-col gap-2"><div class="text-sm font-medium">Speicherart</div><div class="flex gap-2"><label class="flex items-center gap-2"><input type=radio name=storageType value=local class="w-4 h-4"><span class=text-sm>Lokal speichern</span></label><label class="flex items-center gap-2"><input type=radio name=storageType value=remote class="w-4 h-4"><span class=text-sm>Remote speichern'),Cm=Bt('<div class="text-sm text-muted-foreground">Speicherart: '),Tm=Bt('<div class="flex justify-center items-center gap-2"><img alt=Vorschau class="max-h-32 rounded shadow">'),Lm=Bt('<div class="text-red-600 text-sm text-center">'),km=Bt('<div class="flex flex-col gap-2 p-2">'),Im=Bt('<div class="border-t-2 border-border"><div class="flex gap-0"><button type=button class="flex-1 text-center font-semibold border-r-2 border-border transition-colors touch-manipulation disabled:text-muted-foreground disabled:cursor-not-allowed text-destructive hover:bg-destructive/10 active:bg-destructive/20 disabled:hover:bg-transparent disabled:active:bg-transparent">Löschen</button><button type=button class="flex-1 text-center font-semibold text-green-600 hover:bg-green-600/10 active:bg-green-600/20 disabled:text-muted-foreground disabled:cursor-not-allowed transition-colors touch-manipulation">');const Ml={lat:52.5244,lng:13.4105};function Em(r){const[e,i]=vt(""),[s,l]=vt(null),[u,h]=vt(""),[d,p]=vt(""),[v,S]=vt("local"),[g,x]=vt(void 0);At(()=>{r.isOpen?(i(r.item?.title??""),l(null),p(""),h(r.item?.src??""),S(r.item?.storageType??"local")):(h(""),l(null),p(""),S("local"))}),ri(()=>{navigator.geolocation&&r.mode==="create"?navigator.geolocation.getCurrentPosition(F=>{x({lat:F.coords.latitude,lng:F.coords.longitude})},()=>{x(Ml)},{enableHighAccuracy:!0,timeout:5e3}):r.mode==="create"&&x(Ml)});const D=async F=>{const q=F.target.files;if(q?.[0]){const H=q[0];l(H);const k=URL.createObjectURL(H);if(h(k),!e().trim()){const U=H.name.replace(/\.[^.]+$/,"");i(U)}try{const U=await bm.gps(H);if(U?.latitude&&U?.longitude){x({lat:U.latitude,lng:U.longitude});return}}catch{}}};async function C(F){const q=new FormData;q.append("image",F,F.name);const H=await fetch("https://img.wesley.fyi/upload",{method:"POST",body:q,headers:{"X-API-Key":"ashkglfasfhAKShdsdkSdklad##+a"}});if(!H.ok)throw new Error("Upload failed");return(await H.json()).url}async function E(F){if(v()==="remote")try{return await C(F)}catch{return p("Fehler beim Upload zum Server."),""}if("showDirectoryPicker"in window){const H=await(await window.showDirectoryPicker({id:"media-images",mode:"readwrite"})).getFileHandle(F.name,{create:!0}),k=await H.createWritable();return await k.write(F),await k.close(),H.name}return p("File System API wird nicht unterstützt."),""}const G=async()=>{const F=e().trim();if(!F||!s()&&!u()){p("Bitte Titel und Bild angeben.");return}let q=u();if(s())try{if(q=await E(s()),!q)return}catch{p("Fehler beim lokalen Speichern des Bildes.");return}p(""),r.onSave(F,q,v(),g())},Q=F=>{F.key==="Enter"&&G()};return V(zs,{get open(){return r.isOpen},onOpenChange:F=>!F&&r.onClose(),get children(){return V(Yt.Portal,{get children(){return[V(Yt.Overlay,{class:"fixed inset-0 z-50 bg-background/80 data-[expanded]:animate-in data-[expanded]:fade-in-0 data-[closed]:animate-out data-[closed]:fade-out-0"}),V(Yt.Content,{get class(){return ue("fixed left-[50%] top-[50%] z-50 grid w-[90vw] max-w-md translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-card shadow-2xl duration-200 data-[expanded]:animate-in data-[expanded]:fade-in-0 data-[expanded]:zoom-in-95 data-[expanded]:slide-in-from-left-1/2 data-[expanded]:slide-in-from-top-48% data-[expanded]:duration-200 data-[closed]:animate-out data-[closed]:fade-out-0 data-[closed]:zoom-out-95 data-[closed]:slide-out-to-left-1/2 data-[closed]:slide-out-to-top-48% data-[closed]:duration-200 md:w-full rounded-lg")},get children(){return[(()=>{var F=km();return Et(F,V(If,{get children(){return V(Fs,{get children(){return r.mode==="create"?"Neues Medium":"Medium editieren"}})}}),null),Et(F,V(dl,{class:"flex flex-col gap-2",get children(){return[V(fl,{class:"",children:"Titel"}),V(ml,{get value(){return e()},onInput:q=>i(q.target.value),onKeyDown:Q,placeholder:"Titel eingeben...",class:"w-full"})]}}),null),Et(F,V(dl,{class:"flex flex-col gap-2",get children(){return[V(fl,{class:"",children:"Bild auswählen"}),V(ml,{type:"file",accept:"image/*",onInput:D,class:"w-full"})]}}),null),Et(F,V(re,{get when(){return r.mode==="create"},get children(){var q=Pm(),H=q.firstChild,k=H.nextSibling,U=k.firstChild,Y=U.firstChild,N=U.nextSibling,B=N.firstChild;return Y.addEventListener("change",()=>S("local")),B.addEventListener("change",()=>S("remote")),le(()=>Y.checked=v()==="local"),le(()=>B.checked=v()==="remote"),q}}),null),Et(F,V(re,{get when(){return r.mode==="edit"&&r.item?.storageType},get children(){var q=Cm();return q.firstChild,Et(q,()=>r.item.storageType==="local"?"Lokal":"Remote",null),q}}),null),Et(F,V(re,{get when(){return u()},get children(){var q=Tm(),H=q.firstChild;return le(()=>ii(H,"src",u())),q}}),null),Et(F,V(re,{get when(){return d()},get children(){var q=Lm();return Et(q,d),q}}),null),F})(),(()=>{var F=Im(),q=F.firstChild,H=q.firstChild,k=H.nextSibling;return H.$$click=()=>r.onDelete?.(),k.$$click=G,Et(k,()=>r.mode==="create"?"Hinzufügen":"Speichern"),le(U=>{var Y=r.mode==="create"||!r.onDelete,N=!e().trim()||!s()&&!u();return Y!==U.e&&(H.disabled=U.e=Y),N!==U.t&&(k.disabled=U.t=N),U},{e:void 0,t:void 0}),F})()]}})]}})}})}si(["click"]);var Qn={},Ve={},Ut={},gt={},Dl;function Am(){if(Dl)return gt;Dl=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.toBig=gt.shrSL=gt.shrSH=gt.rotrSL=gt.rotrSH=gt.rotrBL=gt.rotrBH=gt.rotr32L=gt.rotr32H=gt.rotlSL=gt.rotlSH=gt.rotlBL=gt.rotlBH=gt.add5L=gt.add5H=gt.add4L=gt.add4H=gt.add3L=gt.add3H=void 0,gt.add=Q,gt.fromBig=i,gt.split=s;const r=BigInt(2**32-1),e=BigInt(32);function i(B,R=!1){return R?{h:Number(B&r),l:Number(B>>e&r)}:{h:Number(B>>e&r)|0,l:Number(B&r)|0}}function s(B,R=!1){const z=B.length;let tt=new Uint32Array(z),_t=new Uint32Array(z);for(let wt=0;wt<z;wt++){const{h:$t,l:Lt}=i(B[wt],R);[tt[wt],_t[wt]]=[$t,Lt]}return[tt,_t]}const l=(B,R)=>BigInt(B>>>0)<<e|BigInt(R>>>0);gt.toBig=l;const u=(B,R,z)=>B>>>z;gt.shrSH=u;const h=(B,R,z)=>B<<32-z|R>>>z;gt.shrSL=h;const d=(B,R,z)=>B>>>z|R<<32-z;gt.rotrSH=d;const p=(B,R,z)=>B<<32-z|R>>>z;gt.rotrSL=p;const v=(B,R,z)=>B<<64-z|R>>>z-32;gt.rotrBH=v;const S=(B,R,z)=>B>>>z-32|R<<64-z;gt.rotrBL=S;const g=(B,R)=>R;gt.rotr32H=g;const x=(B,R)=>B;gt.rotr32L=x;const D=(B,R,z)=>B<<z|R>>>32-z;gt.rotlSH=D;const C=(B,R,z)=>R<<z|B>>>32-z;gt.rotlSL=C;const E=(B,R,z)=>R<<z-32|B>>>64-z;gt.rotlBH=E;const G=(B,R,z)=>B<<z-32|R>>>64-z;gt.rotlBL=G;function Q(B,R,z,tt){const _t=(R>>>0)+(tt>>>0);return{h:B+z+(_t/2**32|0)|0,l:_t|0}}const F=(B,R,z)=>(B>>>0)+(R>>>0)+(z>>>0);gt.add3L=F;const q=(B,R,z,tt)=>R+z+tt+(B/2**32|0)|0;gt.add3H=q;const H=(B,R,z,tt)=>(B>>>0)+(R>>>0)+(z>>>0)+(tt>>>0);gt.add4L=H;const k=(B,R,z,tt,_t)=>R+z+tt+_t+(B/2**32|0)|0;gt.add4H=k;const U=(B,R,z,tt,_t)=>(B>>>0)+(R>>>0)+(z>>>0)+(tt>>>0)+(_t>>>0);gt.add5L=U;const Y=(B,R,z,tt,_t,wt)=>R+z+tt+_t+wt+(B/2**32|0)|0;gt.add5H=Y;const N={fromBig:i,split:s,toBig:l,shrSH:u,shrSL:h,rotrSH:d,rotrSL:p,rotrBH:v,rotrBL:S,rotr32H:g,rotr32L:x,rotlSH:D,rotlSL:C,rotlBH:E,rotlBL:G,add:Q,add3L:F,add3H:q,add4L:H,add4H:k,add5H:Y,add5L:U};return gt.default=N,gt}var ms={},Ni={},Bl;function Om(){return Bl||(Bl=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.crypto=void 0,Ni.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Ni}var Rl;function Mm(){return Rl||(Rl=1,function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.Hash=r.nextTick=r.swap32IfBE=r.byteSwapIfBE=r.swap8IfBE=r.isLE=void 0,r.isBytes=i,r.anumber=s,r.abytes=l,r.ahash=u,r.aexists=h,r.aoutput=d,r.u8=p,r.u32=v,r.clean=S,r.createView=g,r.rotr=x,r.rotl=D,r.byteSwap=C,r.byteSwap32=E,r.bytesToHex=F,r.hexToBytes=k,r.asyncLoop=Y,r.utf8ToBytes=N,r.bytesToUtf8=B,r.toBytes=R,r.kdfInputToBytes=z,r.concatBytes=tt,r.checkOpts=_t,r.createHasher=$t,r.createOptHasher=Lt,r.createXOFer=it,r.randomBytes=$;const e=Om();function i(O){return O instanceof Uint8Array||ArrayBuffer.isView(O)&&O.constructor.name==="Uint8Array"}function s(O){if(!Number.isSafeInteger(O)||O<0)throw new Error("positive integer expected, got "+O)}function l(O,...Z){if(!i(O))throw new Error("Uint8Array expected");if(Z.length>0&&!Z.includes(O.length))throw new Error("Uint8Array expected of length "+Z+", got length="+O.length)}function u(O){if(typeof O!="function"||typeof O.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");s(O.outputLen),s(O.blockLen)}function h(O,Z=!0){if(O.destroyed)throw new Error("Hash instance has been destroyed");if(Z&&O.finished)throw new Error("Hash#digest() has already been called")}function d(O,Z){l(O);const nt=Z.outputLen;if(O.length<nt)throw new Error("digestInto() expects output buffer of length at least "+nt)}function p(O){return new Uint8Array(O.buffer,O.byteOffset,O.byteLength)}function v(O){return new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4))}function S(...O){for(let Z=0;Z<O.length;Z++)O[Z].fill(0)}function g(O){return new DataView(O.buffer,O.byteOffset,O.byteLength)}function x(O,Z){return O<<32-Z|O>>>Z}function D(O,Z){return O<<Z|O>>>32-Z>>>0}r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function C(O){return O<<24&4278190080|O<<8&16711680|O>>>8&65280|O>>>24&255}r.swap8IfBE=r.isLE?O=>O:O=>C(O),r.byteSwapIfBE=r.swap8IfBE;function E(O){for(let Z=0;Z<O.length;Z++)O[Z]=C(O[Z]);return O}r.swap32IfBE=r.isLE?O=>O:E;const G=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Q=Array.from({length:256},(O,Z)=>Z.toString(16).padStart(2,"0"));function F(O){if(l(O),G)return O.toHex();let Z="";for(let nt=0;nt<O.length;nt++)Z+=Q[O[nt]];return Z}const q={_0:48,_9:57,A:65,F:70,a:97,f:102};function H(O){if(O>=q._0&&O<=q._9)return O-q._0;if(O>=q.A&&O<=q.F)return O-(q.A-10);if(O>=q.a&&O<=q.f)return O-(q.a-10)}function k(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);if(G)return Uint8Array.fromHex(O);const Z=O.length,nt=Z/2;if(Z%2)throw new Error("hex string expected, got unpadded hex of length "+Z);const ft=new Uint8Array(nt);for(let lt=0,ut=0;lt<nt;lt++,ut+=2){const yt=H(O.charCodeAt(ut)),pt=H(O.charCodeAt(ut+1));if(yt===void 0||pt===void 0){const xt=O[ut]+O[ut+1];throw new Error('hex string expected, got non-hex character "'+xt+'" at index '+ut)}ft[lt]=yt*16+pt}return ft}const U=async()=>{};r.nextTick=U;async function Y(O,Z,nt){let ft=Date.now();for(let lt=0;lt<O;lt++){nt(lt);const ut=Date.now()-ft;ut>=0&&ut<Z||(await(0,r.nextTick)(),ft+=ut)}}function N(O){if(typeof O!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(O))}function B(O){return new TextDecoder().decode(O)}function R(O){return typeof O=="string"&&(O=N(O)),l(O),O}function z(O){return typeof O=="string"&&(O=N(O)),l(O),O}function tt(...O){let Z=0;for(let ft=0;ft<O.length;ft++){const lt=O[ft];l(lt),Z+=lt.length}const nt=new Uint8Array(Z);for(let ft=0,lt=0;ft<O.length;ft++){const ut=O[ft];nt.set(ut,lt),lt+=ut.length}return nt}function _t(O,Z){if(Z!==void 0&&{}.toString.call(Z)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(O,Z)}class wt{}r.Hash=wt;function $t(O){const Z=ft=>O().update(R(ft)).digest(),nt=O();return Z.outputLen=nt.outputLen,Z.blockLen=nt.blockLen,Z.create=()=>O(),Z}function Lt(O){const Z=(ft,lt)=>O(lt).update(R(ft)).digest(),nt=O({});return Z.outputLen=nt.outputLen,Z.blockLen=nt.blockLen,Z.create=ft=>O(ft),Z}function it(O){const Z=(ft,lt)=>O(lt).update(R(ft)).digest(),nt=O({});return Z.outputLen=nt.outputLen,Z.blockLen=nt.blockLen,Z.create=ft=>O(ft),Z}r.wrapConstructor=$t,r.wrapConstructorWithOpts=Lt,r.wrapXOFConstructorWithOpts=it;function $(O=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(O));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(O));throw new Error("crypto.getRandomValues must be defined")}}(ms)),ms}var Nl;function Dm(){if(Nl)return Ut;Nl=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.shake256=Ut.shake128=Ut.keccak_512=Ut.keccak_384=Ut.keccak_256=Ut.keccak_224=Ut.sha3_512=Ut.sha3_384=Ut.sha3_256=Ut.sha3_224=Ut.Keccak=void 0,Ut.keccakP=G;const r=Am(),e=Mm(),i=BigInt(0),s=BigInt(1),l=BigInt(2),u=BigInt(7),h=BigInt(256),d=BigInt(113),p=[],v=[],S=[];for(let H=0,k=s,U=1,Y=0;H<24;H++){[U,Y]=[Y,(2*U+3*Y)%5],p.push(2*(5*Y+U)),v.push((H+1)*(H+2)/2%64);let N=i;for(let B=0;B<7;B++)k=(k<<s^(k>>u)*d)%h,k&l&&(N^=s<<(s<<BigInt(B))-s);S.push(N)}const g=(0,r.split)(S,!0),x=g[0],D=g[1],C=(H,k,U)=>U>32?(0,r.rotlBH)(H,k,U):(0,r.rotlSH)(H,k,U),E=(H,k,U)=>U>32?(0,r.rotlBL)(H,k,U):(0,r.rotlSL)(H,k,U);function G(H,k=24){const U=new Uint32Array(10);for(let Y=24-k;Y<24;Y++){for(let R=0;R<10;R++)U[R]=H[R]^H[R+10]^H[R+20]^H[R+30]^H[R+40];for(let R=0;R<10;R+=2){const z=(R+8)%10,tt=(R+2)%10,_t=U[tt],wt=U[tt+1],$t=C(_t,wt,1)^U[z],Lt=E(_t,wt,1)^U[z+1];for(let it=0;it<50;it+=10)H[R+it]^=$t,H[R+it+1]^=Lt}let N=H[2],B=H[3];for(let R=0;R<24;R++){const z=v[R],tt=C(N,B,z),_t=E(N,B,z),wt=p[R];N=H[wt],B=H[wt+1],H[wt]=tt,H[wt+1]=_t}for(let R=0;R<50;R+=10){for(let z=0;z<10;z++)U[z]=H[R+z];for(let z=0;z<10;z++)H[R+z]^=~U[(z+2)%10]&U[(z+4)%10]}H[0]^=x[Y],H[1]^=D[Y]}(0,e.clean)(U)}class Q extends e.Hash{constructor(k,U,Y,N=!1,B=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=k,this.suffix=U,this.outputLen=Y,this.enableXOF=N,this.rounds=B,(0,e.anumber)(Y),!(0<k&&k<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),G(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(k){(0,e.aexists)(this),k=(0,e.toBytes)(k),(0,e.abytes)(k);const{blockLen:U,state:Y}=this,N=k.length;for(let B=0;B<N;){const R=Math.min(U-this.pos,N-B);for(let z=0;z<R;z++)Y[this.pos++]^=k[B++];this.pos===U&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:k,suffix:U,pos:Y,blockLen:N}=this;k[Y]^=U,(U&128)!==0&&Y===N-1&&this.keccak(),k[N-1]^=128,this.keccak()}writeInto(k){(0,e.aexists)(this,!1),(0,e.abytes)(k),this.finish();const U=this.state,{blockLen:Y}=this;for(let N=0,B=k.length;N<B;){this.posOut>=Y&&this.keccak();const R=Math.min(Y-this.posOut,B-N);k.set(U.subarray(this.posOut,this.posOut+R),N),this.posOut+=R,N+=R}return k}xofInto(k){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(k)}xof(k){return(0,e.anumber)(k),this.xofInto(new Uint8Array(k))}digestInto(k){if((0,e.aoutput)(k,this),this.finished)throw new Error("digest() was already called");return this.writeInto(k),this.destroy(),k}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(k){const{blockLen:U,suffix:Y,outputLen:N,rounds:B,enableXOF:R}=this;return k||(k=new Q(U,Y,N,R,B)),k.state32.set(this.state32),k.pos=this.pos,k.posOut=this.posOut,k.finished=this.finished,k.rounds=B,k.suffix=Y,k.outputLen=N,k.enableXOF=R,k.destroyed=this.destroyed,k}}Ut.Keccak=Q;const F=(H,k,U)=>(0,e.createHasher)(()=>new Q(k,H,U));Ut.sha3_224=F(6,144,224/8),Ut.sha3_256=F(6,136,256/8),Ut.sha3_384=F(6,104,384/8),Ut.sha3_512=F(6,72,512/8),Ut.keccak_224=F(1,144,224/8),Ut.keccak_256=F(1,136,256/8),Ut.keccak_384=F(1,104,384/8),Ut.keccak_512=F(1,72,512/8);const q=(H,k,U)=>(0,e.createXOFer)((Y={})=>new Q(k,H,Y.dkLen===void 0?U:Y.dkLen,!0));return Ut.shake128=q(31,168,128/8),Ut.shake256=q(31,136,256/8),Ut}var zl;function Bm(){if(zl)return Ve;zl=1;const{sha3_512:r}=Dm(),e=24,i=32,s=(C=4,E=Math.random)=>{let G="";for(;G.length<C;)G=G+Math.floor(E()*36).toString(36);return G};function l(C){let E=8n,G=0n;for(const Q of C.values()){const F=BigInt(Q);G=(G<<E)+F}return G}const u=(C="")=>l(r(C)).toString(36).slice(1),h=Array.from({length:26},(C,E)=>String.fromCharCode(E+97)),d=C=>h[Math.floor(C()*h.length)],p=({globalObj:C=typeof ti<"u"?ti:typeof window<"u"?window:{},random:E=Math.random}={})=>{const G=Object.keys(C).toString(),Q=G.length?G+s(i,E):s(i,E);return u(Q).substring(0,i)},v=C=>()=>C++,S=476782367,g=({random:C=Math.random,counter:E=v(Math.floor(C()*S)),length:G=e,fingerprint:Q=p({random:C})}={})=>function(){const q=d(C),H=Date.now().toString(36),k=E().toString(36),U=s(G,C),Y=`${H+U+k+Q}`;return`${q+u(Y).substring(1,G)}`},x=g(),D=(C,{minLength:E=2,maxLength:G=i}={})=>{const Q=C.length,F=/^[0-9a-z]+$/;try{if(typeof C=="string"&&Q>=E&&Q<=G&&F.test(C))return!0}finally{}return!1};return Ve.getConstants=()=>({defaultLength:e,bigLength:i}),Ve.init=g,Ve.createId=x,Ve.bufToBigInt=l,Ve.createCounter=v,Ve.createFingerprint=p,Ve.isCuid=D,Ve}var Fl;function Rm(){if(Fl)return Qn;Fl=1;const{createId:r,init:e,getConstants:i,isCuid:s}=Bm();return Qn.createId=r,Qn.init=e,Qn.getConstants=i,Qn.isCuid=s,Qn}var $i=Rm();let Ur=null;async function Nm(){if(Ur)return Ur;try{const e=await fetch("./data/albumCharts.json");if(e.ok){const i=await e.json();if(Array.isArray(i)&&i.length>0)return Ur=i,i}}catch{console.warn("Could not load album charts, using fallback data")}const r=zm();return Ur=r,r}function zm(){return Array.from({length:30},(r,e)=>({position:e+1,artist:$i.createId(),album:$i.createId(),image:`https://picsum.photos/300/300?random=${$i.createId()}`}))}async function Fm(r=30){const e=await Nm(),i=Math.min(r,e.length);return Array.from({length:i},(s,l)=>{const u=e[l];return{id:$i.createId(),title:`${u.artist} - ${u.album}`,src:u.image||"",added:new Date(Date.now()-Math.random()*30*24*60*60*1e3),storageType:"remote",location:u.location}})}function Zr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ps={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Ul;function Um(){return Ul||(Ul=1,function(r,e){(function(i){r.exports=i()})(function(){return function i(s,l,u){function h(v,S){if(!l[v]){if(!s[v]){var g=typeof Zr=="function"&&Zr;if(!S&&g)return g(v,!0);if(d)return d(v,!0);var x=new Error("Cannot find module '"+v+"'");throw x.code="MODULE_NOT_FOUND",x}var D=l[v]={exports:{}};s[v][0].call(D.exports,function(C){var E=s[v][1][C];return h(E||C)},D,D.exports,i,s,l,u)}return l[v].exports}for(var d=typeof Zr=="function"&&Zr,p=0;p<u.length;p++)h(u[p]);return h}({1:[function(i,s,l){(function(u){var h=u.MutationObserver||u.WebKitMutationObserver,d;if(h){var p=0,v=new h(C),S=u.document.createTextNode("");v.observe(S,{characterData:!0}),d=function(){S.data=p=++p%2}}else if(!u.setImmediate&&typeof u.MessageChannel<"u"){var g=new u.MessageChannel;g.port1.onmessage=C,d=function(){g.port2.postMessage(0)}}else"document"in u&&"onreadystatechange"in u.document.createElement("script")?d=function(){var G=u.document.createElement("script");G.onreadystatechange=function(){C(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},u.document.documentElement.appendChild(G)}:d=function(){setTimeout(C,0)};var x,D=[];function C(){x=!0;for(var G,Q,F=D.length;F;){for(Q=D,D=[],G=-1;++G<F;)Q[G]();F=D.length}x=!1}s.exports=E;function E(G){D.push(G)===1&&!x&&d()}}).call(this,typeof ti<"u"?ti:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,s,l){var u=i(1);function h(){}var d={},p=["REJECTED"],v=["FULFILLED"],S=["PENDING"];s.exports=g;function g(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,k!==h&&E(this,k)}g.prototype.catch=function(k){return this.then(null,k)},g.prototype.then=function(k,U){if(typeof k!="function"&&this.state===v||typeof U!="function"&&this.state===p)return this;var Y=new this.constructor(h);if(this.state!==S){var N=this.state===v?k:U;D(Y,N,this.outcome)}else this.queue.push(new x(Y,k,U));return Y};function x(k,U,Y){this.promise=k,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof Y=="function"&&(this.onRejected=Y,this.callRejected=this.otherCallRejected)}x.prototype.callFulfilled=function(k){d.resolve(this.promise,k)},x.prototype.otherCallFulfilled=function(k){D(this.promise,this.onFulfilled,k)},x.prototype.callRejected=function(k){d.reject(this.promise,k)},x.prototype.otherCallRejected=function(k){D(this.promise,this.onRejected,k)};function D(k,U,Y){u(function(){var N;try{N=U(Y)}catch(B){return d.reject(k,B)}N===k?d.reject(k,new TypeError("Cannot resolve promise with itself")):d.resolve(k,N)})}d.resolve=function(k,U){var Y=G(C,U);if(Y.status==="error")return d.reject(k,Y.value);var N=Y.value;if(N)E(k,N);else{k.state=v,k.outcome=U;for(var B=-1,R=k.queue.length;++B<R;)k.queue[B].callFulfilled(U)}return k},d.reject=function(k,U){k.state=p,k.outcome=U;for(var Y=-1,N=k.queue.length;++Y<N;)k.queue[Y].callRejected(U);return k};function C(k){var U=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof U=="function")return function(){U.apply(k,arguments)}}function E(k,U){var Y=!1;function N(tt){Y||(Y=!0,d.reject(k,tt))}function B(tt){Y||(Y=!0,d.resolve(k,tt))}function R(){U(B,N)}var z=G(R);z.status==="error"&&N(z.value)}function G(k,U){var Y={};try{Y.value=k(U),Y.status="success"}catch(N){Y.status="error",Y.value=N}return Y}g.resolve=Q;function Q(k){return k instanceof this?k:d.resolve(new this(h),k)}g.reject=F;function F(k){var U=new this(h);return d.reject(U,k)}g.all=q;function q(k){var U=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=k.length,N=!1;if(!Y)return this.resolve([]);for(var B=new Array(Y),R=0,z=-1,tt=new this(h);++z<Y;)_t(k[z],z);return tt;function _t(wt,$t){U.resolve(wt).then(Lt,function(it){N||(N=!0,d.reject(tt,it))});function Lt(it){B[$t]=it,++R===Y&&!N&&(N=!0,d.resolve(tt,B))}}}g.race=H;function H(k){var U=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Y=k.length,N=!1;if(!Y)return this.resolve([]);for(var B=-1,R=new this(h);++B<Y;)z(k[B]);return R;function z(tt){U.resolve(tt).then(function(_t){N||(N=!0,d.resolve(R,_t))},function(_t){N||(N=!0,d.reject(R,_t))})}}},{1:1}],3:[function(i,s,l){(function(u){typeof u.Promise!="function"&&(u.Promise=i(2))}).call(this,typeof ti<"u"?ti:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,s,l){var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m};function h(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=d();function v(){try{if(!p||!p.open)return!1;var m=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),w=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!m||w)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function S(m,w){m=m||[],w=w||{};try{return new Blob(m,w)}catch(y){if(y.name!=="TypeError")throw y;for(var _=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,P=new _,T=0;T<m.length;T+=1)P.append(m[T]);return P.getBlob(w.type)}}typeof Promise>"u"&&i(3);var g=Promise;function x(m,w){w&&m.then(function(_){w(null,_)},function(_){w(_)})}function D(m,w,_){typeof w=="function"&&m.then(w),typeof _=="function"&&m.catch(_)}function C(m){return typeof m!="string"&&(console.warn(m+" used as a key, but it is not a string."),m=String(m)),m}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var G="local-forage-detect-blob-support",Q=void 0,F={},q=Object.prototype.toString,H="readonly",k="readwrite";function U(m){for(var w=m.length,_=new ArrayBuffer(w),P=new Uint8Array(_),T=0;T<w;T++)P[T]=m.charCodeAt(T);return _}function Y(m){return new g(function(w){var _=m.transaction(G,k),P=S([""]);_.objectStore(G).put(P,"key"),_.onabort=function(T){T.preventDefault(),T.stopPropagation(),w(!1)},_.oncomplete=function(){var T=navigator.userAgent.match(/Chrome\/(\d+)/),y=navigator.userAgent.match(/Edge\//);w(y||!T||parseInt(T[1],10)>=43)}}).catch(function(){return!1})}function N(m){return typeof Q=="boolean"?g.resolve(Q):Y(m).then(function(w){return Q=w,Q})}function B(m){var w=F[m.name],_={};_.promise=new g(function(P,T){_.resolve=P,_.reject=T}),w.deferredOperations.push(_),w.dbReady?w.dbReady=w.dbReady.then(function(){return _.promise}):w.dbReady=_.promise}function R(m){var w=F[m.name],_=w.deferredOperations.pop();if(_)return _.resolve(),_.promise}function z(m,w){var _=F[m.name],P=_.deferredOperations.pop();if(P)return P.reject(w),P.promise}function tt(m,w){return new g(function(_,P){if(F[m.name]=F[m.name]||ft(),m.db)if(w)B(m),m.db.close();else return _(m.db);var T=[m.name];w&&T.push(m.version);var y=p.open.apply(p,T);w&&(y.onupgradeneeded=function(M){var j=y.result;try{j.createObjectStore(m.storeName),M.oldVersion<=1&&j.createObjectStore(G)}catch(X){if(X.name==="ConstraintError")console.warn('The database "'+m.name+'" has been upgraded from version '+M.oldVersion+" to version "+M.newVersion+', but the storage "'+m.storeName+'" already exists.');else throw X}}),y.onerror=function(M){M.preventDefault(),P(y.error)},y.onsuccess=function(){var M=y.result;M.onversionchange=function(j){j.target.close()},_(M),R(m)}})}function _t(m){return tt(m,!1)}function wt(m){return tt(m,!0)}function $t(m,w){if(!m.db)return!0;var _=!m.db.objectStoreNames.contains(m.storeName),P=m.version<m.db.version,T=m.version>m.db.version;if(P&&(m.version!==w&&console.warn('The database "'+m.name+`" can't be downgraded from version `+m.db.version+" to version "+m.version+"."),m.version=m.db.version),T||_){if(_){var y=m.db.version+1;y>m.version&&(m.version=y)}return!0}return!1}function Lt(m){return new g(function(w,_){var P=new FileReader;P.onerror=_,P.onloadend=function(T){var y=btoa(T.target.result||"");w({__local_forage_encoded_blob:!0,data:y,type:m.type})},P.readAsBinaryString(m)})}function it(m){var w=U(atob(m.data));return S([w],{type:m.type})}function $(m){return m&&m.__local_forage_encoded_blob}function O(m){var w=this,_=w._initReady().then(function(){var P=F[w._dbInfo.name];if(P&&P.dbReady)return P.dbReady});return D(_,m,m),_}function Z(m){B(m);for(var w=F[m.name],_=w.forages,P=0;P<_.length;P++){var T=_[P];T._dbInfo.db&&(T._dbInfo.db.close(),T._dbInfo.db=null)}return m.db=null,_t(m).then(function(y){return m.db=y,$t(m)?wt(m):y}).then(function(y){m.db=w.db=y;for(var M=0;M<_.length;M++)_[M]._dbInfo.db=y}).catch(function(y){throw z(m,y),y})}function nt(m,w,_,P){P===void 0&&(P=1);try{var T=m.db.transaction(m.storeName,w);_(null,T)}catch(y){if(P>0&&(!m.db||y.name==="InvalidStateError"||y.name==="NotFoundError"))return g.resolve().then(function(){if(!m.db||y.name==="NotFoundError"&&!m.db.objectStoreNames.contains(m.storeName)&&m.version<=m.db.version)return m.db&&(m.version=m.db.version+1),wt(m)}).then(function(){return Z(m).then(function(){nt(m,w,_,P-1)})}).catch(_);_(y)}}function ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function lt(m){var w=this,_={db:null};if(m)for(var P in m)_[P]=m[P];var T=F[_.name];T||(T=ft(),F[_.name]=T),T.forages.push(w),w._initReady||(w._initReady=w.ready,w.ready=O);var y=[];function M(){return g.resolve()}for(var j=0;j<T.forages.length;j++){var X=T.forages[j];X!==w&&y.push(X._initReady().catch(M))}var K=T.forages.slice(0);return g.all(y).then(function(){return _.db=T.db,_t(_)}).then(function(J){return _.db=J,$t(_,w._defaultConfig.version)?wt(_):J}).then(function(J){_.db=T.db=J,w._dbInfo=_;for(var rt=0;rt<K.length;rt++){var mt=K[rt];mt!==w&&(mt._dbInfo.db=_.db,mt._dbInfo.version=_.version)}})}function ut(m,w){var _=this;m=C(m);var P=new g(function(T,y){_.ready().then(function(){nt(_._dbInfo,H,function(M,j){if(M)return y(M);try{var X=j.objectStore(_._dbInfo.storeName),K=X.get(m);K.onsuccess=function(){var J=K.result;J===void 0&&(J=null),$(J)&&(J=it(J)),T(J)},K.onerror=function(){y(K.error)}}catch(J){y(J)}})}).catch(y)});return x(P,w),P}function yt(m,w){var _=this,P=new g(function(T,y){_.ready().then(function(){nt(_._dbInfo,H,function(M,j){if(M)return y(M);try{var X=j.objectStore(_._dbInfo.storeName),K=X.openCursor(),J=1;K.onsuccess=function(){var rt=K.result;if(rt){var mt=rt.value;$(mt)&&(mt=it(mt));var ct=m(mt,rt.key,J++);ct!==void 0?T(ct):rt.continue()}else T()},K.onerror=function(){y(K.error)}}catch(rt){y(rt)}})}).catch(y)});return x(P,w),P}function pt(m,w,_){var P=this;m=C(m);var T=new g(function(y,M){var j;P.ready().then(function(){return j=P._dbInfo,q.call(w)==="[object Blob]"?N(j.db).then(function(X){return X?w:Lt(w)}):w}).then(function(X){nt(P._dbInfo,k,function(K,J){if(K)return M(K);try{var rt=J.objectStore(P._dbInfo.storeName);X===null&&(X=void 0);var mt=rt.put(X,m);J.oncomplete=function(){X===void 0&&(X=null),y(X)},J.onabort=J.onerror=function(){var ct=mt.error?mt.error:mt.transaction.error;M(ct)}}catch(ct){M(ct)}})}).catch(M)});return x(T,_),T}function xt(m,w){var _=this;m=C(m);var P=new g(function(T,y){_.ready().then(function(){nt(_._dbInfo,k,function(M,j){if(M)return y(M);try{var X=j.objectStore(_._dbInfo.storeName),K=X.delete(m);j.oncomplete=function(){T()},j.onerror=function(){y(K.error)},j.onabort=function(){var J=K.error?K.error:K.transaction.error;y(J)}}catch(J){y(J)}})}).catch(y)});return x(P,w),P}function ee(m){var w=this,_=new g(function(P,T){w.ready().then(function(){nt(w._dbInfo,k,function(y,M){if(y)return T(y);try{var j=M.objectStore(w._dbInfo.storeName),X=j.clear();M.oncomplete=function(){P()},M.onabort=M.onerror=function(){var K=X.error?X.error:X.transaction.error;T(K)}}catch(K){T(K)}})}).catch(T)});return x(_,m),_}function _e(m){var w=this,_=new g(function(P,T){w.ready().then(function(){nt(w._dbInfo,H,function(y,M){if(y)return T(y);try{var j=M.objectStore(w._dbInfo.storeName),X=j.count();X.onsuccess=function(){P(X.result)},X.onerror=function(){T(X.error)}}catch(K){T(K)}})}).catch(T)});return x(_,m),_}function de(m,w){var _=this,P=new g(function(T,y){if(m<0){T(null);return}_.ready().then(function(){nt(_._dbInfo,H,function(M,j){if(M)return y(M);try{var X=j.objectStore(_._dbInfo.storeName),K=!1,J=X.openKeyCursor();J.onsuccess=function(){var rt=J.result;if(!rt){T(null);return}m===0||K?T(rt.key):(K=!0,rt.advance(m))},J.onerror=function(){y(J.error)}}catch(rt){y(rt)}})}).catch(y)});return x(P,w),P}function Be(m){var w=this,_=new g(function(P,T){w.ready().then(function(){nt(w._dbInfo,H,function(y,M){if(y)return T(y);try{var j=M.objectStore(w._dbInfo.storeName),X=j.openKeyCursor(),K=[];X.onsuccess=function(){var J=X.result;if(!J){P(K);return}K.push(J.key),J.continue()},X.onerror=function(){T(X.error)}}catch(J){T(J)}})}).catch(T)});return x(_,m),_}function ve(m,w){w=E.apply(this,arguments);var _=this.config();m=typeof m!="function"&&m||{},m.name||(m.name=m.name||_.name,m.storeName=m.storeName||_.storeName);var P=this,T;if(!m.name)T=g.reject("Invalid arguments");else{var y=m.name===_.name&&P._dbInfo.db,M=y?g.resolve(P._dbInfo.db):_t(m).then(function(j){var X=F[m.name],K=X.forages;X.db=j;for(var J=0;J<K.length;J++)K[J]._dbInfo.db=j;return j});m.storeName?T=M.then(function(j){if(j.objectStoreNames.contains(m.storeName)){var X=j.version+1;B(m);var K=F[m.name],J=K.forages;j.close();for(var rt=0;rt<J.length;rt++){var mt=J[rt];mt._dbInfo.db=null,mt._dbInfo.version=X}var ct=new g(function(Ct,zt){var Nt=p.open(m.name,X);Nt.onerror=function(ne){var Pe=Nt.result;Pe.close(),zt(ne)},Nt.onupgradeneeded=function(){var ne=Nt.result;ne.deleteObjectStore(m.storeName)},Nt.onsuccess=function(){var ne=Nt.result;ne.close(),Ct(ne)}});return ct.then(function(Ct){K.db=Ct;for(var zt=0;zt<J.length;zt++){var Nt=J[zt];Nt._dbInfo.db=Ct,R(Nt._dbInfo)}}).catch(function(Ct){throw(z(m,Ct)||g.resolve()).catch(function(){}),Ct})}}):T=M.then(function(j){B(m);var X=F[m.name],K=X.forages;j.close();for(var J=0;J<K.length;J++){var rt=K[J];rt._dbInfo.db=null}var mt=new g(function(ct,Ct){var zt=p.deleteDatabase(m.name);zt.onerror=function(){var Nt=zt.result;Nt&&Nt.close(),Ct(zt.error)},zt.onblocked=function(){console.warn('dropInstance blocked for database "'+m.name+'" until all open connections are closed')},zt.onsuccess=function(){var Nt=zt.result;Nt&&Nt.close(),ct(Nt)}});return mt.then(function(ct){X.db=ct;for(var Ct=0;Ct<K.length;Ct++){var zt=K[Ct];R(zt._dbInfo)}}).catch(function(ct){throw(z(m,ct)||g.resolve()).catch(function(){}),ct})})}return x(T,w),T}var hi={_driver:"asyncStorage",_initStorage:lt,_support:v(),iterate:yt,getItem:ut,setItem:pt,removeItem:xt,clear:ee,length:_e,key:de,keys:Be,dropInstance:ve};function yo(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tr="~~local_forage_type~",Fn=/^~~local_forage_type~([^~]+)~/,Re="__lfsc__:",di=Re.length,Un="arbf",gn="blob",fi="si08",mi="ui08",er="uic8",nr="si16",Zn="si32",pi="ur16",gi="ui32",ir="fl32",_i="fl64",vi=di+Un.length,rr=Object.prototype.toString;function yi(m){var w=m.length*.75,_=m.length,P,T=0,y,M,j,X;m[m.length-1]==="="&&(w--,m[m.length-2]==="="&&w--);var K=new ArrayBuffer(w),J=new Uint8Array(K);for(P=0;P<_;P+=4)y=xe.indexOf(m[P]),M=xe.indexOf(m[P+1]),j=xe.indexOf(m[P+2]),X=xe.indexOf(m[P+3]),J[T++]=y<<2|M>>4,J[T++]=(M&15)<<4|j>>2,J[T++]=(j&3)<<6|X&63;return K}function _n(m){var w=new Uint8Array(m),_="",P;for(P=0;P<w.length;P+=3)_+=xe[w[P]>>2],_+=xe[(w[P]&3)<<4|w[P+1]>>4],_+=xe[(w[P+1]&15)<<2|w[P+2]>>6],_+=xe[w[P+2]&63];return w.length%3===2?_=_.substring(0,_.length-1)+"=":w.length%3===1&&(_=_.substring(0,_.length-2)+"=="),_}function or(m,w){var _="";if(m&&(_=rr.call(m)),m&&(_==="[object ArrayBuffer]"||m.buffer&&rr.call(m.buffer)==="[object ArrayBuffer]")){var P,T=Re;m instanceof ArrayBuffer?(P=m,T+=Un):(P=m.buffer,_==="[object Int8Array]"?T+=fi:_==="[object Uint8Array]"?T+=mi:_==="[object Uint8ClampedArray]"?T+=er:_==="[object Int16Array]"?T+=nr:_==="[object Uint16Array]"?T+=pi:_==="[object Int32Array]"?T+=Zn:_==="[object Uint32Array]"?T+=gi:_==="[object Float32Array]"?T+=ir:_==="[object Float64Array]"?T+=_i:w(new Error("Failed to get type for BinaryArray"))),w(T+_n(P))}else if(_==="[object Blob]"){var y=new FileReader;y.onload=function(){var M=tr+m.type+"~"+_n(this.result);w(Re+gn+M)},y.readAsArrayBuffer(m)}else try{w(JSON.stringify(m))}catch(M){console.error("Couldn't convert value into a JSON string: ",m),w(null,M)}}function bo(m){if(m.substring(0,di)!==Re)return JSON.parse(m);var w=m.substring(vi),_=m.substring(di,vi),P;if(_===gn&&Fn.test(w)){var T=w.match(Fn);P=T[1],w=w.substring(T[0].length)}var y=yi(w);switch(_){case Un:return y;case gn:return S([y],{type:P});case fi:return new Int8Array(y);case mi:return new Uint8Array(y);case er:return new Uint8ClampedArray(y);case nr:return new Int16Array(y);case pi:return new Uint16Array(y);case Zn:return new Int32Array(y);case gi:return new Uint32Array(y);case ir:return new Float32Array(y);case _i:return new Float64Array(y);default:throw new Error("Unkown type: "+_)}}var Ne={serialize:or,deserialize:bo,stringToBuffer:yi,bufferToString:_n};function sr(m,w,_,P){m.executeSql("CREATE TABLE IF NOT EXISTS "+w.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],_,P)}function wo(m){var w=this,_={db:null};if(m)for(var P in m)_[P]=typeof m[P]!="string"?m[P].toString():m[P];var T=new g(function(y,M){try{_.db=openDatabase(_.name,String(_.version),_.description,_.size)}catch(j){return M(j)}_.db.transaction(function(j){sr(j,_,function(){w._dbInfo=_,y()},function(X,K){M(K)})},M)});return _.serializer=Ne,T}function Se(m,w,_,P,T,y){m.executeSql(_,P,T,function(M,j){j.code===j.SYNTAX_ERR?M.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[w.storeName],function(X,K){K.rows.length?y(X,j):sr(X,w,function(){X.executeSql(_,P,T,y)},y)},y):y(M,j)},y)}function ar(m,w){var _=this;m=C(m);var P=new g(function(T,y){_.ready().then(function(){var M=_._dbInfo;M.db.transaction(function(j){Se(j,M,"SELECT * FROM "+M.storeName+" WHERE key = ? LIMIT 1",[m],function(X,K){var J=K.rows.length?K.rows.item(0).value:null;J&&(J=M.serializer.deserialize(J)),T(J)},function(X,K){y(K)})})}).catch(y)});return x(P,w),P}function lr(m,w){var _=this,P=new g(function(T,y){_.ready().then(function(){var M=_._dbInfo;M.db.transaction(function(j){Se(j,M,"SELECT * FROM "+M.storeName,[],function(X,K){for(var J=K.rows,rt=J.length,mt=0;mt<rt;mt++){var ct=J.item(mt),Ct=ct.value;if(Ct&&(Ct=M.serializer.deserialize(Ct)),Ct=m(Ct,ct.key,mt+1),Ct!==void 0){T(Ct);return}}T()},function(X,K){y(K)})})}).catch(y)});return x(P,w),P}function ur(m,w,_,P){var T=this;m=C(m);var y=new g(function(M,j){T.ready().then(function(){w===void 0&&(w=null);var X=w,K=T._dbInfo;K.serializer.serialize(w,function(J,rt){rt?j(rt):K.db.transaction(function(mt){Se(mt,K,"INSERT OR REPLACE INTO "+K.storeName+" (key, value) VALUES (?, ?)",[m,J],function(){M(X)},function(ct,Ct){j(Ct)})},function(mt){if(mt.code===mt.QUOTA_ERR){if(P>0){M(ur.apply(T,[m,X,_,P-1]));return}j(mt)}})})}).catch(j)});return x(y,_),y}function xo(m,w,_){return ur.apply(this,[m,w,_,1])}function So(m,w){var _=this;m=C(m);var P=new g(function(T,y){_.ready().then(function(){var M=_._dbInfo;M.db.transaction(function(j){Se(j,M,"DELETE FROM "+M.storeName+" WHERE key = ?",[m],function(){T()},function(X,K){y(K)})})}).catch(y)});return x(P,w),P}function Po(m){var w=this,_=new g(function(P,T){w.ready().then(function(){var y=w._dbInfo;y.db.transaction(function(M){Se(M,y,"DELETE FROM "+y.storeName,[],function(){P()},function(j,X){T(X)})})}).catch(T)});return x(_,m),_}function Co(m){var w=this,_=new g(function(P,T){w.ready().then(function(){var y=w._dbInfo;y.db.transaction(function(M){Se(M,y,"SELECT COUNT(key) as c FROM "+y.storeName,[],function(j,X){var K=X.rows.item(0).c;P(K)},function(j,X){T(X)})})}).catch(T)});return x(_,m),_}function To(m,w){var _=this,P=new g(function(T,y){_.ready().then(function(){var M=_._dbInfo;M.db.transaction(function(j){Se(j,M,"SELECT key FROM "+M.storeName+" WHERE id = ? LIMIT 1",[m+1],function(X,K){var J=K.rows.length?K.rows.item(0).key:null;T(J)},function(X,K){y(K)})})}).catch(y)});return x(P,w),P}function bi(m){var w=this,_=new g(function(P,T){w.ready().then(function(){var y=w._dbInfo;y.db.transaction(function(M){Se(M,y,"SELECT key FROM "+y.storeName,[],function(j,X){for(var K=[],J=0;J<X.rows.length;J++)K.push(X.rows.item(J).key);P(K)},function(j,X){T(X)})})}).catch(T)});return x(_,m),_}function Lo(m){return new g(function(w,_){m.transaction(function(P){P.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(T,y){for(var M=[],j=0;j<y.rows.length;j++)M.push(y.rows.item(j).name);w({db:m,storeNames:M})},function(T,y){_(y)})},function(P){_(P)})})}function ko(m,w){w=E.apply(this,arguments);var _=this.config();m=typeof m!="function"&&m||{},m.name||(m.name=m.name||_.name,m.storeName=m.storeName||_.storeName);var P=this,T;return m.name?T=new g(function(y){var M;m.name===_.name?M=P._dbInfo.db:M=openDatabase(m.name,"","",0),m.storeName?y({db:M,storeNames:[m.storeName]}):y(Lo(M))}).then(function(y){return new g(function(M,j){y.db.transaction(function(X){function K(ct){return new g(function(Ct,zt){X.executeSql("DROP TABLE IF EXISTS "+ct,[],function(){Ct()},function(Nt,ne){zt(ne)})})}for(var J=[],rt=0,mt=y.storeNames.length;rt<mt;rt++)J.push(K(y.storeNames[rt]));g.all(J).then(function(){M()}).catch(function(ct){j(ct)})},function(X){j(X)})})}):T=g.reject("Invalid arguments"),x(T,w),T}var Io={_driver:"webSQLStorage",_initStorage:wo,_support:yo(),iterate:lr,getItem:ar,setItem:xo,removeItem:So,clear:Po,length:Co,key:To,keys:bi,dropInstance:ko};function Eo(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function fe(m,w){var _=m.name+"/";return m.storeName!==w.storeName&&(_+=m.storeName+"/"),_}function at(){var m="_localforage_support_test";try{return localStorage.setItem(m,!0),localStorage.removeItem(m),!1}catch{return!0}}function cr(){return!at()||localStorage.length>0}function hr(m){var w=this,_={};if(m)for(var P in m)_[P]=m[P];return _.keyPrefix=fe(m,w._defaultConfig),cr()?(w._dbInfo=_,_.serializer=Ne,g.resolve()):g.reject()}function dr(m){var w=this,_=w.ready().then(function(){for(var P=w._dbInfo.keyPrefix,T=localStorage.length-1;T>=0;T--){var y=localStorage.key(T);y.indexOf(P)===0&&localStorage.removeItem(y)}});return x(_,m),_}function fr(m,w){var _=this;m=C(m);var P=_.ready().then(function(){var T=_._dbInfo,y=localStorage.getItem(T.keyPrefix+m);return y&&(y=T.serializer.deserialize(y)),y});return x(P,w),P}function wi(m,w){var _=this,P=_.ready().then(function(){for(var T=_._dbInfo,y=T.keyPrefix,M=y.length,j=localStorage.length,X=1,K=0;K<j;K++){var J=localStorage.key(K);if(J.indexOf(y)===0){var rt=localStorage.getItem(J);if(rt&&(rt=T.serializer.deserialize(rt)),rt=m(rt,J.substring(M),X++),rt!==void 0)return rt}}});return x(P,w),P}function mr(m,w){var _=this,P=_.ready().then(function(){var T=_._dbInfo,y;try{y=localStorage.key(m)}catch{y=null}return y&&(y=y.substring(T.keyPrefix.length)),y});return x(P,w),P}function Qe(m){var w=this,_=w.ready().then(function(){for(var P=w._dbInfo,T=localStorage.length,y=[],M=0;M<T;M++){var j=localStorage.key(M);j.indexOf(P.keyPrefix)===0&&y.push(j.substring(P.keyPrefix.length))}return y});return x(_,m),_}function pr(m){var w=this,_=w.keys().then(function(P){return P.length});return x(_,m),_}function Ao(m,w){var _=this;m=C(m);var P=_.ready().then(function(){var T=_._dbInfo;localStorage.removeItem(T.keyPrefix+m)});return x(P,w),P}function Oo(m,w,_){var P=this;m=C(m);var T=P.ready().then(function(){w===void 0&&(w=null);var y=w;return new g(function(M,j){var X=P._dbInfo;X.serializer.serialize(w,function(K,J){if(J)j(J);else try{localStorage.setItem(X.keyPrefix+m,K),M(y)}catch(rt){(rt.name==="QuotaExceededError"||rt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&j(rt),j(rt)}})})});return x(T,_),T}function Mo(m,w){if(w=E.apply(this,arguments),m=typeof m!="function"&&m||{},!m.name){var _=this.config();m.name=m.name||_.name,m.storeName=m.storeName||_.storeName}var P=this,T;return m.name?T=new g(function(y){m.storeName?y(fe(m,P._defaultConfig)):y(m.name+"/")}).then(function(y){for(var M=localStorage.length-1;M>=0;M--){var j=localStorage.key(M);j.indexOf(y)===0&&localStorage.removeItem(j)}}):T=g.reject("Invalid arguments"),x(T,w),T}var Do={_driver:"localStorageWrapper",_initStorage:hr,_support:Eo(),iterate:wi,getItem:fr,setItem:Oo,removeItem:Ao,clear:dr,length:pr,key:mr,keys:Qe,dropInstance:Mo},gr=function(w,_){return w===_||typeof w=="number"&&typeof _=="number"&&isNaN(w)&&isNaN(_)},Bo=function(w,_){for(var P=w.length,T=0;T<P;){if(gr(w[T],_))return!0;T++}return!1},vn=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"},yn={},_r={},tn={INDEXEDDB:hi,WEBSQL:Io,LOCALSTORAGE:Do},Ro=[tn.INDEXEDDB._driver,tn.WEBSQL._driver,tn.LOCALSTORAGE._driver],Hn=["dropInstance"],bn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Hn),wn={description:"",driver:Ro.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function vr(m,w){m[w]=function(){var _=arguments;return m.ready().then(function(){return m[w].apply(m,_)})}}function $n(){for(var m=1;m<arguments.length;m++){var w=arguments[m];if(w)for(var _ in w)w.hasOwnProperty(_)&&(vn(w[_])?arguments[0][_]=w[_].slice():arguments[0][_]=w[_])}return arguments[0]}var xn=function(){function m(w){h(this,m);for(var _ in tn)if(tn.hasOwnProperty(_)){var P=tn[_],T=P._driver;this[_]=T,yn[T]||this.defineDriver(P)}this._defaultConfig=$n({},wn),this._config=$n({},this._defaultConfig,w),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return m.prototype.config=function(_){if((typeof _>"u"?"undefined":u(_))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var P in _){if(P==="storeName"&&(_[P]=_[P].replace(/\W/g,"_")),P==="version"&&typeof _[P]!="number")return new Error("Database version must be a number.");this._config[P]=_[P]}return"driver"in _&&_.driver?this.setDriver(this._config.driver):!0}else return typeof _=="string"?this._config[_]:this._config},m.prototype.defineDriver=function(_,P,T){var y=new g(function(M,j){try{var X=_._driver,K=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!_._driver){j(K);return}for(var J=bn.concat("_initStorage"),rt=0,mt=J.length;rt<mt;rt++){var ct=J[rt],Ct=!Bo(Hn,ct);if((Ct||_[ct])&&typeof _[ct]!="function"){j(K);return}}var zt=function(){for(var Pe=function(Si){return function(){var Vn=new Error("Method "+Si+" is not implemented by the current driver"),Pi=g.reject(Vn);return x(Pi,arguments[arguments.length-1]),Pi}},Sn=0,xi=Hn.length;Sn<xi;Sn++){var en=Hn[Sn];_[en]||(_[en]=Pe(en))}};zt();var Nt=function(Pe){yn[X]&&console.info("Redefining LocalForage driver: "+X),yn[X]=_,_r[X]=Pe,M()};"_support"in _?_._support&&typeof _._support=="function"?_._support().then(Nt,j):Nt(!!_._support):Nt(!0)}catch(ne){j(ne)}});return D(y,P,T),y},m.prototype.driver=function(){return this._driver||null},m.prototype.getDriver=function(_,P,T){var y=yn[_]?g.resolve(yn[_]):g.reject(new Error("Driver not found."));return D(y,P,T),y},m.prototype.getSerializer=function(_){var P=g.resolve(Ne);return D(P,_),P},m.prototype.ready=function(_){var P=this,T=P._driverSet.then(function(){return P._ready===null&&(P._ready=P._initDriver()),P._ready});return D(T,_,_),T},m.prototype.setDriver=function(_,P,T){var y=this;vn(_)||(_=[_]);var M=this._getSupportedDrivers(_);function j(){y._config.driver=y.driver()}function X(rt){return y._extend(rt),j(),y._ready=y._initStorage(y._config),y._ready}function K(rt){return function(){var mt=0;function ct(){for(;mt<rt.length;){var Ct=rt[mt];return mt++,y._dbInfo=null,y._ready=null,y.getDriver(Ct).then(X).catch(ct)}j();var zt=new Error("No available storage method found.");return y._driverSet=g.reject(zt),y._driverSet}return ct()}}var J=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=J.then(function(){var rt=M[0];return y._dbInfo=null,y._ready=null,y.getDriver(rt).then(function(mt){y._driver=mt._driver,j(),y._wrapLibraryMethodsWithReady(),y._initDriver=K(M)})}).catch(function(){j();var rt=new Error("No available storage method found.");return y._driverSet=g.reject(rt),y._driverSet}),D(this._driverSet,P,T),this._driverSet},m.prototype.supports=function(_){return!!_r[_]},m.prototype._extend=function(_){$n(this,_)},m.prototype._getSupportedDrivers=function(_){for(var P=[],T=0,y=_.length;T<y;T++){var M=_[T];this.supports(M)&&P.push(M)}return P},m.prototype._wrapLibraryMethodsWithReady=function(){for(var _=0,P=bn.length;_<P;_++)vr(this,bn[_])},m.prototype.createInstance=function(_){return new m(_)},m}(),kt=new xn;s.exports=kt},{3:3}]},{},[4])(4)})}(ps)),ps.exports}var Zm=Um();const rc=Bu(Zm);class Xs{_items=[];_updateReactiveStore;storage=rc;constructor(e,i){this._items=e||[],this._updateReactiveStore=i}static async create(e,i){const s=new Xs(e,i);try{await s.initStorage()}catch(l){console.error("Storage initialization failed:",l)}return s}async initStorage(){if(this.storage){this.storage.config({name:"MediaApp",storeName:"mediaItems"});try{const e=await this.storage.getItem("items");e?.length?(this._items=e.map(i=>{const s={...i,added:new Date(i.added)};return i.storageType?i.storageType==="remote"?{...s,storageType:"remote",remoteUrl:i.remoteUrl||i.src}:{...s,storageType:"local"}:{...s,storageType:"local"}}),this._updateReactiveStore("items",this._items)):await this.loadInitialData()}catch(e){console.error("Error initializing storage:",e),await this.loadInitialData()}}else await this.loadInitialData()}async loadInitialData(){try{this._items=await Fm(30),this._updateReactiveStore("items",this._items),this.storage&&await this.saveItems()}catch(e){console.error("Error loading initial data:",e)}}async loadItems(){if(this.storage)try{const e=await this.storage.getItem("items")||[];this._items=e.map(i=>{const s={...i,added:new Date(i.added)};return i.storageType?i.storageType==="remote"?{...s,storageType:"remote",remoteUrl:i.remoteUrl||i.src}:{...s,storageType:"local"}:{...s,storageType:"local"}}),this._updateReactiveStore("items",this._items)}catch(e){console.error("Error loading items:",e)}}async saveItems(){if(this.storage)try{const e=this._items.map(i=>({...i,added:i.added.toISOString()}));await this.storage.setItem("items",e)}catch(e){console.error("Error saving items:",e)}}async addMediaItem(e,i,s,l){const u={id:$i.createId(),title:e||"New Item",src:i,added:new Date,location:l};let h;s==="remote"?h={...u,storageType:"remote"}:h={...u,storageType:"local"},this._items=[...this._items,h],this._updateReactiveStore("items",this._items),await this.saveItems()}async deleteMediaItem(e){this._items=this._items.filter(i=>i.id!==e),this._updateReactiveStore("items",this._items),await this.saveItems()}async updateMediaItem(e,i,s,l,u){this._items=this._items.map(h=>{if(h.id!==e)return h;const d={...h,title:i,src:s,location:u??h.location};return l==="remote"?{...d,storageType:"remote",remoteUrl:s}:{...d,storageType:"local"}}),this._updateReactiveStore("items",this._items),await this.saveItems()}getItemById(e){return this._items.find(i=>i.id===e)}}var Hm={};lo(Hm,{Fallback:()=>sc,Image:()=>vo,Img:()=>ac,Root:()=>lc,useImageContext:()=>Ys});var oc=Yi();function Ys(){const r=Ji(oc);if(r===void 0)throw new Error("[kobalte]: `useImageContext` must be used within an `Image.Root` component");return r}function sc(r){const e=Ys(),[i,s]=vt(e.fallbackDelay()===void 0);return At(()=>{const l=e.fallbackDelay();if(l!==void 0){const u=window.setTimeout(()=>s(!0),l);Rt(()=>window.clearTimeout(u))}}),V(re,{get when(){return hn(()=>!!i())()&&e.imageLoadingStatus()!=="loaded"},get children(){return V(ge,Tt({as:"span"},r))}})}function ac(r){const e=Ys(),[i,s]=vt("idle");return At(Xi(()=>r.src,l=>{if(!l){s("error");return}let u=!0;const h=new window.Image,d=p=>()=>{u&&s(p)};s("loading"),h.onload=d("loaded"),h.onerror=d("error"),h.src=l,Rt(()=>{u=!1})})),At(()=>{const l=i();l!=="idle"&&e.onImageLoadingStatusChange(l)}),V(re,{get when(){return i()==="loaded"},get children(){return V(ge,Tt({as:"img"},r))}})}function lc(r){const[e,i]=Dt(r,["fallbackDelay","onLoadingStatusChange"]),[s,l]=vt("idle"),u={fallbackDelay:()=>e.fallbackDelay,imageLoadingStatus:s,onImageLoadingStatusChange:h=>{l(h),e.onLoadingStatusChange?.(h)}};return V(oc.Provider,{value:u,get children(){return V(ge,Tt({as:"span"},i))}})}var vo=Object.assign(lc,{Fallback:sc,Img:ac});const $m=r=>{const[e,i]=Dt(r,["class"]);return V(vo,Tt({get class(){return ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e.class)}},i))},Vm=r=>{const[e,i]=Dt(r,["class"]);return V(vo.Img,Tt({get class(){return ue("aspect-square h-full w-full",e.class)}},i))},Gm=r=>{const[e,i]=Dt(r,["class"]);return V(vo.Fallback,Tt({get class(){return ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e.class)}},i))};var Wm=Bt('<div class="divide-y pb-safe"><div class="h-16 md:h-8">'),jm=Bt("<div><main class=flex-1>"),Km=Bt('<div class="flex flex-col items-center justify-center h-full text-muted-foreground p-8"><div class="i-mdi-image-multiple h-16 w-16 mb-4"></div><p class="text-lg font-medium mb-2">Keine Medien vorhanden</p><p class="text-sm text-center">Tippen Sie auf das + Symbol, um Ihr erstes Medium hinzuzufügen'),qm=Bt('<div class="i-mdi-image h-8 w-8 text-muted-foreground">'),Xm=Bt('<div class="i-mdi-dots-vertical h-5 w-5">'),Ym=Bt('<div class="flex items-center px-4 py-3 hover:bg-muted/50 transition-colors active:bg-muted/80"><button type=button class="flex-1 flex items-center gap-3 cursor-pointer touch-manipulation bg-transparent border-none p-0 text-left"><div class="w-16 h-16 shrink-0 rounded-lg overflow-hidden bg-muted"></div><div class="flex-1 min-w-0"><h3 class="font-medium truncate text-base"></h3><p class="text-sm text-muted-foreground"></p><div class="flex items-center gap-1 mt-1"><div></div><span class="text-xs text-muted-foreground">');function Jm(r){const e=()=>r.storageFilter==="all"?r.items:r.items.filter(i=>i.storageType===r.storageFilter);return(()=>{var i=jm(),s=i.firstChild;return Et(s,V(re,{get when(){return r.items.length>0},get fallback(){return Km()},get children(){var l=Wm(),u=l.firstChild;return Et(l,V(Ch,{get each(){return e()},children:h=>(()=>{var d=Ym(),p=d.firstChild,v=p.firstChild,S=v.nextSibling,g=S.firstChild,x=g.nextSibling,D=x.nextSibling,C=D.firstChild,E=C.nextSibling;return p.$$click=()=>r.onSelectItem(h),Et(v,V($m,{class:"w-full h-full relative flex shrink-0 overflow-hidden rounded-lg",get children(){return[V(Vm,{get src(){return h.src},get alt(){return h.title},class:"w-full h-full object-cover"}),V(Gm,{class:"w-full h-full flex items-center justify-center bg-muted",get children(){return qm()}})]}})),Et(g,()=>h.title),Et(x,()=>h.added.toLocaleDateString("de-DE")),Et(E,()=>h.storageType==="local"?"Lokal":"Remote"),Et(d,V(We,{variant:"ghost",size:"icon",onClick:()=>r.onShowOptions(h),class:"shrink-0 touch-manipulation",get children(){return Xm()}}),null),le(()=>Mn(C,`w-2 h-2 rounded-full ${h.storageType==="local"?"bg-green-500":"bg-blue-500"}`)),d})()}),u),l}})),le(()=>Mn(i,`flex flex-col h-screen transition-opacity duration-300 ${r.isDialogOpen?"opacity-30":"opacity-100"}`)),i})()}si(["click"]);var Qm=Bt('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"class="h-4 w-4"><path fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M18 6L6 18M6 6l12 12"></path><title>Close');const tp=Yt,ep=Yt.Trigger,np=Us("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out duration-200 data-[expanded]:animate-in data-[expanded]:duration-200 data-[closed]:animate-out data-[closed]:duration-200",{variants:{side:{top:"inset-x-0 top-0 border-b data-[closed]:slide-out-to-top data-[expanded]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[closed]:slide-out-to-bottom data-[expanded]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[closed]:slide-out-to-left data-[expanded]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[closed]:slide-out-to-right data-[expanded]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ip=r=>{const e=Tt({side:"right"},r),[i,s]=Dt(e,["class","children","side"]);return V(Yt.Portal,{get children(){return[V(Yt.Overlay,Tt({get class(){return ue("fixed inset-0 z-50 bg-background/80 data-[expanded]:animate-in data-[expanded]:fade-in-0 data-[closed]:animate-out data-[closed]:fade-out-0")}},s)),V(Yt.Content,Tt({get class(){return np({side:i.side,class:i.class})}},s,{get children(){return[hn(()=>i.children),V(Yt.CloseButton,{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-1.5 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none bg-inherit transition-property-[opacity,box-shadow]",get children(){return Qm()}})]}}))]}})},rp=r=>{const[e,i]=Dt(r,["class"]);return V(Yt.Title,Tt({get class(){return ue("text-lg font-semibold text-foreground",e.class)}},i))},As=Symbol("store-raw"),ni=Symbol("store-node"),je=Symbol("store-has"),uc=Symbol("store-self");function cc(r){let e=r[ke];if(!e&&(Object.defineProperty(r,ke,{value:e=new Proxy(r,ap)}),!Array.isArray(r))){const i=Object.keys(r),s=Object.getOwnPropertyDescriptors(r);for(let l=0,u=i.length;l<u;l++){const h=i[l];s[h].get&&Object.defineProperty(r,h,{enumerable:s[h].enumerable,get:s[h].get.bind(e)})}}return e}function eo(r){let e;return r!=null&&typeof r=="object"&&(r[ke]||!(e=Object.getPrototypeOf(r))||e===Object.prototype||Array.isArray(r))}function Ki(r,e=new Set){let i,s,l,u;if(i=r!=null&&r[As])return i;if(!eo(r)||e.has(r))return r;if(Array.isArray(r)){Object.isFrozen(r)?r=r.slice(0):e.add(r);for(let h=0,d=r.length;h<d;h++)l=r[h],(s=Ki(l,e))!==l&&(r[h]=s)}else{Object.isFrozen(r)?r=Object.assign({},r):e.add(r);const h=Object.keys(r),d=Object.getOwnPropertyDescriptors(r);for(let p=0,v=h.length;p<v;p++)u=h[p],!d[u].get&&(l=r[u],(s=Ki(l,e))!==l&&(r[u]=s))}return r}function no(r,e){let i=r[e];return i||Object.defineProperty(r,e,{value:i=Object.create(null)}),i}function qi(r,e,i){if(r[e])return r[e];const[s,l]=vt(i,{equals:!1,internal:!0});return s.$=l,r[e]=s}function op(r,e){const i=Reflect.getOwnPropertyDescriptor(r,e);return!i||i.get||!i.configurable||e===ke||e===ni||(delete i.value,delete i.writable,i.get=()=>r[ke][e]),i}function hc(r){_s()&&qi(no(r,ni),uc)()}function sp(r){return hc(r),Reflect.ownKeys(r)}const ap={get(r,e,i){if(e===As)return r;if(e===ke)return i;if(e===gs)return hc(r),i;const s=no(r,ni),l=s[e];let u=l?l():r[e];if(e===ni||e===je||e==="__proto__")return u;if(!l){const h=Object.getOwnPropertyDescriptor(r,e);_s()&&(typeof u!="function"||r.hasOwnProperty(e))&&!(h&&h.get)&&(u=qi(s,e,u)())}return eo(u)?cc(u):u},has(r,e){return e===As||e===ke||e===gs||e===ni||e===je||e==="__proto__"?!0:(_s()&&qi(no(r,je),e)(),e in r)},set(){return!0},deleteProperty(){return!0},ownKeys:sp,getOwnPropertyDescriptor:op};function io(r,e,i,s=!1){if(!s&&r[e]===i)return;const l=r[e],u=r.length;i===void 0?(delete r[e],r[je]&&r[je][e]&&l!==void 0&&r[je][e].$()):(r[e]=i,r[je]&&r[je][e]&&l===void 0&&r[je][e].$());let h=no(r,ni),d;if((d=qi(h,e,l))&&d.$(()=>i),Array.isArray(r)&&r.length!==u){for(let p=r.length;p<u;p++)(d=h[p])&&d.$();(d=qi(h,"length",u))&&d.$(r.length)}(d=h[uc])&&d.$()}function dc(r,e){const i=Object.keys(e);for(let s=0;s<i.length;s+=1){const l=i[s];io(r,l,e[l])}}function lp(r,e){if(typeof e=="function"&&(e=e(r)),e=Ki(e),Array.isArray(e)){if(r===e)return;let i=0,s=e.length;for(;i<s;i++){const l=e[i];r[i]!==l&&io(r,i,l)}io(r,"length",s)}else dc(r,e)}function Ui(r,e,i=[]){let s,l=r;if(e.length>1){s=e.shift();const h=typeof s,d=Array.isArray(r);if(Array.isArray(s)){for(let p=0;p<s.length;p++)Ui(r,[s[p]].concat(e),i);return}else if(d&&h==="function"){for(let p=0;p<r.length;p++)s(r[p],p)&&Ui(r,[p].concat(e),i);return}else if(d&&h==="object"){const{from:p=0,to:v=r.length-1,by:S=1}=s;for(let g=p;g<=v;g+=S)Ui(r,[g].concat(e),i);return}else if(e.length>1){Ui(r[s],e,[s].concat(i));return}l=r[s],i=[s].concat(i)}let u=e[0];typeof u=="function"&&(u=u(l,i),u===l)||s===void 0&&u==null||(u=Ki(u),s===void 0||eo(l)&&eo(u)&&!Array.isArray(u)?dc(l,u):io(r,s,u))}function up(...[r,e]){const i=Ki(r||{}),s=Array.isArray(i),l=cc(i);function u(...h){mh(()=>{s&&h.length===1?lp(i,h[0]):Ui(i,h)})}return[l,u]}const cp=r=>typeof r=="function"&&!r.length?r():r,hp={enableHighAccuracy:!1,maximumAge:0,timeout:Number.POSITIVE_INFINITY},dp=r=>{const[e,{refetch:i}]=fh(()=>Object.assign(hp,cp(r)),s=>new Promise((l,u)=>{if(!("geolocation"in navigator))return u("Geolocation is not supported.");navigator.geolocation.getCurrentPosition(h=>l(h.coords),h=>u(Object.assign(new Error(h.message),h)),s)}));return[e,i]},fp=r=>{const[e,i]=vt("unknown"),[s,l]=vt();return navigator&&(navigator.permissions.query(typeof r=="string"?{name:r}:r).then(l).catch(u=>{if(u.name!=="TypeError"||r!=="microphone"&&r!=="camera")return;i("prompt");const h=r==="camera"?"video":"audio",d=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=p=>p?.[h]?d(p).then(v=>(i("granted"),v)).catch(v=>(/not allowed/.test(v.message)&&i("denied"),Promise.reject(v))):d(p)}),At(Xi(s,u=>{if(u){i(u.state);const h=()=>i(u.state);u.addEventListener("change",h),Rt(()=>u.removeEventListener("change",h))}}))),e};var mp=Bt("<div style=width:100%;height:100%;min-height:400px;z-index:0;>");const pp={lat:52.5244,lng:13.4105};function gp(r){let e=null,i,s;const l=fp({name:"geolocation"}),[u]=dp({enableHighAccuracy:!0,timeout:5e3});function h(){return l()==="granted"&&u()?.latitude&&u()?.longitude?{lat:u().latitude,lng:u().longitude}:pp}const d=v=>{e=v};ri(()=>{e&&(i=In.map(e).setView([h().lat,h().lng],13),In.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(i),s=In.layerGroup().addTo(i),p())}),At(()=>{i&&l()==="granted"&&u()?.latitude&&u()?.longitude&&i.setView([u().latitude,u().longitude],13)});function p(){if(s){s.clearLayers();for(const v of r.items){const S=v.location||h(),g=In.marker([S.lat,S.lng]).bindPopup(v.title);s.addLayer(g)}}}return Rt(()=>{i&&i.remove()}),(()=>{var v=mp();return Ds(d,v),v})()}var _p=Bt('<div class="i-mdi-menu h-7 w-7 cursor-pointer bg-primary text-primary-foreground rounded-full p-1 hover:bg-primary/80 transition"aria-label="Menü öffnen">'),vp=Bt('<div class="i-mdi-plus h-6 w-6">'),yp=Bt('<div class="i-mdi-delete h-6 w-6">'),bp=Bt('<div class="flex justify-center gap-1"><button type=button>Alle</button><button type=button>Lokal</button><button type=button>Remote'),wp=Bt('<div class="flex flex-col h-screen"><header class="flex items-center justify-between p-4 border-b-2 border-border bg-background shadow-sm shrink-0"><span class="text-lg font-semibold">Medien</span><div class="flex gap-2"></div></header><main class="flex-1 overflow-auto z-0"></main><footer class="border-t bg-background shrink-0 p-2">'),xp=Bt('<div class="flex flex-col gap-4 mt-6">'),Sp=Bt('<div class="py-2 text-center">Möchten Sie das Element <b></b> wirklich löschen?');function Pp(){const[r,e]=up({items:[]}),[i,s]=vt("list"),[l,u]=vt("none"),[h,d]=vt(),[p,v]=vt(!1),[S,g]=vt("all"),[x,D]=vt(!1),[C,E]=vt(),[G,Q]=vt(!1);let F;ri(async()=>{F=await Xs.create([],e)});const q=()=>{u("create"),d(void 0)},H=it=>{u("edit"),d(it)},k=async(it,$,O,Z)=>{try{const nt=h();l()==="create"?await F.addMediaItem(it,$,O,Z):l()==="edit"&&nt&&await F.updateMediaItem(nt.id,it,$,O,Z),u("none"),d(void 0)}catch(nt){console.error("Error saving item:",nt)}},U=async()=>{try{const it=h();it&&(await F.deleteMediaItem(it.id),u("none"),d(void 0))}catch(it){console.error("Error deleting item:",it)}},Y=()=>{s("list"),d(void 0)},N=()=>l()!=="none"||p(),B=it=>{g(it)},R=it=>{E(it),D(!0)},z=async()=>{const it=C();it&&(await F.deleteMediaItem(it.id),i()==="detail"&&s("list"),d(void 0)),D(!1),E(void 0)},tt=()=>{D(!1),E(void 0)};function _t(it){const $="px-3 py-1 text-xs rounded transition-colors ";return S()===it?`${$} bg-primary text-primary-foreground`:`${$} bg-muted text-muted-foreground hover:bg-muted/80`}function wt(it){return i()===it?"default":"ghost"}function $t(){if(l()==="edit")return U}function Lt(){return l()==="create"?"create":"edit"}return V(tp,{get open(){return G()},onOpenChange:Q,get children(){return[(()=>{var it=wp(),$=it.firstChild,O=$.firstChild,Z=O.nextSibling,nt=$.nextSibling,ft=nt.nextSibling;return Et($,V(ep,{get children(){return _p()}}),O),Et(Z,V(re,{get when(){return i()==="list"},get children(){return V(We,{variant:"ghost",size:"icon",onClick:q,title:"Medium hinzufügen",get children(){return vp()}})}}),null),Et(Z,V(re,{get when(){return hn(()=>i()==="detail")()&&h()},get children(){return V(We,{variant:"destructive",size:"icon",onClick:()=>R(h()),title:"Löschen",get children(){return yp()}})}}),null),Et(nt,V(Th,{get children(){return[V(is,{get when(){return i()==="list"},get children(){return V(Jm,{get items(){return r.items},onAddItem:q,onEditItem:H,onDeleteItem:()=>{},onSelectItem:lt=>{d(lt),s("detail")},onShowOptions:lt=>{d(lt),v(!0)},get isDialogOpen(){return N()},get storageFilter(){return S()},onStorageFilterChange:B})}}),V(is,{get when(){return i()==="overview"},get children(){return V(gp,{get items(){return r.items}})}}),V(is,{get when(){return hn(()=>i()==="detail")()&&h()},get children(){return V(Hf,{get item(){return h()},onBack:Y,onDelete:()=>R(h()),onOpenMenu:()=>Q(!0)})}})]}})),Et(ft,V(re,{get when(){return i()==="list"},get children(){var lt=bp(),ut=lt.firstChild,yt=ut.nextSibling,pt=yt.nextSibling;return ut.$$click=()=>B("all"),yt.$$click=()=>B("local"),pt.$$click=()=>B("remote"),le(xt=>{var ee=_t("all"),_e=_t("local"),de=_t("remote");return ee!==xt.e&&Mn(ut,xt.e=ee),_e!==xt.t&&Mn(yt,xt.t=_e),de!==xt.a&&Mn(pt,xt.a=de),xt},{e:void 0,t:void 0,a:void 0}),lt}})),it})(),V(ip,{side:"top",class:"fixed inset-0 w-full h-full max-w-full max-h-full z-[3001] flex flex-col bg-background",get children(){return[V(rp,{children:"Ansicht wechseln"}),(()=>{var it=xp();return Et(it,V(We,{get variant(){return wt("list")},onClick:()=>{s("list"),Q(!1)},children:"Listenansicht"}),null),Et(it,V(We,{get variant(){return wt("overview")},onClick:()=>{s("overview"),Q(!1)},children:"Kartenansicht"}),null),it})()]}}),V(Em,{get isOpen(){return l()!=="none"},onClose:()=>{u("none"),d(void 0)},onSave:k,get onDelete(){return $t()},get item(){return h()},get mode(){return Lt()}}),V(Of,{get isOpen(){return p()},onClose:()=>{v(!1)},onEdit:()=>{v(!1);const it=h();it&&H(it)},onDelete:()=>{v(!1);const it=h();it&&R(it)},get item(){return h()}}),V(zs,{get open(){return x()},onOpenChange:D,get children(){return V(Du,{get children(){return[V(Fs,{children:"Löschvorgang bestätigen"}),(()=>{var it=Sp(),$=it.firstChild,O=$.nextSibling;return Et(O,()=>C()?.title),it})(),V(Ef,{get children(){return[V(We,{variant:"ghost",onClick:tt,children:"Abbrechen"}),V(We,{variant:"destructive",onClick:z,children:"Löschen"})]}})]}})}})]}})}si(["click"]);async function Cp(){try{await rc.createInstance({name:"MediaApp",storeName:"mediaItems"}).clear(),console.log("Media storage cleared successfully"),window.location.reload()}catch(r){console.error("Error clearing media storage:",r)}}window.clearMediaStorage=Cp;var Tp=Bt('<div class="h-screen bg-background text-foreground">');const Lp=()=>(()=>{var r=Tp();return Et(r,V(Pp,{})),r})(),fc=document.getElementById("root");if(!fc)throw new Error("Root element not found");Nh(()=>V(Lp,{}),fc);
